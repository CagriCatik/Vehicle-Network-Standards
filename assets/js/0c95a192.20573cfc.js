"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[9925],{14164:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"UDS/examples/Diagnostics-Sessions-Example","title":"Examples - 0x10","description":"Example 1: Initiating a Default Session (0x01)","source":"@site/docs/UDS/04_examples/01_Diagnostics-Sessions-Example.md","sourceDirName":"UDS/04_examples","slug":"/UDS/examples/Diagnostics-Sessions-Example","permalink":"/Vehicle-Network-Standards/docs/UDS/examples/Diagnostics-Sessions-Example","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/04_examples/01_Diagnostics-Sessions-Example.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"udsSidebar","previous":{"title":"Examples","permalink":"/Vehicle-Network-Standards/docs/category/examples"},"next":{"title":"Examples - 0x19","permalink":"/Vehicle-Network-Standards/docs/UDS/examples/Control-DTC-Example"}}');var t=n(74848),r=n(28453);const d={sidebar_position:1},o="Examples - 0x10",c={},l=[{value:"Example 1: Initiating a Default Session (0x01)",id:"example-1-initiating-a-default-session-0x01",level:2},{value:"Scenario",id:"scenario",level:3},{value:"Request Message",id:"request-message",level:3},{value:"Response Message",id:"response-message",level:3},{value:"Example 2: Initiating a Programming Session (0x02)",id:"example-2-initiating-a-programming-session-0x02",level:2},{value:"Scenario",id:"scenario-1",level:3},{value:"Request Message",id:"request-message-1",level:3},{value:"Response Message",id:"response-message-1",level:3},{value:"Example 3: Switching to an Extended Diagnostic Session (0x03)",id:"example-3-switching-to-an-extended-diagnostic-session-0x03",level:2},{value:"Scenario",id:"scenario-2",level:3},{value:"Request Message",id:"request-message-2",level:3},{value:"Response Message",id:"response-message-2",level:3},{value:"Example 4: Initiating a Safety System Diagnostic Session (0x04)",id:"example-4-initiating-a-safety-system-diagnostic-session-0x04",level:2},{value:"Scenario",id:"scenario-3",level:3},{value:"Request Message",id:"request-message-3",level:3},{value:"Response Message",id:"response-message-3",level:3},{value:"Example 5: Error Handling - Conditions Not Correct (0x22)",id:"example-5-error-handling---conditions-not-correct-0x22",level:2},{value:"Scenario",id:"scenario-4",level:3},{value:"Request Message",id:"request-message-4",level:3},{value:"Response Message (Error: Conditions Not Correct)",id:"response-message-error-conditions-not-correct",level:3},{value:"Python Example Code for Diagnostic Session Control (0x10)",id:"python-example-code-for-diagnostic-session-control-0x10",level:2},{value:"Python Code to Send UDS Request (Initiate Extended Diagnostic Session)",id:"python-code-to-send-uds-request-initiate-extended-diagnostic-session",level:3},{value:"Python Code to Receive UDS Response",id:"python-code-to-receive-uds-response",level:3},{value:"CAPL Example Code for Diagnostic Session Control (0x10)",id:"capl-example-code-for-diagnostic-session-control-0x10",level:2},{value:"CAPL Script to Initiate Default Session",id:"capl-script-to-initiate-default-session",level:3},{value:"Conclusion",id:"conclusion",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"examples---0x10",children:"Examples - 0x10"})}),"\n",(0,t.jsx)(s.h2,{id:"example-1-initiating-a-default-session-0x01",children:"Example 1: Initiating a Default Session (0x01)"}),"\n",(0,t.jsx)(s.h3,{id:"scenario",children:"Scenario"}),"\n",(0,t.jsxs)(s.p,{children:["A technician wants to initiate the ",(0,t.jsx)(s.strong,{children:"Default Session"})," (0x01) to perform basic diagnostics and retrieve vehicle information like the VIN."]}),"\n",(0,t.jsx)(s.h3,{id:"request-message",children:"Request Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x10"})," - Diagnostic Session Control"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x01"})," - Default Session"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Request Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x10 0x01\n"})}),"\n",(0,t.jsx)(s.h3,{id:"response-message",children:"Response Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x50"})," - Positive Response (indicating session start)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x01"})," - Indicates Default Session has been initiated"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Response Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x50 0x01\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"example-2-initiating-a-programming-session-0x02",children:"Example 2: Initiating a Programming Session (0x02)"}),"\n",(0,t.jsx)(s.h3,{id:"scenario-1",children:"Scenario"}),"\n",(0,t.jsxs)(s.p,{children:["The technician needs to initiate the ",(0,t.jsx)(s.strong,{children:"Programming Session"})," (0x02) for ECU flashing or reprogramming."]}),"\n",(0,t.jsx)(s.h3,{id:"request-message-1",children:"Request Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x10"})," - Diagnostic Session Control"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x02"})," - Programming Session"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Request Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x10 0x02\n"})}),"\n",(0,t.jsx)(s.h3,{id:"response-message-1",children:"Response Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x50"})," - Positive Response (indicating session start)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x02"})," - Indicates Programming Session has been started"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Response Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x50 0x02\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"example-3-switching-to-an-extended-diagnostic-session-0x03",children:"Example 3: Switching to an Extended Diagnostic Session (0x03)"}),"\n",(0,t.jsx)(s.h3,{id:"scenario-2",children:"Scenario"}),"\n",(0,t.jsxs)(s.p,{children:["The technician needs to switch to an ",(0,t.jsx)(s.strong,{children:"Extended Diagnostic Session"})," (0x03) to perform in-depth diagnostics, such as clearing DTCs and calibrating ECUs."]}),"\n",(0,t.jsx)(s.h3,{id:"request-message-2",children:"Request Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x10"})," - Diagnostic Session Control"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x03"})," - Extended Diagnostic Session"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Request Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x10 0x03\n"})}),"\n",(0,t.jsx)(s.h3,{id:"response-message-2",children:"Response Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x50"})," - Positive Response (indicating session switch)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x03"})," - Indicates Extended Diagnostic Session is active"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Response Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x50 0x03\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"example-4-initiating-a-safety-system-diagnostic-session-0x04",children:"Example 4: Initiating a Safety System Diagnostic Session (0x04)"}),"\n",(0,t.jsx)(s.h3,{id:"scenario-3",children:"Scenario"}),"\n",(0,t.jsxs)(s.p,{children:["The technician needs to diagnose safety-critical subsystems like airbags or braking systems, so they initiate the ",(0,t.jsx)(s.strong,{children:"Safety System Diagnostic Session"})," (0x04)."]}),"\n",(0,t.jsx)(s.h3,{id:"request-message-3",children:"Request Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x10"})," - Diagnostic Session Control"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x04"})," - Safety System Diagnostic Session"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Request Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x10 0x04\n"})}),"\n",(0,t.jsx)(s.h3,{id:"response-message-3",children:"Response Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x50"})," - Positive Response (indicating session start)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x04"})," - Indicates Safety System Diagnostic Session active"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Response Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x50 0x04\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"example-5-error-handling---conditions-not-correct-0x22",children:"Example 5: Error Handling - Conditions Not Correct (0x22)"}),"\n",(0,t.jsx)(s.h3,{id:"scenario-4",children:"Scenario"}),"\n",(0,t.jsxs)(s.p,{children:["The technician attempts to initiate an ",(0,t.jsx)(s.strong,{children:"Extended Diagnostic Session"})," (0x03), but the ECU cannot enter the session due to a current condition (e.g., the ECU is locked or busy)."]}),"\n",(0,t.jsx)(s.h3,{id:"request-message-4",children:"Request Message"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x10"})," - Diagnostic Session Control"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Subfunction"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x03"})," - Extended Diagnostic Session"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Request Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x10 0x03\n"})}),"\n",(0,t.jsx)(s.h3,{id:"response-message-error-conditions-not-correct",children:"Response Message (Error: Conditions Not Correct)"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Byte Position"}),(0,t.jsx)(s.th,{children:"Length (Bytes)"}),(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x7F"})," - Negative Response (indicating error)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Service ID"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x10"})," - Diagnostic Session Control"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Negative Response Code"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"0x22"})," - Conditions Not Correct"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Response Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"0x7F 0x10 0x22\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"python-example-code-for-diagnostic-session-control-0x10",children:"Python Example Code for Diagnostic Session Control (0x10)"}),"\n",(0,t.jsxs)(s.p,{children:["The following Python code demonstrates how to send a UDS request to initiate and switch between diagnostic sessions using the ",(0,t.jsx)(s.code,{children:"python-can"})," library, assuming a CAN interface (e.g., USB-to-CAN adapter)."]}),"\n",(0,t.jsx)(s.h3,{id:"python-code-to-send-uds-request-initiate-extended-diagnostic-session",children:"Python Code to Send UDS Request (Initiate Extended Diagnostic Session)"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"import can\nimport struct\n\n# Define CAN interface\nbus = can.interface.Bus(channel='can0', bustype='socketcan')\n\n# Function to send UDS request for Diagnostic Session Control\ndef send_diagnostic_session_request(subfunction):\n    # Construct UDS request message for diagnostic session control\n    message = bytearray()\n    message.append(0x10)  # Service ID for Diagnostic Session Control\n    message.append(subfunction)  # Subfunction to control the session\n    \n    # Send message over CAN bus\n    bus.send(can.Message(arbitration_id=0x7E0, data=message))\n\n# Send request to switch to Extended Diagnostic Session\nsend_diagnostic_session_request(0x03)\nprint(\"Request sent to switch to Extended Diagnostic Session\")\n"})}),"\n",(0,t.jsx)(s.h3,{id:"python-code-to-receive-uds-response",children:"Python Code to Receive UDS Response"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:'def receive_diagnostic_session_response():\n    # Listen for a CAN response message\n    message = bus.recv()\n    if message:\n        print(f"Received CAN message: {message}")\n        # Parse UDS response\n        if message.data[0] == 0x50:  # Response to Diagnostic Session Control\n            print("Diagnostic Session Control response received")\n            session_subfunction = message.data[1]\n            print(f"Session switched to: {session_subfunction}")\n        elif message.data[0] == 0x7F:  # Negative response\n            print("Error response received")\n            error_code = message.data[2]\n            print(f"Error Code: {error_code}")\n\n# Wait for response (this is a simple blocking example)\nreceive_diagnostic_session_response()\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"capl-example-code-for-diagnostic-session-control-0x10",children:"CAPL Example Code for Diagnostic Session Control (0x10)"}),"\n",(0,t.jsxs)(s.p,{children:["The following CAPL script demonstrates sending a UDS request to initiate the ",(0,t.jsx)(s.strong,{children:"Default Session"})," and handle the response."]}),"\n",(0,t.jsx)(s.h3,{id:"capl-script-to-initiate-default-session",children:"CAPL Script to Initiate Default Session"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-capl",children:'variables\n{\n  msTimer timer1;\n}\n\non start\n{\n  // Send UDS request to initiate Default Session\n  output(0x10, 0x01);  // 0x10 is the Service ID, 0x01 is the Default Session subfunction\n}\n\non message 0x7E8\n{\n  if (this.byte(0) == 0x50)  // Response to Diagnostic Session Control (0x10)\n  {\n    write("Diagnostic Session Control response received");\n    if (this.byte(1) == 0x01)\n    {\n      write("Default Session initiated successfully");\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Diagnostic Session Control (0x10)"})," service is essential for managing diagnostic access levels within the vehicle's ECUs. Through UDS, diagnostic tools can initiate, switch, and terminate various diagnostic sessions such as ",(0,t.jsx)(s.strong,{children:"Default"}),", ",(0,t.jsx)(s.strong,{children:"Programming"}),", ",(0,t.jsx)(s.strong,{children:"Extended"}),", and ",(0,t.jsx)(s.strong,{children:"Safety System"})," sessions. By understanding the service ID, sub-functions, and message formats, automotive engineers can enhance diagnostic tool capabilities, ensuring seamless access to essential vehicle data and functions."]}),"\n",(0,t.jsxs)(s.p,{children:["These Python and CAPL examples demonstrate how to implement the ",(0,t.jsx)(s.strong,{children:"Diagnostic Session Control"})," service, handle responses, and address potential error scenarios."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>o});var i=n(96540);const t={},r=i.createContext(t);function d(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);