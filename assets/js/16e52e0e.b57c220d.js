"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[73906],{25708:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"UDS/services/Tester-Present","title":"Tester Present Service - 0x03","description":"The Tester Present service is a fundamental diagnostic service defined in the Unified Diagnostic Services (UDS) protocol, standardized under ISO 14229. UDS is extensively utilized in the automotive industry for ECU (Electronic Control Unit) diagnostics, enabling communication between diagnostic testers (tools) and vehicle ECUs. The Tester Present service, identified by Service ID 0x03, plays a critical role in maintaining active and stable communication sessions between the tester and the ECU, especially during complex diagnostic operations.","source":"@site/docs/UDS/02_services/09_Tester-Present.md","sourceDirName":"UDS/02_services","slug":"/UDS/services/Tester-Present","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Tester-Present","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/02_services/09_Tester-Present.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{},"sidebar":"udsSidebar","previous":{"title":"Write Memory by Address - 0x3D","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Write-Memory-by-Address"},"next":{"title":"Communication Control - 0x28","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Communication-Control"}}');var r=s(74848),t=s(28453);const o={},c="Tester Present Service - 0x03",l={},d=[{value:"Key Points:",id:"key-points",level:3},{value:"Purpose of the Tester Present Service",id:"purpose-of-the-tester-present-service",level:2},{value:"Objectives:",id:"objectives",level:3},{value:"Use Case Scenario:",id:"use-case-scenario",level:3},{value:"UDS Diagnostic Sessions Overview",id:"uds-diagnostic-sessions-overview",level:2},{value:"Common Diagnostic Sessions:",id:"common-diagnostic-sessions",level:3},{value:"Transitioning Between Sessions:",id:"transitioning-between-sessions",level:3},{value:"Tester Present Service Details",id:"tester-present-service-details",level:2},{value:"Service Identification:",id:"service-identification",level:3},{value:"Sub-functions:",id:"sub-functions",level:3},{value:"Detailed Functionality:",id:"detailed-functionality",level:3},{value:"Sub-function 0x00: Tester Present with Positive Response",id:"sub-function-0x00-tester-present-with-positive-response",level:4},{value:"Sub-function 0x80: Tester Present with Suppressed Response",id:"sub-function-0x80-tester-present-with-suppressed-response",level:4},{value:"Request and Response Frame Structures",id:"request-and-response-frame-structures",level:3},{value:"Request Frame:",id:"request-frame",level:4},{value:"Positive Response Frame (for Sub-function 0x00):",id:"positive-response-frame-for-sub-function-0x00",level:4},{value:"No Response (for Sub-function 0x80):",id:"no-response-for-sub-function-0x80",level:4},{value:"Negative Response Handling",id:"negative-response-handling",level:3},{value:"Timing Considerations",id:"timing-considerations",level:3},{value:"Best Practices:",id:"best-practices",level:3},{value:"Service Call and Communication Flow",id:"service-call-and-communication-flow",level:2},{value:"Activation of Tester Present Service",id:"activation-of-tester-present-service",level:3},{value:"Communication Sequence:",id:"communication-sequence",level:3},{value:"Example: Maintaining an Extended Diagnostic Session",id:"example-maintaining-an-extended-diagnostic-session",level:4},{value:"Communication Flow Diagram",id:"communication-flow-diagram",level:3},{value:"Handling Diagnostic Sessions",id:"handling-diagnostic-sessions",level:2},{value:"Default Session (0x01)",id:"default-session-0x01",level:3},{value:"Non-Default Sessions (e.g., Extended Session 0x03, Programming Session 0x02)",id:"non-default-sessions-eg-extended-session-0x03-programming-session-0x02",level:3},{value:"Transitioning Between Sessions",id:"transitioning-between-sessions-1",level:3},{value:"Typical Usage of Tester Present",id:"typical-usage-of-tester-present",level:2},{value:"Scenario 1: Routine Control Operation",id:"scenario-1-routine-control-operation",level:3},{value:"Scenario 2: Programming ECU Firmware",id:"scenario-2-programming-ecu-firmware",level:3},{value:"Scenario 3: Preventing Session Timeout",id:"scenario-3-preventing-session-timeout",level:3},{value:"Real-Time Example: Wiper Motor Calibration",id:"real-time-example-wiper-motor-calibration",level:2},{value:"Step-by-Step Process:",id:"step-by-step-process",level:3},{value:"Summary:",id:"summary",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Security Best Practices:",id:"security-best-practices",level:3},{value:"Comparison with Similar UDS Services",id:"comparison-with-similar-uds-services",level:2},{value:"Diagnostic Session Control (0x10)",id:"diagnostic-session-control-0x10",level:3},{value:"Communication Control (0x28)",id:"communication-control-0x28",level:3},{value:"Security Access (0x27)",id:"security-access-0x27",level:3},{value:"Conclusion",id:"conclusion",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"tester-present-service---0x03",children:"Tester Present Service - 0x03"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Tester Present"})," service is a fundamental diagnostic service defined in the ",(0,r.jsx)(n.strong,{children:"Unified Diagnostic Services (UDS)"})," protocol, standardized under ",(0,r.jsx)(n.strong,{children:"ISO 14229"}),". UDS is extensively utilized in the automotive industry for ",(0,r.jsx)(n.strong,{children:"ECU (Electronic Control Unit)"})," diagnostics, enabling communication between diagnostic testers (tools) and vehicle ECUs. The Tester Present service, identified by ",(0,r.jsx)(n.strong,{children:"Service ID 0x03"}),", plays a critical role in maintaining active and stable communication sessions between the tester and the ECU, especially during complex diagnostic operations."]}),"\n",(0,r.jsx)(n.h3,{id:"key-points",children:"Key Points:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service ID"}),": 0x03 (Tester Present)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Standard"}),": ISO 14229 (UDS)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Purpose"}),": Maintain ECU in a non-default diagnostic session."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Common Use Cases"}),": Programming, routine control, calibration, and extended diagnostic operations."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"purpose-of-the-tester-present-service",children:"Purpose of the Tester Present Service"}),"\n",(0,r.jsxs)(n.p,{children:["The primary purpose of the ",(0,r.jsx)(n.strong,{children:"Tester Present"})," service is to ensure that the ECU remains in a ",(0,r.jsx)(n.strong,{children:"non-default diagnostic session"}),", such as an ",(0,r.jsx)(n.strong,{children:"extended session"})," or a ",(0,r.jsx)(n.strong,{children:"programming session"}),". These non-default sessions provide access to advanced diagnostic and control functionalities that are not available in the ",(0,r.jsx)(n.strong,{children:"default session"}),". Without periodic Tester Present requests, the ECU may automatically revert to the default session after a predefined timeout, disrupting ongoing diagnostic procedures."]}),"\n",(0,r.jsx)(n.h3,{id:"objectives",children:"Objectives:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Maintenance"}),": Keeps the ECU in an active non-default session."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Communication Assurance"}),": Confirms the continued presence of the tester to prevent session timeout."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operational Stability"}),": Ensures uninterrupted execution of complex diagnostic tasks."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"use-case-scenario",children:"Use Case Scenario:"}),"\n",(0,r.jsx)(n.p,{children:"During a firmware update or calibration of a vehicle component, the ECU must remain in an extended session to accept programming commands. The Tester Present service sends periodic signals to the ECU to affirm that the diagnostic tester is still engaged, preventing the ECU from timing out and reverting to the default session, which would abort the update process."}),"\n",(0,r.jsx)(n.h2,{id:"uds-diagnostic-sessions-overview",children:"UDS Diagnostic Sessions Overview"}),"\n",(0,r.jsxs)(n.p,{children:["Understanding the Tester Present service requires familiarity with the various ",(0,r.jsx)(n.strong,{children:"Diagnostic Sessions"})," defined in UDS. Diagnostic sessions determine the level of access and functionalities available for diagnostic operations."]}),"\n",(0,r.jsx)(n.h3,{id:"common-diagnostic-sessions",children:"Common Diagnostic Sessions:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Default Session (0x01)"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": The initial session upon ECU startup or reset."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Capabilities"}),": Basic diagnostic functions such as reading fault codes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Timeout"}),": Typically short, requiring periodic Tester Present requests to maintain or transition to another session."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Programming Session (0x02)"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Allows reprogramming of the ECU firmware."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Capabilities"}),": Access to memory writing, firmware upload/download."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Often requires authentication via the ",(0,r.jsx)(n.strong,{children:"Security Access"})," service before entry."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Extended Diagnostic Session (0x03)"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Provides extended diagnostic functionalities."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Capabilities"}),": Advanced diagnostic services, including complex data manipulation and extended routine controls."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage"}),": Often used during in-depth vehicle diagnostics and component testing."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Safety System Diagnostic Session (0x04)"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Reserved for safety-critical diagnostics."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Capabilities"}),": High-security operations, often related to vehicle safety systems."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"transitioning-between-sessions",children:"Transitioning Between Sessions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Control"}),": Managed using the ",(0,r.jsx)(n.strong,{children:"Diagnostic Session Control"})," service (",(0,r.jsx)(n.strong,{children:"Service ID 0x10"}),"), which initiates a transition to the desired session."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Role of Tester Present"}),": Once in a non-default session, the Tester Present service ensures the session remains active by preventing timeout-induced reversion to the default session."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tester-present-service-details",children:"Tester Present Service Details"}),"\n",(0,r.jsx)(n.h3,{id:"service-identification",children:"Service Identification:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service ID"}),": ",(0,r.jsx)(n.code,{children:"0x03"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Maintains the ECU in a non-default diagnostic session by signaling the tester's continued presence."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sub-functions",children:"Sub-functions:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"0x00"}),": Tester Present without suppressing the positive response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"0x80"}),": Tester Present with suppression of the positive response."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"detailed-functionality",children:"Detailed Functionality:"}),"\n",(0,r.jsx)(n.h4,{id:"sub-function-0x00-tester-present-with-positive-response",children:"Sub-function 0x00: Tester Present with Positive Response"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Sends a Tester Present request and expects a positive acknowledgment from the ECU."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operation"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tester Action"}),": Sends a Tester Present request with sub-function ",(0,r.jsx)(n.code,{children:"0x00"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ECU Response"}),": Returns a positive response echoing the Service ID and sub-function."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Case"}),": Standard maintenance of the diagnostic session where acknowledgment of each request is necessary for logging or verification purposes."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"sub-function-0x80-tester-present-with-suppressed-response",children:"Sub-function 0x80: Tester Present with Suppressed Response"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Sends a Tester Present request without expecting any response from the ECU."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operation"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tester Action"}),": Sends a Tester Present request with sub-function ",(0,r.jsx)(n.code,{children:"0x80"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ECU Response"}),": Suppresses the positive response, sending no acknowledgment."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Case"}),": Reduces network traffic and processing overhead when frequent Tester Present messages are required, such as during lengthy programming sessions."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"request-and-response-frame-structures",children:"Request and Response Frame Structures"}),"\n",(0,r.jsx)(n.h4,{id:"request-frame",children:"Request Frame:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service ID"}),": ",(0,r.jsx)(n.code,{children:"0x03"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sub-function"}),": ",(0,r.jsx)(n.code,{children:"0x00"})," or ",(0,r.jsx)(n.code,{children:"0x80"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Parameters"}),": None"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID (1 byte) | Sub-function (1 byte) |\n|---------------------|-----------------------|\n|        0x03         |         0x00          |\n"})}),"\n",(0,r.jsx)(n.h4,{id:"positive-response-frame-for-sub-function-0x00",children:"Positive Response Frame (for Sub-function 0x00):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service ID"}),": ",(0,r.jsx)(n.code,{children:"0x43"})," (Service ID + 0x40)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sub-function"}),": Echoed sub-function ",(0,r.jsx)(n.code,{children:"0x00"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data"}),": None"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Response ID (1 byte) | Sub-function (1 byte) |\n|----------------------|-----------------------|\n|        0x43          |         0x00          |\n"})}),"\n",(0,r.jsx)(n.h4,{id:"no-response-for-sub-function-0x80",children:"No Response (for Sub-function 0x80):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operation"}),": No response frame is sent by the ECU."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"negative-response-handling",children:"Negative Response Handling"}),"\n",(0,r.jsxs)(n.p,{children:["If the ",(0,r.jsx)(n.strong,{children:"Tester Present"})," request is malformed or uses an unsupported sub-function, the ECU may respond with a ",(0,r.jsx)(n.strong,{children:"Negative Response Code (NRC)"}),". Common NRCs include:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"0x11"}),": ",(0,r.jsx)(n.strong,{children:"Service Not Supported"})," \u2013 The ECU does not support the Tester Present service."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"0x22"}),": ",(0,r.jsx)(n.strong,{children:"Incorrect Message Length"})," \u2013 The request does not conform to the expected format."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"0x33"}),": ",(0,r.jsx)(n.strong,{children:"Response Pending"})," \u2013 The ECU is busy and cannot process the request immediately."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Negative Response Frame Structure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Negative Response ID (1 byte) | Original Service ID + 0x40 (1 byte) | NRC (1 byte) |\n|--------------------------------|---------------------------------------|--------------|\n|             0x7F               |                0x43                   |    0x22      |\n"})}),"\n",(0,r.jsx)(n.h3,{id:"timing-considerations",children:"Timing Considerations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request Interval"}),": Tester Present requests must be sent at intervals shorter than the ECU's session timeout period, typically specified in the ECU's diagnostic settings or communicated during session control."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Timeout"}),": If the Tester Present requests are not received within the timeout period, the ECU may revert to the default session automatically."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"best-practices",children:"Best Practices:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistent Timing"}),": Ensure that Tester Present requests are sent consistently and within the required intervals to maintain session integrity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"}),": Implement robust error handling to manage negative responses and re-establish sessions if necessary."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resource Management"}),": Use Sub-function ",(0,r.jsx)(n.code,{children:"0x80"})," when possible to minimize unnecessary network traffic and ECU processing load during high-frequency Tester Present messaging."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"service-call-and-communication-flow",children:"Service Call and Communication Flow"}),"\n",(0,r.jsx)(n.h3,{id:"activation-of-tester-present-service",children:"Activation of Tester Present Service"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Initiate Non-Default Session"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The tester sends a ",(0,r.jsx)(n.strong,{children:"Diagnostic Session Control"})," request (",(0,r.jsx)(n.code,{children:"0x10"}),") to transition the ECU into a non-default session (e.g., extended or programming session)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintain Session"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Once in the non-default session, the tester must periodically send ",(0,r.jsx)(n.strong,{children:"Tester Present"})," requests (",(0,r.jsx)(n.code,{children:"0x03"}),") to maintain the session."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"communication-sequence",children:"Communication Sequence:"}),"\n",(0,r.jsx)(n.h4,{id:"example-maintaining-an-extended-diagnostic-session",children:"Example: Maintaining an Extended Diagnostic Session"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Enter Extended Session"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x10    |     0x03     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Positive Response"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Response ID | Sub-function |\n|-------------|--------------|\n|    0x50     |     0x03     |\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Send Tester Present Request"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x03    |     0x00     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Positive Response"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Response ID | Sub-function |\n|-------------|--------------|\n|    0x43     |     0x00     |\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Continue Periodic Tester Present Requests"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request"})," (Suppressed Response):","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x03    |     0x80     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No response sent by the ECU."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Complete Diagnostic Operations"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Perform necessary diagnostic or programming tasks while maintaining the session with periodic Tester Present requests."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"communication-flow-diagram",children:"Communication Flow Diagram"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Tester                        ECU\n  |                             |\n  |---- Diagnostic Session Control (0x10) ----\x3e|\n  |                             |\n  |<--- Positive Response (0x50) -------------|\n  |                             |\n  |---- Tester Present (0x03, 0x00) ----------\x3e|\n  |                             |\n  |<--- Positive Response (0x43, 0x00) --------|\n  |                             |\n  |---- Tester Present (0x03, 0x80) ----------\x3e|\n  |                             |\n  |<--- No Response ----------------------------|\n  |                             |\n  |          ... Continued ...                |\n"})}),"\n",(0,r.jsx)(n.h2,{id:"handling-diagnostic-sessions",children:"Handling Diagnostic Sessions"}),"\n",(0,r.jsx)(n.h3,{id:"default-session-0x01",children:"Default Session (0x01)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Characteristics"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Initial session upon ECU power-up or reset."}),"\n",(0,r.jsx)(n.li,{children:"Limited diagnostic capabilities."}),"\n",(0,r.jsx)(n.li,{children:"Does not require Tester Present messages to maintain."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Typical Operations"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reading basic diagnostic trouble codes (DTCs)."}),"\n",(0,r.jsx)(n.li,{children:"Retrieving ECU status information."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"non-default-sessions-eg-extended-session-0x03-programming-session-0x02",children:"Non-Default Sessions (e.g., Extended Session 0x03, Programming Session 0x02)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Characteristics"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Provide access to advanced diagnostic services."}),"\n",(0,r.jsx)(n.li,{children:"Require periodic Tester Present messages to prevent session timeout."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintenance"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Periodic Tester Present Requests"}),": Sent at intervals shorter than the ECU's session timeout."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sub-function Selection"}),": Use ",(0,r.jsx)(n.code,{children:"0x00"})," for acknowledgment or ",(0,r.jsx)(n.code,{children:"0x80"})," to suppress responses based on operational needs."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"transitioning-between-sessions-1",children:"Transitioning Between Sessions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Current Session"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["To transition back to the default session, send a ",(0,r.jsx)(n.strong,{children:"Diagnostic Session Control"})," request with Service ID ",(0,r.jsx)(n.code,{children:"0x10"})," and sub-function ",(0,r.jsx)(n.code,{children:"0x01"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Handle Session Termination"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Upon session termination, the ECU ceases to require Tester Present messages, and the tester can switch to default session operations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"typical-usage-of-tester-present",children:"Typical Usage of Tester Present"}),"\n",(0,r.jsx)(n.h3,{id:"scenario-1-routine-control-operation",children:"Scenario 1: Routine Control Operation"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Context"}),": Adjusting calibration values or configuring a vehicle component requires the ECU to remain in an extended diagnostic session."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enter Extended Session"}),": Send Diagnostic Session Control (",(0,r.jsx)(n.code,{children:"0x10"})," with sub-function ",(0,r.jsx)(n.code,{children:"0x03"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintain Session"}),": Periodically send Tester Present (",(0,r.jsx)(n.code,{children:"0x03"})," with sub-function ",(0,r.jsx)(n.code,{children:"0x00"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Perform Routine Control"}),": Execute calibration or configuration commands."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"End Operation"}),": Optionally, revert to default session if necessary."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"scenario-2-programming-ecu-firmware",children:"Scenario 2: Programming ECU Firmware"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Context"}),": Updating the ECU firmware necessitates a stable programming session to prevent interruptions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enter Programming Session"}),": Send Diagnostic Session Control (",(0,r.jsx)(n.code,{children:"0x10"})," with sub-function ",(0,r.jsx)(n.code,{children:"0x02"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authenticate"}),": Complete any required security access procedures."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintain Session"}),": Send Tester Present (",(0,r.jsx)(n.code,{children:"0x03"})," with sub-function ",(0,r.jsx)(n.code,{children:"0x80"}),") to reduce network traffic."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Upload Firmware"}),": Transmit the firmware data to the ECU."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Verify and Complete"}),": Confirm successful programming and optionally return to default session."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"scenario-3-preventing-session-timeout",children:"Scenario 3: Preventing Session Timeout"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Context"}),": Prolonged diagnostic operations, such as security access or extensive routine controls, risk session timeout."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enter Non-Default Session"}),": Initiate the required diagnostic session."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintain Session"}),": Continuously send Tester Present (",(0,r.jsx)(n.code,{children:"0x03"})," with appropriate sub-function) within the ECU's timeout period."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Execute Operations"}),": Perform the necessary extended diagnostic tasks without interruption."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Conclude Session"}),": Optionally revert to the default session after completing operations."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"real-time-example-wiper-motor-calibration",children:"Real-Time Example: Wiper Motor Calibration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario"}),": Recalibrating a wiper motor due to a timer mismatch requires maintaining the ECU in an extended session to ensure uninterrupted execution of the calibration routine."]}),"\n",(0,r.jsx)(n.h3,{id:"step-by-step-process",children:"Step-by-Step Process:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Initiate Extended Session"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x10    |     0x03     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ECU Response"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Response ID | Sub-function |\n|-------------|--------------|\n|    0x50     |     0x03     |\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Start Tester Present Requests"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Initial Request"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x03    |     0x00     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ECU Response"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Response ID | Sub-function |\n|-------------|--------------|\n|    0x43     |     0x00     |\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Continue Periodic Tester Present Requests"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subsequent Requests"})," (using Sub-function ",(0,r.jsx)(n.code,{children:"0x80"})," to minimize responses):","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x03    |     0x80     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ECU Response"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No response sent."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Execute Wiper Motor Calibration Routine"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Perform Calibration"}),": Send specific routine control commands to recalibrate the wiper motor."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Progress"}),": Ensure calibration commands are acknowledged and completed successfully."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Maintain Session Throughout Calibration"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Continue Sending Tester Present Requests"})," at defined intervals to prevent session timeout."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Complete Calibration and Terminate Session"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"End Calibration"}),": Confirm successful calibration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Extended Session"})," (optional):","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Service ID | Sub-function |\n|-----------|--------------|\n|   0x10    |     0x01     |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ECU Response"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| Response ID | Sub-function |\n|-------------|--------------|\n|    0x50     |     0x01     |\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"summary",children:"Summary:"}),"\n",(0,r.jsx)(n.p,{children:"By utilizing the Tester Present service, the diagnostic tester ensures that the ECU remains in the extended session throughout the wiper motor calibration process, preventing unintended session termination and ensuring the calibration is executed without interruption."}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.p,{children:"While the Tester Present service is essential for maintaining diagnostic sessions, it can also be exploited if not properly secured. Unauthorized access to the Tester Present service could potentially prevent legitimate ECU operations or maintain unauthorized sessions."}),"\n",(0,r.jsx)(n.h3,{id:"security-best-practices",children:"Security Best Practices:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Require authentication via the ",(0,r.jsx)(n.strong,{children:"Security Access"})," service before allowing non-default sessions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Management"}),": Implement robust session timeout mechanisms to minimize the risk of unauthorized prolonged sessions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access Control"}),": Restrict the Tester Present service to authenticated and authorized diagnostic testers."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring"}),": Log and monitor Tester Present requests to detect and respond to suspicious activities."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"comparison-with-similar-uds-services",children:"Comparison with Similar UDS Services"}),"\n",(0,r.jsx)(n.h3,{id:"diagnostic-session-control-0x10",children:"Diagnostic Session Control (0x10)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Initiates or terminates diagnostic sessions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relation to Tester Present"}),": Tester Present is used to maintain sessions initiated by Diagnostic Session Control."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"communication-control-0x28",children:"Communication Control (0x28)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Manages communication parameters, such as enabling or disabling specific communication channels."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relation to Tester Present"}),": While Communication Control manages communication parameters, Tester Present ensures the continuity of the diagnostic session over those communication channels."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security-access-0x27",children:"Security Access (0x27)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Provides authentication mechanisms to access secured diagnostic services."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relation to Tester Present"}),": Security Access is often a prerequisite for entering non-default sessions that require the use of Tester Present."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Tester Present"})," service is an indispensable component of the UDS protocol, ensuring the stability and continuity of non-default diagnostic sessions essential for advanced ECU operations. By periodically signaling the ECU's continued engagement, Tester Present prevents unintended session timeouts, facilitating uninterrupted diagnostic activities such as programming, calibration, and routine controls."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var i=s(96540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);