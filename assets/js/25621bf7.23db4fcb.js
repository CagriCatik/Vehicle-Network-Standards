"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[27288],{68826:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"UDS/services/Write-Memory-by-Address","title":"Write Memory by Address - 0x3D","description":"Overview","source":"@site/docs/UDS/02_services/08_Write-Memory-by-Address.md","sourceDirName":"UDS/02_services","slug":"/UDS/services/Write-Memory-by-Address","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Write-Memory-by-Address","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/02_services/08_Write-Memory-by-Address.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"udsSidebar","previous":{"title":"Read Memory by Address - 0x23","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Read-Memory-by-Address"},"next":{"title":"Tester Present Service - 0x03","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Tester-Present"}}');var n=r(74848),t=r(28453);const d={sidebar_position:8},c="Write Memory by Address - 0x3D",l={},o=[{value:"Overview",id:"overview",level:2},{value:"Service ID",id:"service-id",level:3},{value:"Purpose",id:"purpose",level:3},{value:"Frame Format",id:"frame-format",level:2},{value:"Request Frame",id:"request-frame",level:3},{value:"Request Frame Example",id:"request-frame-example",level:3},{value:"Explanation of Fields:",id:"explanation-of-fields",level:4},{value:"Positive Response Frame",id:"positive-response-frame",level:3},{value:"Negative Response Frame",id:"negative-response-frame",level:3},{value:"Address and Data Writing Process",id:"address-and-data-writing-process",level:2},{value:"Typical Use Cases",id:"typical-use-cases",level:3},{value:"Data Integrity and Alignment",id:"data-integrity-and-alignment",level:3},{value:"Security Access",id:"security-access",level:2},{value:"Example of Security Access",id:"example-of-security-access",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Key Considerations:",id:"key-considerations",level:3}];function a(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"write-memory-by-address---0x3d",children:"Write Memory by Address - 0x3D"})}),"\n",(0,n.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.em,{children:"Write Memory by Address"})," service (SID 0x3D) in Unified Diagnostic Services (UDS) allows a diagnostic tool (client) to write or modify specific regions of memory within an ECU (Electronic Control Unit). This service is often used for tasks such as updating calibration data, modifying ECU configurations, or clearing non-volatile memory."]}),"\n",(0,n.jsx)(s.h3,{id:"service-id",children:"Service ID"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Request SID"}),": 0x3D"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Response SID"}),": 0x7D"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"purpose",children:"Purpose"}),"\n",(0,n.jsx)(s.p,{children:"This service allows the client to write data to a specific memory location in the ECU. It can be used to modify calibrating values, overwrite configuration data, or clear specific areas in non-volatile memory."}),"\n",(0,n.jsx)(s.h2,{id:"frame-format",children:"Frame Format"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.em,{children:"Write Memory by Address"})," service is structured in both request and response frames. The format is as follows:"]}),"\n",(0,n.jsx)(s.h3,{id:"request-frame",children:"Request Frame"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.em,{children:"Request Frame"})," for the Write Memory by Address service consists of the following fields:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Size"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Service ID (SID)"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsxs)(s.td,{children:["The service identifier, ",(0,n.jsx)(s.code,{children:"0x3D"})," for Write Memory by Address."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data by Identifier"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsx)(s.td,{children:"The Data Identifier (DID) for the memory location to write to."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Size"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsx)(s.td,{children:"The size of the memory region to be written (in bytes)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Address"})}),(0,n.jsx)(s.td,{children:"2 bytes"}),(0,n.jsx)(s.td,{children:"The starting memory address where the data will be written."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data Information"})}),(0,n.jsx)(s.td,{children:"Variable"}),(0,n.jsx)(s.td,{children:"The data to be written to the specified memory address."})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"request-frame-example",children:"Request Frame Example"}),"\n",(0,n.jsx)(s.p,{children:"In this example, we will write the ECU Serial Number (DID = 0xF18C) to a specific memory address."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"DID (Data by Identifier)"}),": ",(0,n.jsx)(s.code,{children:"0xF18C"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Memory Size"}),": ",(0,n.jsx)(s.code,{children:"0x02"})," (2 bytes)"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Memory Address"}),": ",(0,n.jsx)(s.code,{children:"0xA0 0x00"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Data Information"}),": ",(0,n.jsx)(s.code,{children:"0xFE 0x0C"})]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"The request frame would look like this:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Service ID (SID)"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x3D"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data by Identifier"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0xF1"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Size"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x8C"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Address"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x02 0xA0 0x00"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data Information"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0xFE 0x0C"})})]})]})]}),"\n",(0,n.jsx)(s.h4,{id:"explanation-of-fields",children:"Explanation of Fields:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Service ID (SID)"}),": Identifies the Write Memory by Address service."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Data by Identifier (DID)"}),": The Data Identifier that specifies which memory area or parameter is being written to."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Memory Size"}),": The size of the memory area being written, represented in bytes."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Memory Address"}),": The start address in the memory where the data will be written."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Data Information"}),": The actual data to be written to the memory."]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"positive-response-frame",children:"Positive Response Frame"}),"\n",(0,n.jsxs)(s.p,{children:["After receiving a valid request, the ECU responds with a ",(0,n.jsx)(s.em,{children:"Positive Response Frame"})," indicating that the write operation was successful. This frame includes the same fields as the request frame:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Size"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Response ID"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsxs)(s.td,{children:["The response service ID, ",(0,n.jsx)(s.code,{children:"0x7D"})," for Write Memory by Address."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data by Identifier"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsx)(s.td,{children:"The DID for the written memory region."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Size"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsx)(s.td,{children:"The size of the memory region written to."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Address"})}),(0,n.jsx)(s.td,{children:"2 bytes"}),(0,n.jsx)(s.td,{children:"The memory address where the data was written."})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Positive Response Example"}),":"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Response ID"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x7D"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data by Identifier"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0xF1"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Size"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x8C"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Memory Address"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x02 0xA0 0x00"})})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"In this example, the ECU has successfully written the data to the specified memory address and acknowledges the request with the corresponding DID, memory size, and memory address."}),"\n",(0,n.jsx)(s.h3,{id:"negative-response-frame",children:"Negative Response Frame"}),"\n",(0,n.jsxs)(s.p,{children:["If the ECU encounters an error during the memory write process, such as an invalid address, insufficient memory, or security access issues, it will return a ",(0,n.jsx)(s.em,{children:"Negative Response Frame"}),". This frame includes:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Size"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Response ID"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsxs)(s.td,{children:["The response service ID, ",(0,n.jsx)(s.code,{children:"0x7F"})," for negative responses."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Service ID (SID)"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsxs)(s.td,{children:["The service ID that generated the error (in this case, ",(0,n.jsx)(s.code,{children:"0x3D"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Negative Response Code"})}),(0,n.jsx)(s.td,{children:"1 byte"}),(0,n.jsx)(s.td,{children:"The specific error code indicating the failure reason."})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Negative Response Example"}),":"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Value"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Response ID"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x7F"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Service ID (SID)"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x3D"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Negative Response Code"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"0x31"})})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["In this example, ",(0,n.jsx)(s.code,{children:"0x31"}),' indicates a "Write Error" or "Security Access Denied" issue.']}),"\n",(0,n.jsx)(s.h2,{id:"address-and-data-writing-process",children:"Address and Data Writing Process"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.em,{children:"Write Memory by Address"})," service allows for writing to both individual and contiguous memory regions. The data is directly written to the specified memory address and can be used to change ECU parameters or perform memory clearing tasks."]}),"\n",(0,n.jsx)(s.h3,{id:"typical-use-cases",children:"Typical Use Cases"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Clearing Non-Volatile Memory"}),": This service can be used to reset certain ECU parameters stored in non-volatile memory, such as calibration data or error logs."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Updating Calibration Values"}),": Technicians or diagnostic tools can modify calibration data directly in memory without requiring additional tools or interfaces."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Firmware Updates"}),": Memory regions that store firmware can be updated using this service (although typically, this would be part of a more specific flashing process)."]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"data-integrity-and-alignment",children:"Data Integrity and Alignment"}),"\n",(0,n.jsx)(s.p,{children:"When writing data to memory, it's essential to ensure proper alignment of the memory regions and respect the memory size specified. Writing data that exceeds the available memory space or misaligning data can cause errors or corrupt the ECU's memory. It is essential to verify the memory boundaries before performing a write operation."}),"\n",(0,n.jsx)(s.h2,{id:"security-access",children:"Security Access"}),"\n",(0,n.jsxs)(s.p,{children:["Just like the ",(0,n.jsx)(s.em,{children:"Read Memory by Address"})," service, ",(0,n.jsx)(s.em,{children:"Write Memory by Address"})," may also require security access. Before data can be written to specific memory regions, the ECU might require the diagnostic tool to authenticate through a security access procedure."]}),"\n",(0,n.jsx)(s.h3,{id:"example-of-security-access",children:"Example of Security Access"}),"\n",(0,n.jsxs)(s.p,{children:["Before writing data to a sensitive memory region, the client might need to use the ",(0,n.jsx)(s.em,{children:"Security Access"})," service (",(0,n.jsx)(s.code,{children:"0x27"}),") to gain permission. If the ECU denies access due to insufficient security clearance, the negative response (",(0,n.jsx)(s.code,{children:"0x31"}),") would indicate the need for security credentials."]}),"\n",(0,n.jsx)(s.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.em,{children:"Write Memory by Address"})," service (SID 0x3D) provides a powerful method for writing data to specific memory regions within an ECU. By structuring requests and responses correctly and ensuring proper security and memory alignment, this service can be used effectively for ECU calibration, data updates, and memory clearing. It is essential to adhere to the specified message formats and handle potential errors to ensure successful operation and data integrity."]}),"\n",(0,n.jsx)(s.h3,{id:"key-considerations",children:"Key Considerations:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Verify memory boundaries and alignment to avoid memory corruption."}),"\n",(0,n.jsx)(s.li,{children:"Ensure security access is granted before writing sensitive memory regions."}),"\n",(0,n.jsx)(s.li,{children:"Handle errors gracefully, particularly those related to access and memory write failures."}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>d,x:()=>c});var i=r(96540);const n={},t=i.createContext(n);function d(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);