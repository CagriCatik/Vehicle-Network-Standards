"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[51567],{3239:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"OTA/core_architecture/architecture","title":"OTA Architecture","description":"Over-the-Air (OTA) update architecture is a fundamental aspect of modern vehicle software management, enabling seamless software updates for Electronic Control Units (ECUs) within a vehicle. This document provides an in-depth explanation of the OTA architecture, detailing the roles of various components involved in the OTA solution, their interactions, and the communication protocols employed.","source":"@site/docs/OTA/02_core_architecture/02_architecture.md","sourceDirName":"OTA/02_core_architecture","slug":"/OTA/core_architecture/architecture","permalink":"/Vehicle-Network-Standards/docs/OTA/core_architecture/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/OTA/02_core_architecture/02_architecture.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"otaSidebar","previous":{"title":"Vehicle State in Over-the-Air (OTA) Updates","permalink":"/Vehicle-Network-Standards/docs/OTA/core_architecture/vehicle_state"},"next":{"title":"Vehicle Architecture","permalink":"/Vehicle-Network-Standards/docs/OTA/core_architecture/vehicle_architecture"}}');var a=t(74848),r=t(28453);const s={},o="OTA Architecture",c={},l=[{value:"Overview of OTA Architecture",id:"overview-of-ota-architecture",level:2},{value:"1. OEM Backend",id:"1-oem-backend",level:3},{value:"a. Update Management",id:"a-update-management",level:4},{value:"b. Device Management",id:"b-device-management",level:4},{value:"c. Campaign Management",id:"c-campaign-management",level:4},{value:"2. Telematics Control Unit (TCU) as Gateway",id:"2-telematics-control-unit-tcu-as-gateway",level:3},{value:"3. OTA Manager",id:"3-ota-manager",level:3},{value:"4. HMI Interaction and User Authorization",id:"4-hmi-interaction-and-user-authorization",level:3},{value:"5. Communication Protocols: MQTT and HTTPS",id:"5-communication-protocols-mqtt-and-https",level:3},{value:"6. ECU Update Process",id:"6-ecu-update-process",level:3},{value:"7. Handling TCU Self-Updates",id:"7-handling-tcu-self-updates",level:3},{value:"8. Update Mechanisms: Single-Bank vs. Dual-Bank",id:"8-update-mechanisms-single-bank-vs-dual-bank",level:3},{value:"Conclusion",id:"conclusion",level:3}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ota-architecture",children:"OTA Architecture"})}),"\n",(0,a.jsx)(n.p,{children:"Over-the-Air (OTA) update architecture is a fundamental aspect of modern vehicle software management, enabling seamless software updates for Electronic Control Units (ECUs) within a vehicle. This document provides an in-depth explanation of the OTA architecture, detailing the roles of various components involved in the OTA solution, their interactions, and the communication protocols employed."}),"\n",(0,a.jsx)(n.h2,{id:"overview-of-ota-architecture",children:"Overview of OTA Architecture"}),"\n",(0,a.jsx)(n.p,{children:"The OTA architecture consists of several key components that work together to deliver and manage software updates. These components include:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"OEM Backend"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Update Management"}),"\n",(0,a.jsx)(n.li,{children:"Device Management"}),"\n",(0,a.jsx)(n.li,{children:"Campaign Management"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Telematics Control Unit (TCU)"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Gateway ECU"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"OTA Manager"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"HMI Interaction and User Authorization"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Communication Protocols: MQTT and HTTPS"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"ECU Update Process"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"1-oem-backend",children:"1. OEM Backend"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"OEM Backend"})," serves as the central control system for managing OTA updates. It consists of three key sub-components:"]}),"\n",(0,a.jsx)(n.h4,{id:"a-update-management",children:"a. Update Management"}),"\n",(0,a.jsx)(n.p,{children:"This component is responsible for handling the actual update packages, ensuring that correct software versions are delivered to appropriate vehicles. It verifies update integrity, manages rollback mechanisms, and ensures update compatibility with the target ECU."}),"\n",(0,a.jsx)(n.h4,{id:"b-device-management",children:"b. Device Management"}),"\n",(0,a.jsx)(n.p,{children:"Device management keeps track of all the connected vehicles, their software versions, hardware configurations, and update eligibility. This component is critical for ensuring the security and compliance of OTA updates."}),"\n",(0,a.jsx)(n.h4,{id:"c-campaign-management",children:"c. Campaign Management"}),"\n",(0,a.jsx)(n.p,{children:"Campaign management is responsible for orchestrating the update process across multiple vehicles. It determines the timing, update distribution strategy, and conditional triggers for OTA updates to optimize performance and minimize risks."}),"\n",(0,a.jsx)(n.h3,{id:"2-telematics-control-unit-tcu-as-gateway",children:"2. Telematics Control Unit (TCU) as Gateway"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"TCU"})," serves as the primary gateway for OTA updates in the vehicle. It receives update packages from the OEM backend and routes them to the appropriate ECUs. The TCU also ensures secure and authenticated update transactions, providing an additional layer of protection against unauthorized modifications."]}),"\n",(0,a.jsx)(n.h3,{id:"3-ota-manager",children:"3. OTA Manager"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"OTA Manager"})," is a central component that oversees the entire OTA update process. It handles the following activities:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Receiving updates from the OEM backend."}),"\n",(0,a.jsx)(n.li,{children:"Authenticating and validating update files."}),"\n",(0,a.jsx)(n.li,{children:"Notifying the user via the HMI system."}),"\n",(0,a.jsx)(n.li,{children:"Initiating the update process after user approval."}),"\n",(0,a.jsx)(n.li,{children:"Managing update preconditions to ensure safety."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The OTA Manager can be further decomposed into multiple sub-components based on architecture complexity, but its primary function remains orchestrating the update process across various ECUs."}),"\n",(0,a.jsx)(n.h3,{id:"4-hmi-interaction-and-user-authorization",children:"4. HMI Interaction and User Authorization"}),"\n",(0,a.jsx)(n.p,{children:"Before an OTA update is executed, the vehicle\u2019s HMI (Human-Machine Interface) requests user authorization. The user can approve the update via:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["The ",(0,a.jsx)(n.strong,{children:"vehicle\u2019s infotainment system (HMI)"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["A ",(0,a.jsx)(n.strong,{children:"mobile application provided by the OEM"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The application\u2019s user experience and customization vary depending on the OEM, but the primary objective remains the same\u2014ensuring the update is executed at an appropriate time with user consent."}),"\n",(0,a.jsx)(n.h3,{id:"5-communication-protocols-mqtt-and-https",children:"5. Communication Protocols: MQTT and HTTPS"}),"\n",(0,a.jsx)(n.p,{children:"OTA updates rely on two primary communication protocols:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"MQTT (Message Queuing Telemetry Transport)"}),": Used for sending control commands and receiving update status acknowledgments. MQTT ensures efficient and lightweight communication, making it ideal for automotive use cases with constrained bandwidth."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"HTTPS (Hypertext Transfer Protocol Secure)"}),": Used for securely transmitting update packages from the OEM backend to the TCU. HTTPS ensures data integrity and confidentiality during the transmission of large update files."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Some lower-end OTA solutions may rely solely on MQTT for update control, but for robust implementations, both MQTT and HTTPS are used in conjunction."}),"\n",(0,a.jsx)(n.h3,{id:"6-ecu-update-process",children:"6. ECU Update Process"}),"\n",(0,a.jsxs)(n.p,{children:["Once the OTA Manager initiates an update, the TCU forwards update requests to the ",(0,a.jsx)(n.strong,{children:"UDS Tester Block"})," (Unified Diagnostic Services). This component ensures:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Update requests are properly routed to the target ECUs."}),"\n",(0,a.jsx)(n.li,{children:"ECUs receive and acknowledge the update."}),"\n",(0,a.jsx)(n.li,{children:"Updates are validated before being installed."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Different ECUs in the vehicle communicate using different network protocols:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"CAN (Controller Area Network)"})," for lower-bandwidth systems."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Ethernet"})," for higher-bandwidth applications."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"TCU, acting as a gateway, ensures that the update is transmitted over the correct network protocol"})," based on the respective ECU\u2019s requirements."]}),"\n",(0,a.jsx)(n.h3,{id:"7-handling-tcu-self-updates",children:"7. Handling TCU Self-Updates"}),"\n",(0,a.jsxs)(n.p,{children:["If the ",(0,a.jsx)(n.strong,{children:"TCU itself requires an update"}),", a separate ",(0,a.jsx)(n.strong,{children:"UDS Server"})," within the TCU is responsible for handling its firmware updates. This ensures that the TCU remains capable of managing and delivering future OTA updates without external intervention."]}),"\n",(0,a.jsx)(n.h3,{id:"8-update-mechanisms-single-bank-vs-dual-bank",children:"8. Update Mechanisms: Single-Bank vs. Dual-Bank"}),"\n",(0,a.jsx)(n.p,{children:"OTA updates can be executed using different flash memory strategies:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Single-Bank Updates"}),": The existing firmware is overwritten during the update process. If the update fails, the ECU may become inoperable, requiring recovery measures."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Dual-Bank Updates"}),": The ECU maintains two separate memory banks\u2014one for the current firmware and another for the update. If the update fails, the ECU can revert to the previous version, ensuring fail-safe operation."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsx)(n.p,{children:"This document has provided an in-depth explanation of OTA architecture, detailing each component and its role in the update process. By leveraging secure communication protocols, user authorization mechanisms, and reliable update distribution strategies, OTA solutions ensure that vehicle software remains up-to-date while maintaining security and performance."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(96540);const a={},r=i.createContext(a);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);