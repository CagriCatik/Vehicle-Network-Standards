"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[99730],{82160:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"DoIP/DoIP_Message/vehicle-announcement","title":"Vehicle Announcement / Vehicle Identification Response","description":"Die Vehicle Announcement und die Vehicle Identification Response sind essenzielle Nachrichten im DoIP-Protokoll (Diagnostics over Internet Protocol). Sie dienen der Identifikation des Fahrzeugs durch den Diagnosetester und erm\xf6glichen den Aufbau einer spezifischen Kommunikationsverbindung zwischen Tester und Fahrzeug.","source":"@site/docs/DoIP/05_DoIP_Message/02_vehicle-announcement.md","sourceDirName":"DoIP/05_DoIP_Message","slug":"/DoIP/DoIP_Message/vehicle-announcement","permalink":"/Vehicle-Network-Standards/docs/DoIP/DoIP_Message/vehicle-announcement","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DoIP/05_DoIP_Message/02_vehicle-announcement.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"doipSidebar","previous":{"title":"Protokollinformation f\xfcr DoIP","permalink":"/Vehicle-Network-Standards/docs/DoIP/DoIP_Message/protokollinformation-doip"},"next":{"title":"Vehicle Identification Request","permalink":"/Vehicle-Network-Standards/docs/DoIP/DoIP_Message/vehicle-identification-request"}}');var t=i(74848),r=i(28453);const d={},c="Vehicle Announcement / Vehicle Identification Response",h={},l=[{value:"Vehicle Announcement (Fahrzeugerkennung)",id:"vehicle-announcement-fahrzeugerkennung",level:2},{value:"Nachrichtenstruktur",id:"nachrichtenstruktur",level:3},{value:"Ablauf",id:"ablauf",level:3},{value:"Vehicle Identification Response (Fahrzeugidentifikationsantwort)",id:"vehicle-identification-response-fahrzeugidentifikationsantwort",level:2},{value:"Nachrichtenstruktur",id:"nachrichtenstruktur-1",level:3},{value:"Ablauf",id:"ablauf-1",level:3},{value:"Anwendungsf\xe4lle",id:"anwendungsf\xe4lle",level:2},{value:"Fahrzeugerkennung bei Mehrfachverbindungen",id:"fahrzeugerkennung-bei-mehrfachverbindungen",level:3},{value:"Sicherheitspr\xfcfungen",id:"sicherheitspr\xfcfungen",level:3},{value:"Diagnoseaufbau",id:"diagnoseaufbau",level:3},{value:"Beispielnachrichten",id:"beispielnachrichten",level:2},{value:"Vehicle Announcement (UDP)",id:"vehicle-announcement-udp",level:3},{value:"Vehicle Identification Response (TCP)",id:"vehicle-identification-response-tcp",level:3},{value:"Relevanter Code",id:"relevanter-code",level:2},{value:"Beispiel: Empfang einer Vehicle Announcement-Nachricht",id:"beispiel-empfang-einer-vehicle-announcement-nachricht",level:3},{value:"Beispiel: Senden einer Vehicle Identification Request",id:"beispiel-senden-einer-vehicle-identification-request",level:3}];function o(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"vehicle-announcement--vehicle-identification-response",children:"Vehicle Announcement / Vehicle Identification Response"})}),"\n",(0,t.jsxs)(n.p,{children:["Die ",(0,t.jsx)(n.strong,{children:"Vehicle Announcement"})," und die ",(0,t.jsx)(n.strong,{children:"Vehicle Identification Response"})," sind essenzielle Nachrichten im DoIP-Protokoll (Diagnostics over Internet Protocol). Sie dienen der Identifikation des Fahrzeugs durch den Diagnosetester und erm\xf6glichen den Aufbau einer spezifischen Kommunikationsverbindung zwischen Tester und Fahrzeug."]}),"\n",(0,t.jsx)(n.h2,{id:"vehicle-announcement-fahrzeugerkennung",children:"Vehicle Announcement (Fahrzeugerkennung)"}),"\n",(0,t.jsxs)(n.p,{children:["Die ",(0,t.jsx)(n.strong,{children:"Vehicle Announcement-Nachricht"})," wird vom Gateway des Fahrzeugs ausgesendet, um dem Diagnosetester die Erreichbarkeit des Fahrzeugs mitzuteilen. Diese Nachricht enth\xe4lt grundlegende Informationen \xfcber das Fahrzeug und wird typischerweise per UDP \xfcbertragen."]}),"\n",(0,t.jsx)(n.h3,{id:"nachrichtenstruktur",children:"Nachrichtenstruktur"}),"\n",(0,t.jsx)(n.p,{children:"Die Vehicle Announcement-Nachricht umfasst die folgenden Felder:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feld"}),(0,t.jsx)(n.th,{children:"L\xe4nge"}),(0,t.jsx)(n.th,{children:"Beschreibung"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Protocol Version"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"Aktuelle DoIP-Protokollversion."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Inverse Protocol Version"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"Sicherheitspr\xfcfung (Komplement der Protokollversion)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Payload Type"})}),(0,t.jsx)(n.td,{children:"2 Bytes"}),(0,t.jsxs)(n.td,{children:["Gibt den Nachrichtentyp an (",(0,t.jsx)(n.code,{children:"0x0004"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Payload Length"})}),(0,t.jsx)(n.td,{children:"4 Bytes"}),(0,t.jsx)(n.td,{children:"L\xe4nge der Nutzdaten in Bytes."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"VIN"})}),(0,t.jsx)(n.td,{children:"17 Bytes"}),(0,t.jsx)(n.td,{children:"Fahrzeug-Identifikationsnummer (Vehicle Identification Number)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Logische Adresse"})}),(0,t.jsx)(n.td,{children:"2 Bytes"}),(0,t.jsx)(n.td,{children:"Eindeutige DoIP-Adresse des Gateways."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"EID"})," (Entity ID)"]}),(0,t.jsx)(n.td,{children:"6 Bytes"}),(0,t.jsx)(n.td,{children:"Identifikationseinheit, typischerweise die MAC-Adresse."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"GID"})," (Group ID)"]}),(0,t.jsx)(n.td,{children:"6 Bytes"}),(0,t.jsx)(n.td,{children:"Gruppierung f\xfcr Fahrzeuge ohne VIN."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Further Action Required"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"OEM-spezifische Anforderungen, z. B. Sicherheitsmethoden."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"VIN/GID Sync. Status"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"Synchronisationsstatus der VIN/GID-Informationen."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"ablauf",children:"Ablauf"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Aussendung der Nachricht"}),":",(0,t.jsx)(n.br,{}),"\n","Das Gateway des Fahrzeugs sendet eine Vehicle Announcement-Nachricht aus, sobald es betriebsbereit ist. Diese Nachricht wird \xfcber das Netzwerk an alle potenziellen Tester gesendet (Broadcast oder Multicast)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Inhalt"}),":",(0,t.jsx)(n.br,{}),"\n","Die Nachricht informiert den Diagnosetester \xfcber:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Die Identit\xe4t des Fahrzeugs (VIN)."}),"\n",(0,t.jsxs)(n.li,{children:["Die logische Adresse des Gateways (z. B. ",(0,t.jsx)(n.code,{children:"0x201"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"Weitere relevante Informationen wie Sicherheitsanforderungen oder Synchronisationsstatus."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Reaktion des Testers"}),":",(0,t.jsx)(n.br,{}),"\n","Der Diagnosetester nutzt die erhaltenen Informationen, um eine gezielte Diagnosekommunikation mit dem Fahrzeug aufzubauen."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"vehicle-identification-response-fahrzeugidentifikationsantwort",children:"Vehicle Identification Response (Fahrzeugidentifikationsantwort)"}),"\n",(0,t.jsxs)(n.p,{children:["Die ",(0,t.jsx)(n.strong,{children:"Vehicle Identification Response"})," wird vom Gateway als Antwort auf eine spezifische Fahrzeugidentifikationsanfrage (Vehicle Identification Request) des Testers gesendet. Sie dient der Best\xe4tigung und \xdcbermittlung detaillierter Fahrzeuginformationen."]}),"\n",(0,t.jsx)(n.h3,{id:"nachrichtenstruktur-1",children:"Nachrichtenstruktur"}),"\n",(0,t.jsx)(n.p,{children:"Die Vehicle Identification Response hat eine \xe4hnliche Struktur wie die Vehicle Announcement-Nachricht:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feld"}),(0,t.jsx)(n.th,{children:"L\xe4nge"}),(0,t.jsx)(n.th,{children:"Beschreibung"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Protocol Version"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"Aktuelle DoIP-Protokollversion."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Inverse Protocol Version"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"Sicherheitspr\xfcfung (Komplement der Protokollversion)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Payload Type"})}),(0,t.jsx)(n.td,{children:"2 Bytes"}),(0,t.jsxs)(n.td,{children:["Nachrichtentyp (",(0,t.jsx)(n.code,{children:"0x0004"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Payload Length"})}),(0,t.jsx)(n.td,{children:"4 Bytes"}),(0,t.jsx)(n.td,{children:"L\xe4nge der Nutzdaten in Bytes."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"VIN"})}),(0,t.jsx)(n.td,{children:"17 Bytes"}),(0,t.jsx)(n.td,{children:"Fahrzeug-Identifikationsnummer."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Logische Adresse"})}),(0,t.jsx)(n.td,{children:"2 Bytes"}),(0,t.jsx)(n.td,{children:"DoIP-Adresse des Gateways."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"EID"})}),(0,t.jsx)(n.td,{children:"6 Bytes"}),(0,t.jsx)(n.td,{children:"Identifikationseinheit des Gateways."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"GID"})}),(0,t.jsx)(n.td,{children:"6 Bytes"}),(0,t.jsx)(n.td,{children:"Gruppierung bei Fahrzeugen ohne VIN."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Further Action Required"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"OEM-spezifische Aktionen (z. B. Sicherheitsmethoden)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"VIN/GID Sync. Status"})}),(0,t.jsx)(n.td,{children:"1 Byte"}),(0,t.jsx)(n.td,{children:"Synchronisationsstatus."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"ablauf-1",children:"Ablauf"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Anfrage durch den Tester"}),":",(0,t.jsx)(n.br,{}),"\n","Der Diagnosetester stellt eine Vehicle Identification Request-Nachricht an das Gateway."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Verarbeitung durch das Gateway"}),":",(0,t.jsx)(n.br,{}),"\n","Das Gateway verarbeitet die Anfrage und stellt die angeforderten Informationen zusammen."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Antwort durch das Gateway"}),":",(0,t.jsx)(n.br,{}),"\n","Die Vehicle Identification Response enth\xe4lt alle relevanten Informationen, um den Tester \xfcber das Fahrzeug zu informieren. Dies umfasst insbesondere:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"VIN."}),"\n",(0,t.jsx)(n.li,{children:"Logische Adresse des Gateways."}),"\n",(0,t.jsx)(n.li,{children:"Sicherheitsstatus und Synchronisationsinformationen."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"anwendungsf\xe4lle",children:"Anwendungsf\xe4lle"}),"\n",(0,t.jsx)(n.h3,{id:"fahrzeugerkennung-bei-mehrfachverbindungen",children:"Fahrzeugerkennung bei Mehrfachverbindungen"}),"\n",(0,t.jsx)(n.p,{children:"In Szenarien mit mehreren Fahrzeugen im selben Netzwerk erm\xf6glicht die Vehicle Announcement-Nachricht dem Tester, gezielt ein spezifisches Fahrzeug basierend auf dessen VIN oder logischer Adresse auszuw\xe4hlen."}),"\n",(0,t.jsx)(n.h3,{id:"sicherheitspr\xfcfungen",children:"Sicherheitspr\xfcfungen"}),"\n",(0,t.jsx)(n.p,{children:"Die Synchronisation von VIN/GID und die Angabe von weiteren Sicherheitsanforderungen (z. B. Authentifizierung) gew\xe4hrleisten, dass nur autorisierte Diagnosetester Zugriff auf die Fahrzeugdaten erhalten."}),"\n",(0,t.jsx)(n.h3,{id:"diagnoseaufbau",children:"Diagnoseaufbau"}),"\n",(0,t.jsx)(n.p,{children:"Nach der Identifikation des Fahrzeugs leitet der Tester die n\xe4chsten Schritte wie Routing-Aktivierung oder Diagnoseanfragen ein."}),"\n",(0,t.jsx)(n.h2,{id:"beispielnachrichten",children:"Beispielnachrichten"}),"\n",(0,t.jsx)(n.h3,{id:"vehicle-announcement-udp",children:"Vehicle Announcement (UDP)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:'Protocol Version: 0x02\nInverse Protocol Version: 0xFD\nPayload Type: 0x0004\nPayload Length: 33 Bytes\nVIN: "1HGBH41JXMN109186"\nLogische Adresse: 0x201\nEID: "00:16:81:00:62:E0"\nGID: "FF:FF:FF:FF:FF:FF"\nFurther Action Required: 0x00\nVIN/GID Sync. Status: 0x01\n'})}),"\n",(0,t.jsx)(n.h3,{id:"vehicle-identification-response-tcp",children:"Vehicle Identification Response (TCP)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:'Protocol Version: 0x02\nInverse Protocol Version: 0xFD\nPayload Type: 0x0004\nPayload Length: 33 Bytes\nVIN: "1HGBH41JXMN109186"\nLogische Adresse: 0x201\nEID: "00:16:81:00:62:E0"\nGID: "FF:FF:FF:FF:FF:FF"\nFurther Action Required: 0x01\nVIN/GID Sync. Status: 0x01\n'})}),"\n",(0,t.jsx)(n.h2,{id:"relevanter-code",children:"Relevanter Code"}),"\n",(0,t.jsx)(n.h3,{id:"beispiel-empfang-einer-vehicle-announcement-nachricht",children:"Beispiel: Empfang einer Vehicle Announcement-Nachricht"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import socket\n\n# UDP-Socket erstellen\nudp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nudp_socket.bind(("0.0.0.0", 13400))  # Port f\xfcr Vehicle Announcement\n\nprint("Warten auf Vehicle Announcement...")\nwhile True:\n    data, addr = udp_socket.recvfrom(1024)\n    print(f"Nachricht von {addr}: {data.hex()}")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"beispiel-senden-einer-vehicle-identification-request",children:"Beispiel: Senden einer Vehicle Identification Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import socket\n\n# TCP-Verbindung zum Gateway\ngateway_ip = "192.168.1.2"\ngateway_port = 13400\n\n# Vehicle Identification Request erstellen\nrequest = bytearray([\n    0x02, 0xFD,             # Protokollversion und Inverse Version\n    0x00, 0x04,             # Payload Type\n    0x00, 0x00, 0x00, 0x00  # Payload Length (0 Bytes, Anfrage ohne Daten)\n])\n\n# Nachricht senden und Antwort empfangen\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.connect((gateway_ip, gateway_port))\n    s.send(request)\n    response = s.recv(1024)\n\nprint("Empfangene Antwort:", response.hex())\n'})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var s=i(96540);const t={},r=s.createContext(t);function d(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);