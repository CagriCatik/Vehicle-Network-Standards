"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[67687],{76983:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"UDS/services/write-data-by-identifier","title":"Write Data By Identifier - 0x2E","description":"The Write Data By Identifier (0x2E) service is an essential diagnostic function defined within the Unified Diagnostic Services (UDS) protocol, as per ISO 14229. This service is used primarily to write or modify data stored in an Electronic Control Unit (ECU) based on a unique identifier. UDS services, such as the Write Data By Identifier, facilitate the management of configuration settings, calibration data, software updates, and other parameters that are stored in the ECU\u2019s non-volatile memory.","source":"@site/docs/UDS/02_services/05_Write-Data-by-Identifier.mdx","sourceDirName":"UDS/02_services","slug":"/UDS/services/write-data-by-identifier","permalink":"/Vehicle-Network-Standards/docs/UDS/services/write-data-by-identifier","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/02_services/05_Write-Data-by-Identifier.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"write-data-by-identifier","title":"Write Data By Identifier - 0x2E"},"sidebar":"udsSidebar","previous":{"title":"Read Data By Identifier - 0x22","permalink":"/Vehicle-Network-Standards/docs/UDS/services/read-data-by-identifier"},"next":{"title":"Read Memory by Address - 0x23","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Read-Memory-by-Address"}}');var r=n(74848),t=n(28453);n(68796),n(46876);const a={id:"write-data-by-identifier",title:"Write Data By Identifier - 0x2E"},o="Write Data By Identifier - 0x2E",d={},c=[{value:"UDS Request and Response Structure",id:"uds-request-and-response-structure",level:2},{value:"Request Message Format",id:"request-message-format",level:3},{value:"Example",id:"example",level:4},{value:"Response Message Format",id:"response-message-format",level:3},{value:"Examples of Response Codes",id:"examples-of-response-codes",level:4},{value:"Negative Response Codes (NRCs)",id:"negative-response-codes-nrcs",level:2},{value:"Common Negative Response Codes (NRCs)",id:"common-negative-response-codes-nrcs",level:3},{value:"Realistic Examples of Write Data By Identifier",id:"realistic-examples-of-write-data-by-identifier",level:2},{value:"Example 1: Successful Calibration Write",id:"example-1-successful-calibration-write",level:3},{value:"Example 2: Write Denied Due to Incorrect Session",id:"example-2-write-denied-due-to-incorrect-session",level:3},{value:"Best Practices and Security Considerations",id:"best-practices-and-security-considerations",level:2},{value:"Session Management",id:"session-management",level:3},{value:"Data Validation",id:"data-validation",level:3},{value:"Security Access",id:"security-access",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Conclusion",id:"conclusion",level:2}];function l(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"write-data-by-identifier---0x2e",children:"Write Data By Identifier - 0x2E"})}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier (0x2E)"})," service is an essential diagnostic function defined within the Unified Diagnostic Services (UDS) protocol, as per ISO 14229. This service is used primarily to write or modify data stored in an Electronic Control Unit (ECU) based on a unique identifier. UDS services, such as the ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier"}),", facilitate the management of configuration settings, calibration data, software updates, and other parameters that are stored in the ECU\u2019s non-volatile memory."]}),"\n",(0,r.jsx)(i.p,{children:"By allowing targeted data modification, this service ensures that only specified data is written, minimizing the risk of accidental corruption of other parameters or unintended side effects within the ECU. As such, the service plays a crucial role in vehicle diagnostics, repair, and maintenance tasks."}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"uds-request-and-response-structure",children:"UDS Request and Response Structure"}),"\n",(0,r.jsx)(i.h3,{id:"request-message-format",children:"Request Message Format"}),"\n",(0,r.jsxs)(i.p,{children:["The message format for a ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier (0x2E)"})," request is as follows:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Service ID"})," (1 byte): The identifier for the service. For this service, the value is always ",(0,r.jsx)(i.code,{children:"0x2E"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Data Identifier (DID)"})," (2 bytes): A unique identifier used to specify the location of the data within the ECU\u2019s memory or configuration."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Data to Write"})," (N bytes): The actual data to be written to the ECU, corresponding to the provided Data Identifier. This can vary in length, depending on the type of data."]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(i.p,{children:"Consider a scenario where a technician needs to write a new engine calibration value:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x1234] [0x00000005]\n"})}),"\n",(0,r.jsx)(i.p,{children:"Where:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"0x2E"})," is the service ID for ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"0x1234"})," is the ",(0,r.jsx)(i.strong,{children:"Data Identifier"})," corresponding to the engine calibration data."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"0x00000005"})," is the ",(0,r.jsx)(i.strong,{children:"new data value"})," to be written."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["This request would instruct the ECU to update its configuration with the new value of ",(0,r.jsx)(i.code,{children:"0x00000005"})," at the memory location identified by ",(0,r.jsx)(i.code,{children:"0x1234"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"response-message-format",children:"Response Message Format"}),"\n",(0,r.jsxs)(i.p,{children:["The response message for a ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier"})," service consists of the following elements:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Service ID"})," (1 byte): This will match the request\u2019s service ID (",(0,r.jsx)(i.code,{children:"0x2E"}),")."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Response Code"})," (1 byte): The response code indicates the result of the write operation. This could either be a ",(0,r.jsx)(i.strong,{children:"positive response"})," or a ",(0,r.jsx)(i.strong,{children:"negative response"})," (NRC), with the latter indicating specific errors."]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"examples-of-response-codes",children:"Examples of Response Codes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Positive Response (0x00)"}),": The write operation was successful."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Negative Response Codes (NRCs)"}),": If the write operation fails, the ECU will return an appropriate error code. Several NRCs can be returned, depending on the cause of failure."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"negative-response-codes-nrcs",children:"Negative Response Codes (NRCs)"}),"\n",(0,r.jsxs)(i.p,{children:["Negative Response Codes (NRCs) indicate why the write operation could not be completed. Understanding these codes is crucial for diagnosing issues during a ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier"})," operation. Below are some of the most common NRCs encountered:"]}),"\n",(0,r.jsx)(i.h3,{id:"common-negative-response-codes-nrcs",children:"Common Negative Response Codes (NRCs)"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x11 - Service Not Supported"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": This response indicates that the ECU does not support the requested service, either due to firmware limitations or an unsupported version."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": The diagnostic tool sends a request to an ECU that does not have the ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier"})," functionality enabled."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x1234] [0x00000005]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x11]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x12 - Subfunction Not Supported"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": This error occurs when the Data Identifier is valid, but the operation for that specific identifier is not supported. For instance, writing to a read-only memory area or a protected configuration would trigger this error."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": Attempting to write to a protected memory area or read-only register."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x5678] [0x12345678]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x12]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x21 - General Programming Failure"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": This error signifies a general failure during the write operation, often due to internal ECU issues such as invalid data format, memory corruption, or resource conflicts."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": The ECU fails to process the write request due to an internal error such as a checksum failure."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x9876] [0xabcdef01]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x21]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x22 - Conditions Not Correct"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": The operation could not be completed because the ECU is in an inappropriate state. For example, the ECU might need to be in a specific diagnostic session to perform write operations."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": Attempting to write to the ECU when it is not in the correct session or has not granted necessary security access."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x1234] [0x00000001]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x22]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x31 - Request Out of Range"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": This response is returned when the data sent in the request exceeds the allowable range for the specified Data Identifier. This can occur if the data size or value is too large for the designated memory space."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": Sending data that exceeds the expected size or is otherwise invalid for the Data Identifier."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x5678] [0xabcdef0123456789]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x31]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x33 - Security Access Denied"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": This code indicates that the ECU requires security authentication (password or key) before proceeding with the operation, and the tester has not provided the required credentials."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": The diagnostic tool has not completed a security access procedure."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x2345] [0x0001]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x33]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"0x35 - Request Not Accepted"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": This error code indicates that the ECU is unable to accept the write request due to reasons like memory limitations, system status, or internal constraints."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": The ECU is in a locked state, or the requested operation is not feasible due to an internal condition such as resource constraints."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Example"}),": Request:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x1234] [0x00000005]\n"})}),"\n","Response:","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x35]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"realistic-examples-of-write-data-by-identifier",children:"Realistic Examples of Write Data By Identifier"}),"\n",(0,r.jsx)(i.h3,{id:"example-1-successful-calibration-write",children:"Example 1: Successful Calibration Write"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": A technician is updating the engine calibration in an ECU as part of a maintenance task."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Request"}),":","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x1234] [0x00000005]\n"})}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Response"}),":","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x00]\n"})}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Explanation"}),": The ECU successfully updated the calibration data located at ",(0,r.jsx)(i.code,{children:"0x1234"})," with the new value ",(0,r.jsx)(i.code,{children:"0x00000005"}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"example-2-write-denied-due-to-incorrect-session",children:"Example 2: Write Denied Due to Incorrect Session"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scenario"}),": The technician attempts to write data, but the ECU is in an incorrect session mode (non-programming session)."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Request"}),":","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x1234] [0x00000005]\n"})}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Response"}),":","\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"[0x2E] [0x22]\n"})}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Explanation"}),": The ECU rejected the write operation because it was not in a valid programming session."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"best-practices-and-security-considerations",children:"Best Practices and Security Considerations"}),"\n",(0,r.jsx)(i.h3,{id:"session-management",children:"Session Management"}),"\n",(0,r.jsxs)(i.p,{children:["Ensure that the ECU is in the correct diagnostic session before initiating any write operation. For example, the diagnostic session may need to be switched to a programming or special session mode using the ",(0,r.jsx)(i.strong,{children:"Diagnostic Session Control (0x10)"})," service."]}),"\n",(0,r.jsx)(i.h3,{id:"data-validation",children:"Data Validation"}),"\n",(0,r.jsxs)(i.p,{children:["Always validate the Data Identifier (DID) and the format of the data being written. The data must conform to the specifications for the given DID, including size and value range. This helps avoid issues such as ",(0,r.jsx)(i.strong,{children:"Request Out of Range (0x31)"})," or ",(0,r.jsx)(i.strong,{children:"Subfunction Not Supported (0x12)"})," errors."]}),"\n",(0,r.jsx)(i.h3,{id:"security-access",children:"Security Access"}),"\n",(0,r.jsxs)(i.p,{children:["Some ECUs require security access prior to writing sensitive data such as calibration parameters or software updates. Ensure that the necessary security challenge-response procedure is completed before attempting to write to secured areas. Failure to do so will result in ",(0,r.jsx)(i.strong,{children:"Security Access Denied (0x33)"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(i.p,{children:"Prepare for negative response codes by implementing appropriate error handling and recovery strategies. Diagnostic tools should provide clear feedback to the technician in case of"}),"\n",(0,r.jsx)(i.p,{children:"an error, including guidance on resolving common issues like session mismatches or unsupported operations."}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"Write Data By Identifier (0x2E)"})," service is a critical UDS service used to modify ECU data. Understanding the request and response structures, as well as the associated negative response codes, is essential for efficiently using this service in vehicle diagnostics. By adhering to best practices like session management, data validation, and security procedures, technicians can ensure reliable and safe ECU data modification during diagnostics and maintenance."]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},46876:(e,i,n)=>{n.d(i,{A:()=>a});n(96540);var s=n(68796),r=n.n(s),t=n(74848);const a=e=>{let{code:i,format:n="svg",serverUrl:s="https://www.plantuml.com/plantuml"}=e;const a=`${s}/${n}/${r().encode(i)}`;return(0,t.jsx)("div",{className:"plantuml-diagram",children:(0,t.jsx)("img",{src:a,alt:"PlantUML diagram"})})}}}]);