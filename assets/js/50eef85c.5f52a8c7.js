"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[56156],{23455:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"XCP/Grundlagen/austausch-cto","title":"Austausch von CTOs im ASAM XCP-Protokoll","description":"Der Austausch von CTOs (Command and Response Transport Objects) bildet das R\xfcckgrat der Kommunikation zwischen Master und Slave im ASAM XCP (Universal Measurement and Calibration Protocol). Dieses Protokoll erm\xf6glicht eine effiziente und flexible Daten\xfcbertragung f\xfcr Mess- und Kalibrieranwendungen in der Automobilindustrie und anderen Bereichen. Im Folgenden wird die Struktur und Funktionsweise des CTO-Austauschs detailliert erl\xe4utert.","source":"@site/docs/XCP/02_Grundlagen/03_austausch-cto.md","sourceDirName":"XCP/02_Grundlagen","slug":"/XCP/Grundlagen/austausch-cto","permalink":"/Vehicle-Network-Standards/docs/XCP/Grundlagen/austausch-cto","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/XCP/02_Grundlagen/03_austausch-cto.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"xcpSidebar","previous":{"title":"XCP-Protokollschicht","permalink":"/Vehicle-Network-Standards/docs/XCP/Grundlagen/xcp-protokollschicht"},"next":{"title":"austausch_dto","permalink":"/Vehicle-Network-Standards/docs/XCP/Grundlagen/austausch_dto"}}');var s=r(74848),d=r(28453);const t={},l="Austausch von CTOs im ASAM XCP-Protokoll",a={},h=[{value:"Grundlegende Kommunikationsstruktur",id:"grundlegende-kommunikationsstruktur",level:2},{value:"Aufbau eines CTO-Pakets",id:"aufbau-eines-cto-pakets",level:2},{value:"Positive und Negative Antworten",id:"positive-und-negative-antworten",level:2},{value:"Kommando- und Antwortmechanismus",id:"kommando--und-antwortmechanismus",level:2},{value:"Gruppierung der Kommandos",id:"gruppierung-der-kommandos",level:2},{value:"\xdcbersicht der Standardkommandos",id:"\xfcbersicht-der-standardkommandos",level:2},{value:"Kalibrierkommandos",id:"kalibrierkommandos",level:2},{value:"Seitenumschaltung",id:"seitenumschaltung",level:2},{value:"Zyklischer Datenaustausch (DAQ)",id:"zyklischer-datenaustausch-daq",level:2},{value:"Flash-Programmierung",id:"flash-programmierung",level:2},{value:"Zeitsynchronisierung",id:"zeitsynchronisierung",level:2},{value:"Unterst\xfctzung von ASAM-Standards",id:"unterst\xfctzung-von-asam-standards",level:2},{value:"Fazit",id:"fazit",level:2},{value:"Erweiterte Analyse der XCP-Kommunikationsmechanismen: RES, ERR, EV, SERV und Parameterverwaltung",id:"erweiterte-analyse-der-xcp-kommunikationsmechanismen-res-err-ev-serv-und-parameterverwaltung",level:3},{value:"1. RES: Positive Antworten des Slaves",id:"1-res-positive-antworten-des-slaves",level:4},{value:"2. ERR: Fehlerbehandlung im Kommunikationsprozess",id:"2-err-fehlerbehandlung-im-kommunikationsprozess",level:4},{value:"3. EV: Asynchrone Ereignisbenachrichtigungen",id:"3-ev-asynchrone-ereignisbenachrichtigungen",level:4},{value:"4. SERV: Service-Anfragen des Slaves",id:"4-serv-service-anfragen-des-slaves",level:4},{value:"5. Parameterverwaltung im XCP-Slave",id:"5-parameterverwaltung-im-xcp-slave",level:4},{value:"5.1 Verstellen von Parametern",id:"51-verstellen-von-parametern",level:5},{value:"5.2 Dauerhafte Speicherung von Parametern",id:"52-dauerhafte-speicherung-von-parametern",level:5},{value:"A) Speicherung im Steuerger\xe4t",id:"a-speicherung-im-steuerger\xe4t",level:6},{value:"B) Speicherung auf dem Computer",id:"b-speicherung-auf-dem-computer",level:6},{value:"6. Zusammenfassung und Best Practices",id:"6-zusammenfassung-und-best-practices",level:4},{value:"Fazit",id:"fazit-1",level:4}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"austausch-von-ctos-im-asam-xcp-protokoll",children:"Austausch von CTOs im ASAM XCP-Protokoll"})}),"\n",(0,s.jsx)(n.p,{children:"Der Austausch von CTOs (Command and Response Transport Objects) bildet das R\xfcckgrat der Kommunikation zwischen Master und Slave im ASAM XCP (Universal Measurement and Calibration Protocol). Dieses Protokoll erm\xf6glicht eine effiziente und flexible Daten\xfcbertragung f\xfcr Mess- und Kalibrieranwendungen in der Automobilindustrie und anderen Bereichen. Im Folgenden wird die Struktur und Funktionsweise des CTO-Austauschs detailliert erl\xe4utert."}),"\n",(0,s.jsx)(n.h2,{id:"grundlegende-kommunikationsstruktur",children:"Grundlegende Kommunikationsstruktur"}),"\n",(0,s.jsx)(n.p,{children:"In der XCP-Kommunikation fungiert der Master als Initiator der Kommunikation, w\xe4hrend der Slave als Empf\xe4nger agiert. Die Interaktion erfolgt \xfcber den Austausch von Kommandos (CMD) und entsprechenden Antworten (RES oder ERR). Jedes Kommando, das der Master an den Slave sendet, muss vom Slave mit einer positiven (RES) oder negativen (ERR) Antwort quittiert werden. Diese strukturierte Kommunikation gew\xe4hrleistet eine zuverl\xe4ssige und nachvollziehbare Daten\xfcbertragung."}),"\n",(0,s.jsx)(n.h2,{id:"aufbau-eines-cto-pakets",children:"Aufbau eines CTO-Pakets"}),"\n",(0,s.jsx)(n.p,{children:"Ein CTO-Paket besteht aus mehreren Komponenten, die eine eindeutige Identifikation und Verarbeitung des Kommandos erm\xf6glichen:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Packet Identifier (PID):"})," Dieses Feld, das den Wertbereich von ",(0,s.jsx)(n.code,{children:"0xC0"})," bis ",(0,s.jsx)(n.code,{children:"0xFF"})," umfasst, dient der eindeutigen Identifikation des Kommandos."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Command Data:"})," Hier werden spezifische Parameter des Kommandos \xfcbertragen. Die Anzahl der Parameter ist durch ",(0,s.jsx)(n.code,{children:"MAX_CTO-1"})," begrenzt, wobei ",(0,s.jsx)(n.code,{children:"MAX_CTO"})," die maximale L\xe4nge des CTO-Pakets in Bytes definiert."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Die allgemeine Struktur eines CTO-Pakets ist wie folgt:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Position"}),(0,s.jsx)(n.th,{children:"Byte-Bereich"}),(0,s.jsx)(n.th,{children:"Beschreibung"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"0"}),(0,s.jsx)(n.td,{children:"1 Byte"}),(0,s.jsx)(n.td,{children:"Packet Identifier CMD (0xC0\u20260xFF)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1..MAX_CTO-1"}),(0,s.jsx)(n.td,{children:"MAX_CTO-1 Bytes"}),(0,s.jsx)(n.td,{children:"Command Data"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"positive-und-negative-antworten",children:"Positive und Negative Antworten"}),"\n",(0,s.jsx)(n.p,{children:"Sowohl positive als auch negative Antworten k\xf6nnen zus\xe4tzliche spezifische Parameter enthalten, die weiterf\xfchrende Informationen \xfcber den Status oder Fehler liefern. Beispielsweise erfolgt beim Verbindungsaufbau zwischen Master und Slave ein Austausch von Connect-Kommando und positiver Antwort:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Master \u2192 Slave:"})," ",(0,s.jsx)(n.code,{children:"Connect"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Slave \u2192 Master:"})," ",(0,s.jsx)(n.code,{children:"Positive Response"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Im Falle einer positiven Antwort kann der Slave dem Master kommunikationsspezifische Informationen \xfcbermitteln, wie etwa die Unterst\xfctzung von Page Switching (",(0,s.jsx)(n.code,{children:"RESOURCE"}),") oder die maximale Paketl\xe4nge f\xfcr die Messdaten\xfcbertragung (",(0,s.jsx)(n.code,{children:"MAX_DTO"}),"). Diese Informationen sind in der ASAM XCP Teil 2 Protocol Layer Spezifikation detailliert beschrieben."]}),"\n",(0,s.jsx)(n.h2,{id:"kommando--und-antwortmechanismus",children:"Kommando- und Antwortmechanismus"}),"\n",(0,s.jsxs)(n.p,{children:["Der Master sendet ein Kommando an den Slave, wobei das ",(0,s.jsx)(n.code,{children:"PID"}),"-Feld die spezifische Identifikationsnummer des Kommandos enth\xe4lt. Im Datenfeld des Pakets werden zus\xe4tzliche Parameter \xfcbertragen. Nach dem Senden des Kommandos wartet der Master auf die Reaktion des Slaves, die entweder eine positive Antwort (",(0,s.jsx)(n.code,{children:"RES"}),") oder ein Fehlerkommando (",(0,s.jsx)(n.code,{children:"ERR"}),") sein kann."]}),"\n",(0,s.jsxs)(n.p,{children:["Ein wichtiger Aspekt der XCP-Implementierung ist ihre Skalierbarkeit. Nicht jedes Kommando muss zwingend implementiert werden. Die verf\xfcgbaren Kommandos sind in der A2L-Datei unter dem Abschnitt ",(0,s.jsx)(n.code,{children:"XCP IF_DATA"})," aufgelistet. Sollte ein Kommando, das der Master sendet, vom Slave nicht unterst\xfctzt werden, antwortet der Slave mit ",(0,s.jsx)(n.code,{children:"ERR_CMD_UNKNOWN"}),", wodurch der Master erkennt, dass das Kommando nicht implementiert ist und keine weiteren Aktivit\xe4ten im Slave ausgel\xf6st werden."]}),"\n",(0,s.jsx)(n.h2,{id:"gruppierung-der-kommandos",children:"Gruppierung der Kommandos"}),"\n",(0,s.jsx)(n.p,{children:"Die XCP-Kommandos sind in verschiedene Gruppen unterteilt, die unterschiedliche Funktionalit\xe4ten abdecken. Diese Gruppierung erm\xf6glicht eine modulare Implementierung, bei der nur die ben\xf6tigten Kommandos realisiert werden m\xfcssen. Die Hauptgruppen sind:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Standardkommandos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Kalibrierkommandos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Seitenumschaltungs-Kommandos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Programmierkommandos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Debugging-Kommandos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"DAQ-Kommandos (Data Acquisition)"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Innerhalb jeder Gruppe k\xf6nnen bestimmte Kommandos als obligatorisch oder optional gekennzeichnet sein. Beispielsweise m\xfcssen in der Gruppe der Seitenumschaltungs-Kommandos ",(0,s.jsx)(n.code,{children:"SET_CAL_PAGE"})," und ",(0,s.jsx)(n.code,{children:"GET_CAL_PAGE"})," implementiert sein, wenn der Slave Page Switching unterst\xfctzt. Andernfalls k\xf6nnen diese Kommandos weggelassen werden."]}),"\n",(0,s.jsx)(n.h2,{id:"\xfcbersicht-der-standardkommandos",children:"\xdcbersicht der Standardkommandos"}),"\n",(0,s.jsx)(n.p,{children:"Die Standardkommandos bilden das Fundament der XCP-Kommunikation und umfassen grundlegende Funktionen wie Verbindungsmanagement, Statusabfragen und Identifikationsprozesse. Eine Auswahl dieser Kommandos ist im Folgenden dargestellt:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Kommando"}),(0,s.jsx)(n.th,{children:"PID"}),(0,s.jsx)(n.th,{children:"Optionalit\xe4t"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CONNECT"}),(0,s.jsx)(n.td,{children:"0xFF"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DISCONNECT"}),(0,s.jsx)(n.td,{children:"0xFE"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_STATUS"}),(0,s.jsx)(n.td,{children:"0xFD"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SYNCH"}),(0,s.jsx)(n.td,{children:"0xFC"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_COMM_MODE_INFO"}),(0,s.jsx)(n.td,{children:"0xFB"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_ID"}),(0,s.jsx)(n.td,{children:"0xFA"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SET_REQUEST"}),(0,s.jsx)(n.td,{children:"0xF9"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_SEED"}),(0,s.jsx)(n.td,{children:"0xF8"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UNLOCK"}),(0,s.jsx)(n.td,{children:"0xF7"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SET_MTA"}),(0,s.jsx)(n.td,{children:"0xF6"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UPLOAD"}),(0,s.jsx)(n.td,{children:"0xF5"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SHORT_UPLOAD"}),(0,s.jsx)(n.td,{children:"0xF4"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BUILD_CHECKSUM"}),(0,s.jsx)(n.td,{children:"0xF3"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TRANSPORT_LAYER_CMD"}),(0,s.jsx)(n.td,{children:"0xF2"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"USER_CMD"}),(0,s.jsx)(n.td,{children:"0xF1"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_VERSIONPID"}),(0,s.jsx)(n.td,{children:"0xC0, 0x00"}),(0,s.jsx)(n.td,{children:"Optional"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Diese Kommandos decken eine Vielzahl von Funktionen ab, von der Herstellung und Beendigung der Verbindung (",(0,s.jsx)(n.code,{children:"CONNECT"}),", ",(0,s.jsx)(n.code,{children:"DISCONNECT"}),") \xfcber Statusabfragen (",(0,s.jsx)(n.code,{children:"GET_STATUS"}),") bis hin zu spezifischen Steuerbefehlen (",(0,s.jsx)(n.code,{children:"SET_REQUEST"}),", ",(0,s.jsx)(n.code,{children:"UNLOCK"}),")."]}),"\n",(0,s.jsx)(n.h2,{id:"kalibrierkommandos",children:"Kalibrierkommandos"}),"\n",(0,s.jsx)(n.p,{children:"Kalibrierkommandos sind essenziell f\xfcr die Anpassung und Optimierung der Messsysteme. Sie erm\xf6glichen das Herunterladen und Modifizieren von Kalibrierdaten sowie die Verwaltung von Bits und Speicherbereichen. Wichtige Kalibrierkommandos umfassen:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Kommando"}),(0,s.jsx)(n.th,{children:"PID"}),(0,s.jsx)(n.th,{children:"Optionalit\xe4t"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DOWNLOAD"}),(0,s.jsx)(n.td,{children:"0xF0"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DOWNLOAD_NEXT"}),(0,s.jsx)(n.td,{children:"0xEF"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DOWNLOAD_MAX"}),(0,s.jsx)(n.td,{children:"0xEE"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SHORT_DOWNLOAD"}),(0,s.jsx)(n.td,{children:"0xED"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"MODIFY_BITSPID"}),(0,s.jsx)(n.td,{children:"0xEC"}),(0,s.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Diese Kommandos erm\xf6glichen eine pr\xe4zise Steuerung der Kalibrierprozesse und sind daher unverzichtbar f\xfcr eine genaue Messdatenerfassung und -analyse."}),"\n",(0,s.jsx)(n.h2,{id:"seitenumschaltung",children:"Seitenumschaltung"}),"\n",(0,s.jsx)(n.p,{children:"Die Seitenumschaltungs-Kommandos erm\xf6glichen das Wechseln zwischen verschiedenen Kalibrierungsseiten oder Speicherbereichen im Slave. Dies ist besonders n\xfctzlich, wenn verschiedene Messbereiche oder Konfigurationen ben\xf6tigt werden. Wichtige Kommandos in dieser Gruppe sind:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Kommando"}),(0,s.jsx)(n.th,{children:"PID"}),(0,s.jsx)(n.th,{children:"Optionalit\xe4t"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SET_CAL_PAGE"}),(0,s.jsx)(n.td,{children:"0xEB"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_CAL_PAGE"}),(0,s.jsx)(n.td,{children:"0xEA"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_PAG_PROCESSOR_INFO"}),(0,s.jsx)(n.td,{children:"0xE9"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_SEGMENT_INFO"}),(0,s.jsx)(n.td,{children:"0xE8"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_PAGE_INFO"}),(0,s.jsx)(n.td,{children:"0xE7"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SET_SEGMENT_MODE"}),(0,s.jsx)(n.td,{children:"0xE6"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_SEGMENT_MODE"}),(0,s.jsx)(n.td,{children:"0xE5"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"COPY_CAL_PAGE"}),(0,s.jsx)(n.td,{children:"0xE4"}),(0,s.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Diese Kommandos erm\xf6glichen eine flexible Verwaltung der Kalibrierungsdaten und unterst\xfctzen komplexe Konfigurationsanforderungen."}),"\n",(0,s.jsx)(n.h2,{id:"zyklischer-datenaustausch-daq",children:"Zyklischer Datenaustausch (DAQ)"}),"\n",(0,s.jsx)(n.p,{children:"Der zyklische Datenaustausch ist ein zentrales Element f\xfcr die kontinuierliche Erfassung von Messdaten. Die DAQ-Kommandos erm\xf6glichen das Einrichten, Starten, Stoppen und Konfigurieren von DAQ-Listen, die die zu erfassenden Datenpunkte definieren. Die DAQ-Kommandos sind in drei Kategorien unterteilt:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Basics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET_DAQ_PTR"})," (0xE2)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"WRITE_DAQ"})," (0xE1)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET_DAQ_LIST_MODE"})," (0xE0)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"START_STOP_DAQ_LIST"})," (0xDE)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"START_STOP_SYNCH"})," (0xDD)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"WRITE_DAQ_MULTIPLE"})," (0xC7)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"READ_DAQ"})," (0xDB)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET_DAQ_CLOCK"})," (0xDC)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET_DAQ_PROCESSOR_INFO"})," (0xDA)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET_DAQ_RESOLUTION_INFO"})," (0xD9)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET_DAQ_LIST_MODE"})," (0xDF)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET_DAQ_EVENT_INFO"})," (0xD7)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DTO_CTR_Properties"})," (0xC5)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET_DAQ_PACKED_MODE"})," (0xC0, 0x01)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Get_DAQ_PACKED_Mode"})," (0xC0, 0x02)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Statische Konfiguration:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CLEAR_DAQ_LIST"})," (0xE3)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET_DAQ_LIST_INFO"})," (0xD8)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Dynamische Konfiguration:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FREE_DAQ"})," (0xD6)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ALLOC_DAQ"})," (0xD5)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ALLOC_ODT"})," (0xD4)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ALLOC_ODT_ENTRY"})," (0xD3)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Diese Kommandos erm\xf6glichen eine umfassende Steuerung des DAQ-Prozesses, von der Initialisierung \xfcber die Konfiguration bis hin zur Datenerfassung und -verwaltung."}),"\n",(0,s.jsx)(n.h2,{id:"flash-programmierung",children:"Flash-Programmierung"}),"\n",(0,s.jsx)(n.p,{children:"Die Flash-Programmierungs-Kommandos sind essenziell f\xfcr das Schreiben und Verwalten von Firmware im Slave. Sie umfassen Befehle zum Starten, L\xf6schen, \xdcberpr\xfcfen und Verifizieren der Programmierung. Wichtige Kommandos sind:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Kommando"}),(0,s.jsx)(n.th,{children:"PID"}),(0,s.jsx)(n.th,{children:"Optionalit\xe4t"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_START"}),(0,s.jsx)(n.td,{children:"0xD2"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_CLEAR"}),(0,s.jsx)(n.td,{children:"0xD1"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_RESET"}),(0,s.jsx)(n.td,{children:"0xD0"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_PGM_PROCESSOR_INFO"}),(0,s.jsx)(n.td,{children:"0xCF"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET_SECTOR_INFO"}),(0,s.jsx)(n.td,{children:"0xCE"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_PREPARE"}),(0,s.jsx)(n.td,{children:"0xCD"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_FORMAT"}),(0,s.jsx)(n.td,{children:"0xCC"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_NEXT"}),(0,s.jsx)(n.td,{children:"0xCB"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_MAX"}),(0,s.jsx)(n.td,{children:"0xCA"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PROGRAM_VERIFY"}),(0,s.jsx)(n.td,{children:"0xC9"}),(0,s.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Diese Kommandos gew\xe4hrleisten eine sichere und effiziente Programmierung der Firmware, was f\xfcr die Aktualisierung und Wartung von Steuerger\xe4ten unerl\xe4sslich ist."}),"\n",(0,s.jsx)(n.h2,{id:"zeitsynchronisierung",children:"Zeitsynchronisierung"}),"\n",(0,s.jsxs)(n.p,{children:["Das Kommando ",(0,s.jsx)(n.code,{children:"TIME_CORRELATION_PROPERTIES"})," (0xC6) erm\xf6glicht die Synchronisierung der Zeit zwischen Master und Slave. Dies ist besonders wichtig f\xfcr zeitkritische Anwendungen, bei denen die genaue Zuordnung von Messdaten zu Zeitpunkten erforderlich ist."]}),"\n",(0,s.jsx)(n.h2,{id:"unterst\xfctzung-von-asam-standards",children:"Unterst\xfctzung von ASAM-Standards"}),"\n",(0,s.jsx)(n.p,{children:"XCP unterst\xfctzt verschiedene ASAM-Standards, die zus\xe4tzliche Funktionalit\xe4ten und Kommandos bereitstellen. Beispiele hierf\xfcr sind:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ASAM AE MCD-1-XCP AS SW-DBG-over-XCP:"})," PID ",(0,s.jsx)(n.code,{children:"0xC0, 0xFC"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DBG-over-XCP ASAM AE MCD-1 POD BS:"})," PID ",(0,s.jsx)(n.code,{children:"0xC0, 0xFD"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Diese erweiterten Kommandos erm\xf6glichen eine tiefere Integration und spezifische Anpassungen an besondere Anforderungen von Anwendungen und Systemen."}),"\n",(0,s.jsx)(n.h2,{id:"fazit",children:"Fazit"}),"\n",(0,s.jsx)(n.p,{children:"Der Austausch von CTOs im ASAM XCP-Protokoll ist ein komplexes, aber hochflexibles System, das eine pr\xe4zise und zuverl\xe4ssige Kommunikation zwischen Master und Slave gew\xe4hrleistet. Durch die modulare Struktur der Kommandos und die M\xf6glichkeit zur Erweiterung und Anpassung an spezifische Anforderungen bietet XCP eine leistungsf\xe4hige L\xf6sung f\xfcr Mess- und Kalibrieranwendungen in der modernen Automobilindustrie und dar\xfcber hinaus. Ein tiefes Verst\xe4ndnis der Kommandostruktur und der Kommunikationsmechanismen ist unerl\xe4sslich, um das volle Potenzial des XCP-Protokolls auszusch\xf6pfen und eine effiziente Implementierung zu gew\xe4hrleisten."}),"\n",(0,s.jsx)(n.h3,{id:"erweiterte-analyse-der-xcp-kommunikationsmechanismen-res-err-ev-serv-und-parameterverwaltung",children:"Erweiterte Analyse der XCP-Kommunikationsmechanismen: RES, ERR, EV, SERV und Parameterverwaltung"}),"\n",(0,s.jsx)(n.p,{children:"Im Rahmen des ASAM XCP (Universal Measurement and Calibration Protocol) ist die effiziente und zuverl\xe4ssige Kommunikation zwischen Master und Slave von zentraler Bedeutung. Neben dem Austausch von CTOs (Command and Response Transport Objects) spielen die Mechanismen RES (Response), ERR (Error), EV (Event) und SERV (Service Request) eine entscheidende Rolle f\xfcr die Steuerung und \xdcberwachung des Systems. Zudem ist die Verwaltung von Parametern im Slave ein kritischer Aspekt f\xfcr die Anpassung und Optimierung von Steuerger\xe4ten. Dieser Text bietet eine detaillierte Analyse dieser Komponenten aus der Perspektive eines XCP-Experten."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"1-res-positive-antworten-des-slaves",children:"1. RES: Positive Antworten des Slaves"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition und Funktion:"})}),"\n",(0,s.jsx)(n.p,{children:'RES steht f\xfcr "Response" und signalisiert dem Master, dass eine Anforderung erfolgreich umgesetzt wurde. Wenn der Slave ein Kommando vom Master erh\xe4lt und dieses korrekt ausf\xfchren kann, sendet er eine positive Best\xe4tigung zur\xfcck.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Struktur und Inhalte:"})}),"\n",(0,s.jsx)(n.p,{children:"Die RES-Nachricht enth\xe4lt nicht nur die Best\xe4tigung der erfolgreichen Ausf\xfchrung, sondern kann auch zus\xe4tzliche Parameter zur Verf\xfcgung stellen. Diese Parameter bieten weiterf\xfchrende Informationen \xfcber den Status oder spezifische Ergebnisse der ausgef\xfchrten Aktion."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispielhafte Anwendung:"})}),"\n",(0,s.jsxs)(n.p,{children:["Beim Verbindungsaufbau sendet der Master ein ",(0,s.jsx)(n.code,{children:"Connect"}),"-Kommando. Der Slave best\xe4tigt dies mit einer RES-Nachricht, die zus\xe4tzlich Informationen wie unterst\xfctzte Funktionen oder maximale Paketgr\xf6\xdfen enthalten kann."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Referenz:"})}),"\n",(0,s.jsx)(n.p,{children:"F\xfcr detaillierte Informationen \xfcber die enthaltenen Parameter verweist die ASAM XCP Protocol Layer Spezifikation auf spezifische Abschnitte, die die Struktur und Bedeutung dieser Parameter erl\xe4utern."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"2-err-fehlerbehandlung-im-kommunikationsprozess",children:"2. ERR: Fehlerbehandlung im Kommunikationsprozess"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition und Funktion:"})}),"\n",(0,s.jsx)(n.p,{children:'ERR steht f\xfcr "Error" und wird vom Slave gesendet, wenn eine Anforderung des Masters nicht verarbeitet werden kann. Dies kann auf verschiedene Ursachen zur\xfcckzuf\xfchren sein, wie beispielsweise ung\xfcltige Befehle, Ressourcenmangel oder andere Implementierungsfehler.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Struktur und Inhalte:"})}),"\n",(0,s.jsx)(n.p,{children:"Die ERR-Nachricht enth\xe4lt einen spezifischen Fehlercode, der die Art des Fehlers beschreibt. Diese Fehlercodes sind in der ASAM XCP Protocol Layer Spezifikation detailliert aufgef\xfchrt und erm\xf6glichen es dem Master, die genaue Ursache des Fehlers zu identifizieren und entsprechende Ma\xdfnahmen zu ergreifen."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispielhafte Anwendung:"})}),"\n",(0,s.jsxs)(n.p,{children:["Wenn der Master ein Kommando sendet, das der Slave nicht unterst\xfctzt, antwortet der Slave mit ",(0,s.jsx)(n.code,{children:"ERR_CMD_UNKNOWN"}),". Dies signalisiert dem Master, dass das gesendete Kommando nicht implementiert ist, wodurch der Master weitere Aktivit\xe4ten im Slave vermeiden kann."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fehlercodes:"})}),"\n",(0,s.jsx)(n.p,{children:"Die ASAM XCP Spezifikation definiert eine Vielzahl von Fehlercodes, die unterschiedliche Fehlersituationen abdecken, beispielsweise:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ERR_CMD_UNKNOWN"})," (0x10): Unbekanntes Kommando"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ERR_CMD_SYNTAX"})," (0x11): Syntaxfehler im Kommando"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ERR_RESOURCES"})," (0x12): Ressourcenmangel"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"3-ev-asynchrone-ereignisbenachrichtigungen",children:"3. EV: Asynchrone Ereignisbenachrichtigungen"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition und Funktion:"})}),"\n",(0,s.jsx)(n.p,{children:'EV steht f\xfcr "Event" und erm\xf6glicht es dem Slave, den Master \xfcber asynchrone Ereignisse zu informieren. Diese Ereignisse k\xf6nnen beispielsweise St\xf6rungen, Funktionsausf\xe4lle oder andere wichtige System\xe4nderungen sein.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Struktur und Inhalte:"})}),"\n",(0,s.jsx)(n.p,{children:"Ein EV-Paket enth\xe4lt Informationen \xfcber das aufgetretene Ereignis, einschlie\xdflich eines Ereigniscodes und optionaler zus\xe4tzlicher Parameter, die das Ereignis n\xe4her beschreiben."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Optionale Implementierung:"})}),"\n",(0,s.jsx)(n.p,{children:"Die Implementierung von EV ist optional und h\xe4ngt von den spezifischen Anforderungen der Anwendung ab. In Szenarien, in denen eine kontinuierliche \xdcberwachung und schnelle Reaktion auf Systemereignisse erforderlich ist, kann die Nutzung von EV-Kommunikation von gro\xdfem Vorteil sein."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispielhafte Anwendung:"})}),"\n",(0,s.jsx)(n.p,{children:"Ein Slave erkennt einen Ausfall der Kommunikationsschnittstelle und sendet ein EV-Paket an den Master, um diesen \xfcber den Vorfall zu informieren. Der Master kann daraufhin entsprechende Ma\xdfnahmen ergreifen, wie das Initiieren eines Neustarts oder das Benachrichtigen eines Bedieners."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Unterscheidung von Mess- und Stimulationsevents:"})}),"\n",(0,s.jsx)(n.p,{children:"Es ist wichtig zu beachten, dass EV-Nachrichten des Slaves sich von Ereignissen im Zusammenhang mit Messungen und Stimulation unterscheiden. W\xe4hrend letztere typischerweise von der Mess- oder Steuerlogik ausgel\xf6st werden, dienen EV-Nachrichten der systemweiten \xdcberwachung und Fehlermeldung."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"4-serv-service-anfragen-des-slaves",children:"4. SERV: Service-Anfragen des Slaves"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition und Funktion:"})}),"\n",(0,s.jsx)(n.p,{children:'SERV steht f\xfcr "Service Request" und erm\xf6glicht es dem Slave, den Master zur Ausf\xfchrung bestimmter Service-Aufgaben aufzufordern. Dies ist besonders n\xfctzlich, wenn der Slave erkennt, dass bestimmte Aktionen auf der Master-Seite erforderlich sind, um den Betrieb fortzusetzen oder wiederherzustellen.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Struktur und Inhalte:"})}),"\n",(0,s.jsx)(n.p,{children:"Ein SERV-Paket enth\xe4lt einen Service-Request-Code, der die spezifische angeforderte Dienstleistung beschreibt. Diese Codes sind in der ASAM XCP Protocol Layer Spezifikation definiert und decken eine Vielzahl von m\xf6glichen Service-Anforderungen ab."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispielhafte Anwendung:"})}),"\n",(0,s.jsx)(n.p,{children:"Der Slave erkennt, dass ein Neustart des Systems notwendig ist, um eine fehlerhafte Funktionalit\xe4t zu beheben. Er sendet eine SERV-Nachricht mit dem entsprechenden Service-Request-Code, der den Master auffordert, einen Reset-Befehl auszuf\xfchren."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Service-Request-Code-Tabelle:"})}),"\n",(0,s.jsx)(n.p,{children:"Die spezifischen Service-Request-Codes sind in der ASAM XCP Spezifikation aufgef\xfchrt und umfassen Anforderungen wie:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SERV_RESET"})," (0x01): Anforderung eines Systemneustarts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SERV_CALIBRATE"})," (0x02): Anforderung einer Kalibrierungsroutine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SERV_UPDATE"})," (0x03): Anforderung eines Firmware-Updates"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"5-parameterverwaltung-im-xcp-slave",children:"5. Parameterverwaltung im XCP-Slave"}),"\n",(0,s.jsx)(n.p,{children:"Die Verwaltung von Parametern im Slave ist ein wesentlicher Bestandteil der XCP-Kommunikation, da sie die Anpassung und Optimierung von Steuerger\xe4ten erm\xf6glicht. Dieser Prozess umfasst das Verstellen von Parametern sowie die dauerhafte Speicherung der ge\xe4nderten Werte."}),"\n",(0,s.jsx)(n.h5,{id:"51-verstellen-von-parametern",children:"5.1 Verstellen von Parametern"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Adressierung und Daten\xfcbertragung:"})}),"\n",(0,s.jsx)(n.p,{children:"Um einen Parameter im Slave zu \xe4ndern, muss der Master sowohl die Adresse des Parameters als auch den neuen Wert an den Slave senden. XCP definiert Adressen mit f\xfcnf Bytes: vier f\xfcr die eigentliche Adresse und ein Byte f\xfcr die Adress-Extension."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Herausforderungen bei der \xdcbertragung \xfcber CAN:"})}),"\n",(0,s.jsx)(n.p,{children:"Im Kontext einer CAN-\xdcbertragung stehen nur sieben Nutzbytes pro Frame zur Verf\xfcgung. Bei der \xc4nderung eines 4-Byte-Werts sind insgesamt neun Bytes (f\xfcnf f\xfcr die Adresse und vier f\xfcr den Wert) erforderlich. Dies \xfcberschreitet die Kapazit\xe4t eines einzelnen CAN-Frames, sodass die \xc4nderung \xfcber zwei Pakete \xfcbertragen werden muss."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Kommunikationsablauf:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Erstes Paket:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kommando:"})," ",(0,s.jsx)(n.code,{children:"SET_MTA"})," (Set Memory Transfer Address)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dateninhalt:"})," Adresse des Parameters (z.B., HEX: ",(0,s.jsx)(n.code,{children:"001C002C"}),", Extension: ",(0,s.jsx)(n.code,{children:"0"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Best\xe4tigung:"})," Slave antwortet mit ",(0,s.jsx)(n.code,{children:"RES: SET_MTA"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Zweites Paket:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kommando:"})," ",(0,s.jsx)(n.code,{children:"DOWNLOAD"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dateninhalt:"})," Neuer Wert (z.B., HEX: ",(0,s.jsx)(n.code,{children:"00 00 E0 40"})," f\xfcr einen Float-Wert)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Best\xe4tigung:"})," Slave antwortet mit ",(0,s.jsx)(n.code,{children:"RES: DOWNLOAD"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Drittes Paket (Optional):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kommando:"})," ",(0,s.jsx)(n.code,{children:"SHORT_UPLOAD"})," zur \xdcberpr\xfcfung"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Best\xe4tigung:"})," Slave best\xe4tigt mit ",(0,s.jsx)(n.code,{children:"RES: SHORT_UPLOAD"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Trace-Darstellung:"})}),"\n",(0,s.jsx)(n.p,{children:"In einer Trace-Darstellung (Bild 18) w\xfcrde die Kommunikation wie folgt visualisiert:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Master \u2192 Slave: SET_MTA (Adresse: 001C002C, Extension: 0)\nSlave \u2192 Master: RES: SET_MTA\nMaster \u2192 Slave: DOWNLOAD (Wert: 00 00 E0 40, L\xe4nge: 4)\nSlave \u2192 Master: RES: DOWNLOAD\nMaster \u2192 Slave: SHORT_UPLOAD\nSlave \u2192 Master: RES: SHORT_UPLOAD\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\xdcberpr\xfcfung und Best\xe4tigung:"})}),"\n",(0,s.jsxs)(n.p,{children:["Durch den abschlie\xdfenden ",(0,s.jsx)(n.code,{children:"SHORT_UPLOAD"})," kann der Master sicherstellen, dass der Parameter erfolgreich ge\xe4ndert wurde, indem er den neuen Wert ausliest und mit dem gesetzten Wert vergleicht."]}),"\n",(0,s.jsx)(n.h5,{id:"52-dauerhafte-speicherung-von-parametern",children:"5.2 Dauerhafte Speicherung von Parametern"}),"\n",(0,s.jsx)(n.p,{children:"Die ge\xe4nderten Parameter im RAM des Steuerger\xe4tes sind nach einem Neustart verloren, da der RAM fl\xfcchtig ist. Daher m\xfcssen die \xc4nderungen dauerhaft gespeichert werden. Es gibt zwei Hauptans\xe4tze:"}),"\n",(0,s.jsx)(n.h6,{id:"a-speicherung-im-steuerger\xe4t",children:"A) Speicherung im Steuerger\xe4t"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"EEPROM oder Flash:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"EEPROM:"})," Nicht-fl\xfcchtiger Speicher, der \xc4nderungen automatisch oder manuell speichern kann. Vorteilhaft f\xfcr kleine Datenmengen, aber bei gro\xdfen Parametern oft unpraktisch."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flash:"})," Gr\xf6\xdferer Speicherplatz, aber komplexer in der Handhabung, da Flash-Speicher blockweise gel\xf6scht und neu beschrieben werden muss."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verfahren:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatische Speicherung:"})," Beim Herunterfahren des Steuerger\xe4ts."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Manuelle Speicherung:"})," Durch Benutzerinteraktion."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Herausforderungen:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Begrenzter Speicherplatz im EEPROM."}),"\n",(0,s.jsx)(n.li,{children:"Komplexit\xe4t beim Schreiben in Flash-Speicher, insbesondere bei gro\xdfen Datenmengen und der Notwendigkeit, Pr\xfcfsummen korrekt zu berechnen."}),"\n"]}),"\n",(0,s.jsx)(n.h6,{id:"b-speicherung-auf-dem-computer",children:"B) Speicherung auf dem Computer"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parametersatzdateien:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Formate:"})," ASCII-Textdateien, C- oder H-Files, Hex-Files."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inhalte:"})," Namen und Werte der Parameter, sowie optionale Metadaten wie Reifegrad oder Historie."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vorgehensweise:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Speichern:"})," Ge\xe4nderte Parameter werden auf dem Computer abgelegt."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wiederherstellen:"})," Beim Neustart des Steuerger\xe4ts werden die Parameter aus der Datei per ",(0,s.jsx)(n.code,{children:"DOWNLOAD"}),"-Kommando in den RAM des Slaves \xfcbertragen."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vorteile:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Flexibilit\xe4t und Skalierbarkeit, da gro\xdfe Parametermengen effizient verwaltet werden k\xf6nnen."}),"\n",(0,s.jsx)(n.li,{children:"Einfachere Handhabung und Integration in Arbeitsprozesse, insbesondere ohne Zugriff auf den Quellcode des Steuerger\xe4ts."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel-Szenario:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Speicherung:"})," Ein Applikateur speichert nach Abschluss der Arbeit die ge\xe4nderten Parameter in einer Datei."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wiederherstellung:"})," Am n\xe4chsten Tag l\xe4dt der Applikateur die Datei wieder in den Slave, sodass die vorherigen \xc4nderungen fortgesetzt werden k\xf6nnen."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Abbildung 19: \xdcbertragung einer Parametersatzdatei"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Parametersatzdatei (Computer) \u2192 Master \u2192 Slave: DOWNLOAD (Parameterwerte)\nSlave \u2192 Master: RES: DOWNLOAD\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Flashen der Parameter:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hex-Files:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Erstellung:"})," Parameterdateien werden in Hex-Files umgewandelt."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integration:"})," Die Hex-Files werden in das bestehende Flash-File integriert, unter Ber\xfccksichtigung der Adressen und Werte."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pr\xfcfsummen:"})," Korrekte Berechnung und Einf\xfcgung der Pr\xfcfsummen ist entscheidend f\xfcr die erfolgreiche Flash-Programmierung."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Prozessschritte:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kopieren:"})," Die Parameterdatei wird in das Flash-File kopiert."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verarbeitung:"})," Eventuell notwendige zus\xe4tzliche Schritte zur Erstellung eines flashbaren Files."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flashen:"})," Das aktualisierte Flash-File wird in das Steuerger\xe4t geschrieben."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Herausforderungen:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"L\xe4ngere Erstellungszeiten f\xfcr flashbare Hex-Files."}),"\n",(0,s.jsx)(n.li,{children:"Notwendigkeit der genauen Adressierung und Pr\xfcfsummenberechnung."}),"\n",(0,s.jsx)(n.li,{children:"Einschr\xe4nkungen bei der Verf\xfcgbarkeit des Quellcodes."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"6-zusammenfassung-und-best-practices",children:"6. Zusammenfassung und Best Practices"}),"\n",(0,s.jsx)(n.p,{children:"Die effektive Nutzung der RES, ERR, EV und SERV Mechanismen sowie die sorgf\xe4ltige Verwaltung von Parametern sind essenziell f\xfcr eine robuste und flexible XCP-Implementierung. Hier einige Best Practices:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Klare Fehlerbehandlung:"})," Implementieren Sie umfassende ERR-Nachrichten und behandeln Sie Fehler systematisch, um die Stabilit\xe4t der Kommunikation zu gew\xe4hrleisten."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ereignismanagement:"})," Nutzen Sie EV-Nachrichten f\xfcr kritische Systemereignisse, um proaktive \xdcberwachungs- und Reaktionsmechanismen zu etablieren."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Service Requests:"})," Verwenden Sie SERV-Nachrichten, um notwendige Service-Aktionen automatisch zu initiieren und die Systemintegrit\xe4t aufrechtzuerhalten."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parameterverwaltung:"})," Bevorzugen Sie die Speicherung von Parametern auf dem Computer, um Flexibilit\xe4t und Skalierbarkeit zu maximieren. Nutzen Sie Flash-Speicher nur, wenn unbedingt erforderlich und die Komplexit\xe4t beherrschbar ist."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dokumentation:"})," Halten Sie eine umfassende Dokumentation der verwendeten Parameter und Kommunikationsabl\xe4ufe bereit, um Wartung und Erweiterungen zu erleichtern."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"fazit-1",children:"Fazit"}),"\n",(0,s.jsx)(n.p,{children:"Die erweiterten Kommunikationsmechanismen von ASAM XCP, einschlie\xdflich RES, ERR, EV und SERV, bieten eine robuste Grundlage f\xfcr die Steuerung und \xdcberwachung von Steuerger\xe4ten in komplexen Systemen. Die sorgf\xe4ltige Verwaltung von Parametern, unterst\xfctzt durch flexible Speichermethoden, erm\xf6glicht eine pr\xe4zise Anpassung und Optimierung der Systeme. Ein tiefes Verst\xe4ndnis dieser Mechanismen ist unerl\xe4sslich, um das volle Potenzial des XCP-Protokolls auszusch\xf6pfen und eine effiziente Implementierung sicherzustellen. Durch die Anwendung bew\xe4hrter Methoden und die Ber\xfccksichtigung der beschriebenen Herausforderungen k\xf6nnen Entwickler und Ingenieure die Leistungsf\xe4higkeit ihrer Mess- und Kalibrieranwendungen signifikant steigern."})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var i=r(96540);const s={},d=i.createContext(s);function t(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);