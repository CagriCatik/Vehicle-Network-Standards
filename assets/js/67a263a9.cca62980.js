"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[48680],{13016:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"UDS/services/request-file-transfer","title":"Request File Transfer - 0x38","description":"The Request File Transfer (0x38) service is a sophisticated mechanism in the Unified Diagnostic Services (UDS) protocol (ISO 14229), designed to facilitate file-based data transfer between a client (e.g., diagnostic tool) and an ECU (Electronic Control Unit). Unlike traditional byte transfer methods, the Request File Transfer (0x38) service is optimized for systems that operate with file systems, such as those using Linux or embedded operating systems, where files are the primary units of data storage. This service provides a structured approach to downloading and uploading files to and from the ECU, allowing operations like file addition, replacement, deletion, and reading of files or directories.","source":"@site/docs/UDS/02_services/12_Request-File-Transfer.mdx","sourceDirName":"UDS/02_services","slug":"/UDS/services/request-file-transfer","permalink":"/Vehicle-Network-Standards/docs/UDS/services/request-file-transfer","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/02_services/12_Request-File-Transfer.mdx","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"id":"request-file-transfer","title":"Request File Transfer - 0x38"},"sidebar":"udsSidebar","previous":{"title":"Read Scaling Data by Identifier - 0x24","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Read-Scaling-Data-by-Identifier"},"next":{"title":"Request Download - 0x34","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Request-Download"}}');var n=r(74848),i=r(28453);r(68796),r(46876);const d={id:"request-file-transfer",title:"Request File Transfer - 0x38"},l="Request File Transfer - 0x38",o={},h=[{value:"<strong>Purpose and Use Cases</strong>",id:"purpose-and-use-cases",level:2},{value:"<strong>Overview of the Request File Transfer (0x38) Service</strong>",id:"overview-of-the-request-file-transfer-0x38-service",level:2},{value:"<strong>Request Frame Format for Request File Transfer (0x38)</strong>",id:"request-frame-format-for-request-file-transfer-0x38",level:2},{value:"<strong>Mode of Operation Details</strong>",id:"mode-of-operation-details",level:3},{value:"<strong>Response Frame Format for Request File Transfer (0x38)</strong>",id:"response-frame-format-for-request-file-transfer-0x38",level:2},{value:"<strong>Negative Response</strong>",id:"negative-response",level:3},{value:"<strong>Supported Negative Response Codes (NRC)</strong>",id:"supported-negative-response-codes-nrc",level:3},{value:"<strong>File Transfer Process</strong>",id:"file-transfer-process",level:2},{value:"<strong>Conclusion</strong>",id:"conclusion",level:2}];function c(e){const s={h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"request-file-transfer---0x38",children:"Request File Transfer - 0x38"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," service is a sophisticated mechanism in the ",(0,n.jsx)(s.strong,{children:"Unified Diagnostic Services (UDS)"})," protocol (ISO 14229), designed to facilitate file-based data transfer between a client (e.g., diagnostic tool) and an ECU (Electronic Control Unit). Unlike traditional byte transfer methods, the ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," service is optimized for systems that operate with file systems, such as those using Linux or embedded operating systems, where files are the primary units of data storage. This service provides a structured approach to downloading and uploading files to and from the ECU, allowing operations like file addition, replacement, deletion, and reading of files or directories."]}),"\n",(0,n.jsxs)(s.p,{children:["In addition to transferring application files, the ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," service is used to interact with the file system on the ECU, which can be crucial for tasks like software updates, firmware flashing, and configuration data management."]}),"\n",(0,n.jsx)(s.h2,{id:"purpose-and-use-cases",children:(0,n.jsx)(s.strong,{children:"Purpose and Use Cases"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"0x38 service"})," is often used when dealing with ECUs that support a file system (e.g., Linux-based ECUs). It offers an alternative to the ",(0,n.jsx)(s.strong,{children:"Request Download (0x34)"})," and ",(0,n.jsx)(s.strong,{children:"Request Upload (0x35)"})," services, which are based on memory block transfers and are better suited for ECUs without a file system."]}),"\n",(0,n.jsxs)(s.p,{children:["Key use cases for the ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," service include:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Over-the-Air (OTA) Software Updates"}),": Allows downloading of new software or firmware to ECUs with a file system."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Data Logging"}),": Uploading logs or configuration files from the ECU to a diagnostic tool."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Calibration Data Management"}),": Uploading or downloading calibration files for ECU tuning or diagnostics."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Firmware Flashing"}),": Replacing existing firmware or adding new firmware files to the ECU."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"overview-of-the-request-file-transfer-0x38-service",children:(0,n.jsx)(s.strong,{children:"Overview of the Request File Transfer (0x38) Service"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"0x38"})," service is initiated by the client to request a file-based transfer from the ECU. The client sends a request specifying the desired operation (add, delete, replace, or read files) along with the file information. Once the server (ECU) processes the request, it responds with either a positive or negative response based on the validity of the operation."]}),"\n",(0,n.jsxs)(s.p,{children:["This service is typically used in conjunction with the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service, which handles the actual file data transfer, and the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service, which terminates the file transfer session."]}),"\n",(0,n.jsx)(s.h2,{id:"request-frame-format-for-request-file-transfer-0x38",children:(0,n.jsx)(s.strong,{children:"Request Frame Format for Request File Transfer (0x38)"})}),"\n",(0,n.jsxs)(s.p,{children:["The request frame for the ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," service contains several parameters that are required to identify the file operation, specify the file to be transferred, and provide details about its size and format. Below is the detailed format:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Byte Number"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Parameter Name"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"SID (Service Identifier)"})}),(0,n.jsxs)(s.td,{children:["This is the service identifier for the ",(0,n.jsx)(s.strong,{children:"Request File Transfer"})," service. It is always ",(0,n.jsx)(s.strong,{children:"0x38"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"2"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Mode of Operation (MOP)"})}),(0,n.jsx)(s.td,{children:"Defines the operation to be performed on the file or directory. Possible values:"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"0x01"}),": Add File"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"0x02"}),": Delete File"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"0x03"}),": Replace File"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"0x04"}),": Read File"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"0x05"}),": Read Directory"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"3-4"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Path and Name Length"})}),(0,n.jsxs)(s.td,{children:["A 2-byte value indicating the length of the ",(0,n.jsx)(s.strong,{children:"File Path and Name"})," in bytes."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"5 to (5 + n - 1)"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Path and Name"})}),(0,n.jsxs)(s.td,{children:["Specifies the file or directory path in the ECU\u2019s file system. This value is encoded in ASCII. The number of bytes is defined by ",(0,n.jsx)(s.strong,{children:"File Path and Name Length"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"5 + n"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data Format Identifier"})}),(0,n.jsx)(s.td,{children:"A 1-byte value specifying the data format (compression and encryption) for the file:"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"Higher nibble"}),": Compression method (bits 7-4)"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{}),(0,n.jsx)(s.td,{}),(0,n.jsxs)(s.td,{children:["- ",(0,n.jsx)(s.strong,{children:"Lower nibble"}),": Encryption method (bits 3-0)"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"5 + n + 1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Size Parameter Length"})}),(0,n.jsxs)(s.td,{children:["A 1-byte field that specifies the length of the ",(0,n.jsx)(s.strong,{children:"File Size Uncompressed"})," and ",(0,n.jsx)(s.strong,{children:"File Size Compressed"})," parameters."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"5 + n + 2 to (5 + n + 2 + k - 1)"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Size Uncompressed"})}),(0,n.jsx)(s.td,{children:"A 2-byte value that specifies the uncompressed file size in bytes (if applicable)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"5 + n + 2 + k to (5 + n + 1 + 2k)"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Size Compressed"})}),(0,n.jsx)(s.td,{children:"A 2-byte value that specifies the compressed file size in bytes (if applicable)."})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"mode-of-operation-details",children:(0,n.jsx)(s.strong,{children:"Mode of Operation Details"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Mode of Operation (MOP)"})," parameter defines what kind of operation is being performed on the file or directory. The client sets this parameter based on the desired action:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"MOP Value"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x01"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Add File"}),": Adds a file to the specified location in the ECU\u2019s file system."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x02"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Delete File"}),": Deletes the specified file from the ECU\u2019s file system."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x03"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Replace File"}),": Replaces an existing file in the ECU\u2019s file system with the new file."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x04"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Read File"}),": Reads the contents of the specified file from the ECU and uploads it to the client."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x05"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Read Directory"}),": Reads the contents of the specified directory and uploads the directory contents."]})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"response-frame-format-for-request-file-transfer-0x38",children:(0,n.jsx)(s.strong,{children:"Response Frame Format for Request File Transfer (0x38)"})}),"\n",(0,n.jsxs)(s.p,{children:["The ECU responds to the ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," request with a response frame. There are two possible responses: ",(0,n.jsx)(s.strong,{children:"positive"})," and ",(0,n.jsx)(s.strong,{children:"negative"}),". The response frame structure is as follows:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Byte Number"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Parameter Name"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"PCI Length"})}),(0,n.jsx)(s.td,{children:"Specifies the length of the response frame."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"2"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Response SID"})}),(0,n.jsxs)(s.td,{children:["The Service Identifier for the response, which is ",(0,n.jsx)(s.strong,{children:"0x78"})," (0x38 + 0x40)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"3"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Mode of Operation (MOP)"})}),(0,n.jsxs)(s.td,{children:["Echoes the ",(0,n.jsx)(s.strong,{children:"Mode of Operation"})," parameter from the request frame."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"4"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Length Data Format Identifier"})}),(0,n.jsxs)(s.td,{children:["Specifies the length of the ",(0,n.jsx)(s.strong,{children:"Max Number of Block Length"})," parameter."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"5"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Max Number of Block Length"})}),(0,n.jsx)(s.td,{children:"Indicates the maximum number of data bytes to be sent in each transfer block."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"6"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Data Format Identifier"})}),(0,n.jsxs)(s.td,{children:["Echoes the ",(0,n.jsx)(s.strong,{children:"Data Format Identifier"})," parameter from the request frame."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"7"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Size or Directory Info Length"})}),(0,n.jsxs)(s.td,{children:["Specifies the length of the ",(0,n.jsx)(s.strong,{children:"File Size Uncompressed"})," or ",(0,n.jsx)(s.strong,{children:"Directory Info Length"})," (if applicable)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"8"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Size Uncompressed"})}),(0,n.jsx)(s.td,{children:"Specifies the size of the uncompressed file in bytes (if applicable)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"9"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"File Size Compressed"})}),(0,n.jsx)(s.td,{children:"Specifies the size of the compressed file in bytes (if applicable)."})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"negative-response",children:(0,n.jsx)(s.strong,{children:"Negative Response"})}),"\n",(0,n.jsxs)(s.p,{children:["If the ECU cannot process the file transfer request, it sends a ",(0,n.jsx)(s.strong,{children:"negative response"})," frame containing the ",(0,n.jsx)(s.strong,{children:"Negative Response Code (NRC)"}),". Common reasons for a negative response include invalid file paths, unsupported file operations, or security access issues."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Byte Number"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Parameter Name"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"PCI Length"})}),(0,n.jsx)(s.td,{children:"Specifies the length of the response frame."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"2"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Request SID"})}),(0,n.jsxs)(s.td,{children:["The Service Identifier for the ",(0,n.jsx)(s.strong,{children:"Request File Transfer"})," service, which is ",(0,n.jsx)(s.strong,{children:"0x38"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"3"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"NRC"})}),(0,n.jsxs)(s.td,{children:["The ",(0,n.jsx)(s.strong,{children:"Negative Response Code"})," indicating why the request was rejected."]})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"supported-negative-response-codes-nrc",children:(0,n.jsx)(s.strong,{children:"Supported Negative Response Codes (NRC)"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"NRC Value"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Mnemonic"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x13"})}),(0,n.jsx)(s.td,{children:"Incorrect message length or invalid format"}),(0,n.jsx)(s.td,{children:"IML"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x22"})}),(0,n.jsx)(s.td,{children:"Condition not correct (e.g., invalid path or file system error)"}),(0,n.jsx)(s.td,{children:"CNC"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x31"})}),(0,n.jsx)(s.td,{children:"Request out of range (e.g., invalid file path or size mismatch)"}),(0,n.jsx)(s.td,{children:"ROOR"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x33"})}),(0,n.jsx)(s.td,{children:"Security access denied (e.g., insufficient permissions)"}),(0,n.jsx)(s.td,{children:"SAD"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x70"})}),(0,n.jsx)(s.td,{children:"Upload/download not accepted (e.g., hardware or memory failure)"}),(0,n.jsx)(s.td,{children:"UDN"})]})]})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"file-transfer-process",children:(0,n.jsx)(s.strong,{children:"File Transfer Process"})}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Initiating a Request"}),": The client sends a ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," message to the ECU specifying the file operation, file path, data format, and file size information."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Server Validation"}),": Upon receiving the request, the ECU validates the file operation (e.g., ensuring the file exists for a read operation, or there is space to add or replace a file). If validation fails, a ",(0,n.jsx)(s.strong,{children:"negative response"})," is sent with an appropriate ",(0,n.jsx)(s.strong,{children:"NRC"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Data Transfer"}),": If the request is valid, the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service is used to send or receive the file data in blocks. Each block is processed sequentially, and the block sequence counter is incremented to track the progress."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Completion"}),": After the data transfer is complete, the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service can be used to terminate the file transfer session."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"conclusion",children:(0,n.jsx)(s.strong,{children:"Conclusion"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request File Transfer (0x38)"})," service provides a robust and efficient method for file-based data exchange in UDS-compliant ECUs, especially those with file systems. It is versatile, supporting operations such as file addition, replacement, deletion, and reading, which are essential for modern automotive applications like software updates, calibration, and data logging. The service\u2019s structured approach, including the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," and ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," services, ensures reliable and secure file handling between the client and ECU."]})]})}function a(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},46876:(e,s,r)=>{r.d(s,{A:()=>d});r(96540);var t=r(68796),n=r.n(t),i=r(74848);const d=e=>{let{code:s,format:r="svg",serverUrl:t="https://www.plantuml.com/plantuml"}=e;const d=`${t}/${r}/${n().encode(s)}`;return(0,i.jsx)("div",{className:"plantuml-diagram",children:(0,i.jsx)("img",{src:d,alt:"PlantUML diagram"})})}}}]);