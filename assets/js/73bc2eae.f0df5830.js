"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[85433],{74416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"OTA/introduction/intro","title":"Over-the-Air","description":"OTA technology is integral to contemporary automotive systems, facilitating remote updates, diagnostics, and feature enhancements without necessitating physical access to the vehicle. This documentation delves into the technical intricacies of OTA, encompassing its architecture, protocols, security measures, implementation challenges, and best practices. It is tailored for advanced users with expertise in automotive electronics, embedded systems, and cybersecurity.","source":"@site/docs/OTA/01_introduction/01_intro.md","sourceDirName":"OTA/01_introduction","slug":"/OTA/introduction/intro","permalink":"/Vehicle-Network-Standards/docs/OTA/introduction/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/OTA/01_introduction/01_intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"otaSidebar","previous":{"title":"Introduction","permalink":"/Vehicle-Network-Standards/docs/category/introduction-1"},"next":{"title":"Definition of Over-the-Air","permalink":"/Vehicle-Network-Standards/docs/OTA/introduction/definition"}}');var s=t(74848),r=t(28453);const a={},l="Over-the-Air",o={},c=[{value:"What is Over-the-Air (OTA) Technology?",id:"what-is-over-the-air-ota-technology",level:2},{value:"Key Components of OTA Architecture",id:"key-components-of-ota-architecture",level:2},{value:"1. Cloud Backend",id:"1-cloud-backend",level:3},{value:"2. Vehicle Gateway (Telematics Control Unit - TCU)",id:"2-vehicle-gateway-telematics-control-unit---tcu",level:3},{value:"3. Electronic Control Units (ECUs)",id:"3-electronic-control-units-ecus",level:3},{value:"4. Security Infrastructure",id:"4-security-infrastructure",level:3},{value:"OTA Update Types",id:"ota-update-types",level:2},{value:"1. Firmware Over-the-Air (FOTA)",id:"1-firmware-over-the-air-fota",level:3},{value:"2. Software Over-the-Air (SOTA)",id:"2-software-over-the-air-sota",level:3},{value:"OTA Protocols and Communication Mechanisms",id:"ota-protocols-and-communication-mechanisms",level:2},{value:"HTTP(S) &amp; MQTT",id:"https--mqtt",level:3},{value:"TLS (Transport Layer Security)",id:"tls-transport-layer-security",level:3},{value:"Uptane",id:"uptane",level:3},{value:"ISO 26262 &amp; ISO 21434",id:"iso-26262--iso-21434",level:3},{value:"Security Considerations in OTA",id:"security-considerations-in-ota",level:2},{value:"End-to-End Encryption (E2EE)",id:"end-to-end-encryption-e2ee",level:3},{value:"Authentication &amp; Authorization",id:"authentication--authorization",level:3},{value:"Secure Boot",id:"secure-boot",level:3},{value:"Rollback Mechanism",id:"rollback-mechanism",level:3},{value:"Challenges in OTA Implementation",id:"challenges-in-ota-implementation",level:2},{value:"Bandwidth Limitations",id:"bandwidth-limitations",level:3},{value:"Update Failures",id:"update-failures",level:3},{value:"Regulatory Compliance",id:"regulatory-compliance",level:3},{value:"Integration with Legacy Systems",id:"integration-with-legacy-systems",level:3},{value:"OTA Implementation Best Practices",id:"ota-implementation-best-practices",level:2},{value:"1. Incremental Updates",id:"1-incremental-updates",level:3},{value:"2. Testing and Validation",id:"2-testing-and-validation",level:3},{value:"3. Version Management and Rollback",id:"3-version-management-and-rollback",level:3},{value:"4. User Consent and Update Scheduling",id:"4-user-consent-and-update-scheduling",level:3},{value:"5. Logging and Monitoring",id:"5-logging-and-monitoring",level:3},{value:"6. Secure Storage",id:"6-secure-storage",level:3},{value:"7. Redundancy and Fail-Safes",id:"7-redundancy-and-fail-safes",level:3},{value:"OTA Update Workflow Example",id:"ota-update-workflow-example",level:2},{value:"Step-by-Step Workflow",id:"step-by-step-workflow",level:3},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"over-the-air",children:"Over-the-Air"})}),"\n",(0,s.jsx)(n.p,{children:"OTA technology is integral to contemporary automotive systems, facilitating remote updates, diagnostics, and feature enhancements without necessitating physical access to the vehicle. This documentation delves into the technical intricacies of OTA, encompassing its architecture, protocols, security measures, implementation challenges, and best practices. It is tailored for advanced users with expertise in automotive electronics, embedded systems, and cybersecurity."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-over-the-air-ota-technology",children:"What is Over-the-Air (OTA) Technology?"}),"\n",(0,s.jsx)(n.p,{children:"Over-the-Air (OTA) technology enables the remote updating of vehicle software and firmware through wireless communication channels. This encompasses updates for Electronic Control Units (ECUs), infotainment systems, telematics modules, and other essential vehicle components. By leveraging OTA, manufacturers can:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reduce Operational Costs"}),": Eliminate the need for customers to visit service centers for updates."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enhance Customer Experience"}),": Provide seamless and timely updates, improving vehicle functionality and safety."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Increase Flexibility"}),": Rapidly deploy feature enhancements and security patches as needed."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"OTA is pivotal in modern vehicles, underpinning advancements in safety, security, and functionality."}),"\n",(0,s.jsx)(n.h2,{id:"key-components-of-ota-architecture",children:"Key Components of OTA Architecture"}),"\n",(0,s.jsx)(n.p,{children:"A robust OTA architecture integrates several components to ensure secure, efficient, and reliable updates. The primary components include:"}),"\n",(0,s.jsx)(n.h3,{id:"1-cloud-backend",children:"1. Cloud Backend"}),"\n",(0,s.jsx)(n.p,{children:"The cloud backend serves as the central hub for managing software updates. Its responsibilities include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Software Distribution"}),": Manages the deployment of update packages to vehicles."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Versioning and Metadata Storage"}),": Maintains records of software versions, dependencies, and update metadata."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication and Authorization"}),": Ensures that only authorized updates are distributed and applied."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example Configuration for Cloud Backend Authentication:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "auth": {\n    "type": "OAuth2",\n    "token_endpoint": "https://api.automanufacturer.com/oauth/token",\n    "client_id": "ota_service_client",\n    "client_secret": "secure_client_secret"\n  },\n  "update_distribution": {\n    "regions": ["NA", "EU", "APAC"],\n    "rollout_strategy": "gradual",\n    "max_concurrent_updates": 1000\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-vehicle-gateway-telematics-control-unit---tcu",children:"2. Vehicle Gateway (Telematics Control Unit - TCU)"}),"\n",(0,s.jsx)(n.p,{children:"The TCU acts as an intermediary between the cloud backend and the vehicle's ECUs. Key functions include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wireless Connectivity"}),": Supports cellular, Wi-Fi, and Bluetooth connections for data transmission."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Encryption"}),": Implements encryption protocols to secure data during transmission."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update Management"}),": Coordinates the receipt and distribution of update packages to relevant ECUs."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Sample Code Snippet for Establishing a Secure Connection in TCU:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'#include <openssl/ssl.h>\n#include <openssl/err.h>\n\n// Initialize OpenSSL\nSSL_library_init();\nSSL_CTX *ctx = SSL_CTX_new(TLS_client_method());\n\n// Load trusted CA certificates\nSSL_CTX_load_verify_locations(ctx, "ca_cert.pem", NULL);\n\n// Create SSL connection\nSSL *ssl = SSL_new(ctx);\nint server_fd = connect_to_server("api.automanufacturer.com", 443);\nSSL_set_fd(ssl, server_fd);\n\n// Perform SSL handshake\nif (SSL_connect(ssl) <= 0) {\n    ERR_print_errors_fp(stderr);\n    // Handle error\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-electronic-control-units-ecus",children:"3. Electronic Control Units (ECUs)"}),"\n",(0,s.jsx)(n.p,{children:"ECUs are specialized modules responsible for various vehicle functions. They receive and apply updates securely, ensuring minimal disruption to vehicle operations."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example ECU Update Handler Function:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'#include <stdint.h>\n#include <stdbool.h>\n#include "secure_storage.h"\n#include "crypto.h"\n\nbool apply_firmware_update(uint8_t *update_data, size_t size) {\n    // Verify update signature\n    if (!verify_signature(update_data, size, PUBLIC_KEY)) {\n        return false;\n    }\n\n    // Write update to secure storage\n    if (!write_secure_storage("firmware", update_data, size)) {\n        return false;\n    }\n\n    // Reboot ECU to apply update\n    reboot_ecu();\n\n    return true;\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-security-infrastructure",children:"4. Security Infrastructure"}),"\n",(0,s.jsx)(n.p,{children:"Security is paramount in OTA implementations. The security infrastructure encompasses:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encrypted Data Transmission"}),": Ensures all data exchanges are secure."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Secure Boot and Code Signing"}),": Verifies the integrity and authenticity of software before execution."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollback Mechanisms"}),": Provides the ability to revert to a previous stable state in case of update failures."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Secure Boot Verification Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'#include "secure_boot.h"\n\nbool verify_secure_boot() {\n    // Load the bootloader signature\n    uint8_t bootloader_sig[SIGNATURE_SIZE];\n    load_signature("bootloader.sig", bootloader_sig);\n\n    // Verify the bootloader integrity\n    return verify_signature(BOOTLOADER_HASH, bootloader_sig, PUBLIC_KEY);\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ota-update-types",children:"OTA Update Types"}),"\n",(0,s.jsx)(n.p,{children:"OTA updates can be categorized into two primary types, each serving distinct purposes within the vehicle's ecosystem:"}),"\n",(0,s.jsx)(n.h3,{id:"1-firmware-over-the-air-fota",children:"1. Firmware Over-the-Air (FOTA)"}),"\n",(0,s.jsx)(n.p,{children:"FOTA pertains to updates of the embedded software running on vehicle ECUs. These updates are critical for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Enhancements"}),": Optimizing ECU operations for better vehicle performance."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bug Fixes"}),": Addressing and resolving software defects."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Security Patches"}),": Mitigating vulnerabilities to safeguard vehicle systems."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example FOTA Update Process:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'void perform_fota_update() {\n    uint8_t *firmware = download_update("firmware_v2.bin");\n    size_t firmware_size = get_update_size("firmware_v2.bin");\n\n    if (apply_firmware_update(firmware, firmware_size)) {\n        log_update_status("FOTA Update Successful");\n    } else {\n        log_update_status("FOTA Update Failed");\n        rollback_firmware();\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-software-over-the-air-sota",children:"2. Software Over-the-Air (SOTA)"}),"\n",(0,s.jsx)(n.p,{children:"SOTA involves updating applications and non-critical vehicle software, primarily within the infotainment and telematics systems. Benefits include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Feature Additions"}),": Introducing new functionalities to infotainment systems."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Interface Enhancements"}),": Improving the usability and aesthetics of software interfaces."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Non-Critical Bug Fixes"}),": Addressing minor software issues that do not impact vehicle safety."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Sample SOTA Update Function:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import requests\nimport hashlib\nimport cryptography\n\ndef perform_sota_update(app_name, version):\n    update_url = f"https://api.automanufacturer.com/updates/{app_name}/{version}"\n    response = requests.get(update_url, verify=\'ca_cert.pem\')\n\n    if response.status_code == 200:\n        update_data = response.content\n        if verify_signature(update_data, response.headers[\'Signature\']):\n            with open(f"/apps/{app_name}.bin", "wb") as f:\n                f.write(update_data)\n            reboot_application(app_name)\n            log_update_status(f"SOTA Update for {app_name} Successful")\n        else:\n            log_update_status(f"SOTA Update for {app_name} Failed: Signature Mismatch")\n    else:\n        log_update_status(f"SOTA Update for {app_name} Failed: HTTP {response.status_code}")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ota-protocols-and-communication-mechanisms",children:"OTA Protocols and Communication Mechanisms"}),"\n",(0,s.jsx)(n.p,{children:"Efficient and secure data transmission is facilitated by various communication protocols tailored for OTA updates. Key protocols include:"}),"\n",(0,s.jsx)(n.h3,{id:"https--mqtt",children:"HTTP(S) & MQTT"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HTTP(S)"}),": Utilized for reliable cloud-to-vehicle communication, enabling the transfer of update packages and metadata."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MQTT"}),": A lightweight messaging protocol ideal for telemetry data and status updates due to its low bandwidth requirements."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example MQTT Subscription for OTA Updates:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import paho.mqtt.client as mqtt\n\ndef on_connect(client, userdata, flags, rc):\n    client.subscribe("vehicle/updates/#")\n\ndef on_message(client, userdata, msg):\n    process_update_message(msg.payload)\n\nclient = mqtt.Client()\nclient.on_connect = on_connect\nclient.on_message = on_message\n\nclient.connect("mqtt.automanufacturer.com", 1883, 60)\nclient.loop_forever()\n'})}),"\n",(0,s.jsx)(n.h3,{id:"tls-transport-layer-security",children:"TLS (Transport Layer Security)"}),"\n",(0,s.jsx)(n.p,{children:"TLS ensures that all data transmitted between the cloud backend and the vehicle is encrypted, safeguarding against eavesdropping and tampering."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"TLS Configuration Example in TCU:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"#include <openssl/ssl.h>\n#include <openssl/err.h>\n\nSSL_CTX* initialize_tls_context() {\n    SSL_library_init();\n    SSL_load_error_strings();\n    const SSL_METHOD *method = TLS_client_method();\n    SSL_CTX *ctx = SSL_CTX_new(method);\n\n    if (!ctx) {\n        ERR_print_errors_fp(stderr);\n        exit(EXIT_FAILURE);\n    }\n\n    // Enforce TLS 1.2 and above\n    SSL_CTX_set_min_proto_version(ctx, TLS1_2_VERSION);\n\n    return ctx;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uptane",children:"Uptane"}),"\n",(0,s.jsx)(n.p,{children:"Uptane is a security framework specifically designed for automotive OTA updates. It provides mechanisms for secure bootstrapping, update distribution, and verification, ensuring that only authenticated and authorized updates are applied."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Uptane Metadata Verification Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from uptane import Metadata, Director, ImageRepository\n\ndef verify_uptane_metadata(metadata_json):\n    metadata = Metadata.from_json(metadata_json)\n    director = Director()\n    image_repo = ImageRepository()\n\n    if director.verify_metadata(metadata) and image_repo.verify_images(metadata.images):\n        return True\n    return False\n"})}),"\n",(0,s.jsx)(n.h3,{id:"iso-26262--iso-21434",children:"ISO 26262 & ISO 21434"}),"\n",(0,s.jsx)(n.p,{children:"These standards ensure that OTA implementations comply with functional safety (ISO 26262) and cybersecurity (ISO 21434) requirements, providing guidelines for risk assessment, secure development, and validation processes."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Compliance Checklist Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"# ISO 26262 & ISO 21434 Compliance Checklist\n\n## ISO 26262 - Functional Safety\n- [x] Hazard analysis and risk assessment completed\n- [x] Safety requirements defined for OTA updates\n- [x] Safety mechanisms implemented (e.g., rollback, integrity checks)\n- [x] Safety validation and verification performed\n\n## ISO 21434 - Cybersecurity\n- [x] Threat analysis and risk assessment conducted\n- [x] Security requirements established for OTA communication\n- [x] Encryption and authentication mechanisms implemented\n- [x] Incident response plan in place\n"})}),"\n",(0,s.jsx)(n.h2,{id:"security-considerations-in-ota",children:"Security Considerations in OTA"}),"\n",(0,s.jsx)(n.p,{children:"Given the critical nature of vehicle systems, security is paramount in OTA implementations. Key security measures include:"}),"\n",(0,s.jsx)(n.h3,{id:"end-to-end-encryption-e2ee",children:"End-to-End Encryption (E2EE)"}),"\n",(0,s.jsx)(n.p,{children:"E2EE ensures that data remains encrypted from the cloud backend to the ECUs, preventing unauthorized access during transmission."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"E2EE Implementation Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"#include <openssl/evp.h>\n\nbool encrypt_data(uint8_t *plaintext, size_t plaintext_len, uint8_t *ciphertext, size_t *ciphertext_len) {\n    EVP_CIPHER_CTX *ctx = EVP_CIPHER_CTX_new();\n    if (!ctx) return false;\n\n    if (EVP_EncryptInit_ex(ctx, EVP_aes_256_cbc(), NULL, AES_KEY, AES_IV) != 1) {\n        EVP_CIPHER_CTX_free(ctx);\n        return false;\n    }\n\n    if (EVP_EncryptUpdate(ctx, ciphertext, (int*)ciphertext_len, plaintext, plaintext_len) != 1) {\n        EVP_CIPHER_CTX_free(ctx);\n        return false;\n    }\n\n    int len;\n    if (EVP_EncryptFinal_ex(ctx, ciphertext + *ciphertext_len, &len) != 1) {\n        EVP_CIPHER_CTX_free(ctx);\n        return false;\n    }\n\n    *ciphertext_len += len;\n    EVP_CIPHER_CTX_free(ctx);\n    return true;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"authentication--authorization",children:"Authentication & Authorization"}),"\n",(0,s.jsx)(n.p,{children:"Ensuring that only legitimate updates are applied involves robust authentication and authorization mechanisms, verifying the identity of update sources and users."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Authentication Token Verification Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import jwt\n\ndef verify_auth_token(token, public_key):\n    try:\n        decoded = jwt.decode(token, public_key, algorithms=["RS256"])\n        return decoded[\'iss\'] == "automanufacturer.com"\n    except jwt.InvalidTokenError:\n        return False\n'})}),"\n",(0,s.jsx)(n.h3,{id:"secure-boot",children:"Secure Boot"}),"\n",(0,s.jsx)(n.p,{children:"Secure boot ensures that only trusted software is executed during the vehicle's startup process, preventing the execution of unauthorized or malicious code."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Secure Boot Sequence Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'void secure_boot_sequence() {\n    if (!verify_secure_boot()) {\n        halt_system("Secure boot verification failed.");\n    }\n\n    // Proceed with normal boot\n    initialize_system();\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"rollback-mechanism",children:"Rollback Mechanism"}),"\n",(0,s.jsx)(n.p,{children:"A rollback mechanism allows the system to revert to a previous stable state in the event of an update failure, maintaining system integrity and functionality."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Rollback Procedure Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'bool rollback_firmware() {\n    uint8_t *backup_firmware = load_backup_firmware();\n    size_t firmware_size = get_firmware_size("backup_firmware.bin");\n\n    if (apply_firmware_update(backup_firmware, firmware_size)) {\n        log_update_status("Rollback Successful");\n        return true;\n    } else {\n        log_update_status("Rollback Failed");\n        return false;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"challenges-in-ota-implementation",children:"Challenges in OTA Implementation"}),"\n",(0,s.jsx)(n.p,{children:"Implementing OTA technology in automotive systems presents several challenges that must be meticulously addressed to ensure successful deployment:"}),"\n",(0,s.jsx)(n.h3,{id:"bandwidth-limitations",children:"Bandwidth Limitations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Issue"}),": Large update packages can strain available bandwidth, leading to prolonged update times."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Solutions"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Efficient Compression"}),": Utilize compression algorithms to reduce update size."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scheduling"}),": Schedule updates during off-peak hours to optimize bandwidth usage."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Compression Example Using zlib:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"#include <zlib.h>\n\nbool compress_update_data(uint8_t *input, size_t input_size, uint8_t *output, size_t *output_size) {\n    z_stream strm = {0};\n    strm.total_in = strm.avail_in = input_size;\n    strm.total_out = strm.avail_out = *output_size;\n    strm.next_in = input;\n    strm.next_out = output;\n\n    if (deflateInit(&strm, Z_BEST_COMPRESSION) != Z_OK)\n        return false;\n\n    if (deflate(&strm, Z_FINISH) != Z_STREAM_END) {\n        deflateEnd(&strm);\n        return false;\n    }\n\n    *output_size = strm.total_out;\n    deflateEnd(&strm);\n    return true;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"update-failures",children:"Update Failures"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Issue"}),": Incomplete or corrupted updates can render vehicle systems inoperative."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Solutions"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integrity Checks"}),": Implement checksums and cryptographic signatures to verify update integrity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Redundant Storage"}),": Maintain backup copies of previous firmware versions."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Integrity Check Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"#include <sha256.h>\n\nbool verify_update_integrity(uint8_t *update_data, size_t size, uint8_t *expected_hash) {\n    uint8_t computed_hash[32];\n    sha256(update_data, size, computed_hash);\n    return memcmp(computed_hash, expected_hash, 32) == 0;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"regulatory-compliance",children:"Regulatory Compliance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Issue"}),": OTA implementations must comply with stringent automotive safety and security standards."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Solutions"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Adherence to Standards"}),": Follow ISO 26262 for functional safety and ISO 21434 for cybersecurity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Regular Audits"}),": Conduct periodic security and safety audits to ensure compliance."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"integration-with-legacy-systems",children:"Integration with Legacy Systems"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Issue"}),": Older vehicles may lack the necessary hardware and software infrastructure to support OTA updates."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Solutions"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hardware Upgrades"}),": Retrofit older vehicles with necessary hardware components."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Software Emulation"}),": Use lightweight protocols and software emulation to facilitate updates on legacy systems."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Legacy System Integration Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"// Example function to initialize legacy ECU for OTA updates\nbool initialize_legacy_ecu_ota() {\n    if (!legacy_ecu_supports_secure_boot()) {\n        // Implement software-based security measures\n        enable_secure_communication();\n    }\n    return true;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ota-implementation-best-practices",children:"OTA Implementation Best Practices"}),"\n",(0,s.jsx)(n.p,{children:"To achieve a robust and reliable OTA implementation, adhere to the following best practices:"}),"\n",(0,s.jsx)(n.h3,{id:"1-incremental-updates",children:"1. Incremental Updates"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Utilize delta or delta-compressed updates to minimize bandwidth usage by transmitting only the changes rather than the entire software image."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benefits"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reduces update size and transmission time."}),"\n",(0,s.jsx)(n.li,{children:"Lowers data consumption, beneficial for vehicles with limited connectivity."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Delta Update Example Using Bsdiff:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Generate a delta patch\nbsdiff old_version.bin new_version.bin update_patch.bsdiff\n\n# Apply a delta patch\nbspatch old_version.bin updated_version.bin update_patch.bsdiff\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-testing-and-validation",children:"2. Testing and Validation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Conduct extensive testing and validation to ensure update reliability and system stability."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Approaches"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simulation Environments"}),": Use virtual environments to simulate OTA update scenarios."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hardware-in-the-Loop (HiL) Testing"}),": Integrate physical hardware components into the testing process to validate real-world performance."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"HiL Testing Workflow Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"# HiL Testing Workflow\n\n1. **Setup HiL Environment**: Connect ECUs to the HiL simulator.\n2. **Deploy Update**: Initiate OTA update through the simulator.\n3. **Monitor Responses**: Observe ECU behavior and communication logs.\n4. **Validate Integrity**: Ensure update integrity and system stability post-update.\n5. **Report Findings**: Document any anomalies or failures for further analysis.\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-version-management-and-rollback",children:"3. Version Management and Rollback"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Implement strict version control and rollback mechanisms to manage update states and recover from failures."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Strategies"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version Control Systems"}),": Track and manage software versions systematically."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollback Procedures"}),": Define clear steps to revert to previous versions in case of update issues."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Version Management Example Using Git:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Tagging a stable firmware version\ngit tag -a v1.0.0 -m "Stable release version 1.0.0"\n\n# Pushing tags to remote repository\ngit push origin --tags\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-user-consent-and-update-scheduling",children:"4. User Consent and Update Scheduling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Ensure that users have control over when updates are applied, enhancing user experience and reducing disruption."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementation"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Notifications"}),": Inform users about available updates and their benefits."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexible Scheduling"}),": Allow users to schedule updates at convenient times, such as during vehicle downtime."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"User Consent Workflow Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"# User Consent Workflow\n\n1. **Update Availability Notification**: Notify user of available OTA update with details.\n2. **User Consent Request**: Prompt user to accept or defer the update.\n3. **Schedule Update**: If accepted, allow user to choose preferred update time.\n4. **Execute Update**: Apply update as per the scheduled time.\n5. **Post-Update Confirmation**: Confirm successful update completion to the user.\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-logging-and-monitoring",children:"5. Logging and Monitoring"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Maintain comprehensive logs and monitoring systems to track update processes and detect anomalies."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benefits"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Facilitates troubleshooting and issue resolution."}),"\n",(0,s.jsx)(n.li,{children:"Enhances transparency and accountability in the update process."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Logging Example Using Syslog:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'#include <syslog.h>\n\nvoid log_update_status(const char *status_message) {\n    openlog("OTA_Update", LOG_PID|LOG_CONS, LOG_USER);\n    syslog(LOG_INFO, "%s", status_message);\n    closelog();\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"6-secure-storage",children:"6. Secure Storage"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Store update packages and critical data in secure memory areas to prevent unauthorized access and tampering."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Techniques"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encrypted Storage"}),": Encrypt sensitive data stored on the vehicle's memory."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Access Controls"}),": Restrict access to update files to authorized processes only."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Secure Storage Example Using Flash Encryption:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'#include "flash_encryption.h"\n\nbool store_update_securely(uint8_t *data, size_t size) {\n    uint8_t encrypted_data[size];\n    if (!encrypt_data(data, size, encrypted_data, &size)) {\n        return false;\n    }\n    return write_flash_secure("update_package", encrypted_data, size);\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"7-redundancy-and-fail-safes",children:"7. Redundancy and Fail-Safes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Incorporate redundancy and fail-safe mechanisms to ensure system resilience during updates."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Measures"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dual Firmware Slots"}),": Maintain two firmware slots, allowing seamless switching in case of update failures."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Power Failure Handling"}),": Implement safeguards to prevent system corruption during unexpected power losses."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Dual Firmware Slot Management Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"#define SLOT_A 0\n#define SLOT_B 1\n\nbool switch_firmware_slot(int current_slot) {\n    int new_slot = (current_slot == SLOT_A) ? SLOT_B : SLOT_A;\n    set_active_slot(new_slot);\n    return true;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ota-update-workflow-example",children:"OTA Update Workflow Example"}),"\n",(0,s.jsx)(n.p,{children:"A typical OTA update workflow involves several coordinated steps to ensure a secure and successful update process:"}),"\n",(0,s.jsx)(n.h3,{id:"step-by-step-workflow",children:"Step-by-Step Workflow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Update Initiation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The cloud backend identifies vehicles eligible for an update based on criteria such as current software version and vehicle configuration."}),"\n",(0,s.jsx)(n.li,{children:"The update deployment process is initiated, specifying the target ECUs and update packages."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Authentication and Retrieval"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The vehicle's TCU authenticates the update request using secure credentials."}),"\n",(0,s.jsx)(n.li,{children:"Upon successful authentication, the TCU retrieves the update package from the cloud backend."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Package Validation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The update package is verified using cryptographic signatures to ensure authenticity and integrity."}),"\n",(0,s.jsx)(n.li,{children:"Metadata such as version information and dependencies are checked for compatibility."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Firmware Update Application"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The validated update is distributed to the relevant ECUs."}),"\n",(0,s.jsx)(n.li,{children:"Each ECU applies the update, performing integrity checks post-installation."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"System Integrity Verification"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"After all ECUs have been updated, the system performs comprehensive integrity checks to ensure all components are functioning correctly."}),"\n",(0,s.jsx)(n.li,{children:"If all checks pass, the update is marked as successful."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Reboot and Final Verification"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The vehicle system reboots to apply the updates."}),"\n",(0,s.jsx)(n.li,{children:"Upon reboot, the system verifies the new software versions and operational status."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Rollback if Necessary"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If any step fails, the system triggers rollback procedures to revert to the previous stable state, ensuring continued vehicle functionality."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Visual Workflow Diagram:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TD;\n    A[Cloud Backend Initiates Update] --\x3e B[Vehicle Gateway Authenticates]\n    B --\x3e C[Retrieve Update Package]\n    C --\x3e D[Validate Update Package]\n    D --\x3e E[Distribute to ECUs]\n    E --\x3e F[Apply Firmware Updates]\n    F --\x3e G[System Integrity Checks]\n    G --\x3e H[Reboot and Verify]\n    H --\x3e I{All Checks Pass?}\n    I -- Yes --\x3e J[Update Successful]\n    I -- No --\x3e K[Rollback to Previous Version]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"OTA technology is transforming the automotive industry by enabling remote updates, enhancing security, and expanding vehicle functionalities without the need for physical interventions. While the implementation of OTA systems introduces challenges such as bandwidth constraints, update failures, regulatory compliance, and integration with legacy systems, these can be effectively managed through strategic best practices and robust security measures."}),"\n",(0,s.jsx)(n.p,{children:"For automotive manufacturers and stakeholders, integrating OTA capabilities is imperative to remain competitive and meet the evolving demands of connected and autonomous vehicles. By adhering to the outlined architecture, protocols, and best practices, a secure, efficient, and reliable OTA system can be established, ensuring sustained vehicle performance and customer satisfaction."}),"\n",(0,s.jsx)(n.h1,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ISO 26262"}),": Road Vehicles \u2013 Functional Safety"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ISO 21434"}),": Road Vehicles \u2013 Cybersecurity Engineering"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Uptane Framework"}),": ",(0,s.jsx)(n.a,{href:"https://uptane.github.io/",children:"https://uptane.github.io/"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);