"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[66028],{16620:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"UDS/services/Request-Data-Transfer","title":"Transfer Data - 0x36","description":"The Transfer Data (0x36) service is a crucial component of the Unified Diagnostic Services (UDS) protocol (ISO 14229) used to facilitate the actual transfer of data between a client (e.g., a diagnostic tool or test equipment) and an ECU (Electronic Control Unit). This service works in conjunction with the Request Download (0x34) and Request Upload (0x35) services, where Request Download initiates a transfer of data to the ECU and Request Upload retrieves data from the ECU. The Transfer Data (0x36) service handles the transfer of the data itself in blocks.","source":"@site/docs/UDS/02_services/15_Request-Data-Transfer.md","sourceDirName":"UDS/02_services","slug":"/UDS/services/Request-Data-Transfer","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Request-Data-Transfer","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/02_services/15_Request-Data-Transfer.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15},"sidebar":"udsSidebar","previous":{"title":"Request Upload - 0x35","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Request-Upload"},"next":{"title":"Request Transfer Exit - 0x37","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Request-Transfer-Exit"}}');var t=r(74848),i=r(28453);const a={sidebar_position:15},o="Transfer Data - 0x36",d={},c=[{value:"<strong>Purpose and Use Cases</strong>",id:"purpose-and-use-cases",level:2},{value:"<strong>Overview of the Transfer Data (0x36) Service</strong>",id:"overview-of-the-transfer-data-0x36-service",level:2},{value:"<strong>Request Frame Format for Transfer Data (0x36)</strong>",id:"request-frame-format-for-transfer-data-0x36",level:2},{value:"<strong>Block Sequence Counter Details</strong>",id:"block-sequence-counter-details",level:3},{value:"<strong>Response Frame Format for Transfer Data (0x36)</strong>",id:"response-frame-format-for-transfer-data-0x36",level:2},{value:"<strong>Positive Response</strong>",id:"positive-response",level:3},{value:"<strong>Negative Response</strong>",id:"negative-response",level:3},{value:"<strong>Supported Negative Response Codes (NRC)</strong>",id:"supported-negative-response-codes-nrc",level:3},{value:"<strong>Transfer Data Process</strong>",id:"transfer-data-process",level:2},{value:"<strong>Conclusion</strong>",id:"conclusion",level:2}];function l(e){const s={h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"transfer-data---0x36",children:"Transfer Data - 0x36"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service is a crucial component of the ",(0,t.jsx)(s.strong,{children:"Unified Diagnostic Services (UDS)"})," protocol (ISO 14229) used to facilitate the actual transfer of data between a client (e.g., a diagnostic tool or test equipment) and an ECU (Electronic Control Unit). This service works in conjunction with the ",(0,t.jsx)(s.strong,{children:"Request Download (0x34)"})," and ",(0,t.jsx)(s.strong,{children:"Request Upload (0x35)"})," services, where ",(0,t.jsx)(s.strong,{children:"Request Download"})," initiates a transfer of data to the ECU and ",(0,t.jsx)(s.strong,{children:"Request Upload"})," retrieves data from the ECU. The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service handles the transfer of the data itself in blocks."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data"})," service is responsible for ensuring that data is correctly sent and received during both ",(0,t.jsx)(s.strong,{children:"upload"})," and ",(0,t.jsx)(s.strong,{children:"download"})," operations. It provides an efficient way to manage the flow of large datasets, dividing them into manageable blocks for sequential transfer. This service includes features for managing block sequences and supporting error detection during the transfer process, ensuring data integrity."]}),"\n",(0,t.jsx)(s.h2,{id:"purpose-and-use-cases",children:(0,t.jsx)(s.strong,{children:"Purpose and Use Cases"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service is utilized for both uploading and downloading data between the client and the ECU, following the initiation of a ",(0,t.jsx)(s.strong,{children:"Request Download (0x34)"})," or ",(0,t.jsx)(s.strong,{children:"Request Upload (0x35)"})," service. Typical use cases include:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Firmware Flashing"}),": When downloading a new firmware or software image to an ECU."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Data Upload"}),": Uploading diagnostic data, logs, or configuration information from the ECU to the diagnostic tool."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Calibration"}),": Transferring calibration data to or from the ECU."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Over-the-Air (OTA) Updates"}),": Enabling the transfer of large files or software updates to an ECU."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data"})," service allows for the ",(0,t.jsx)(s.strong,{children:"sequential transfer of data blocks"}),", providing an efficient way to handle large volumes of data, especially in scenarios where the memory block sizes are large or the data is too large to be handled in a single transmission."]}),"\n",(0,t.jsx)(s.h2,{id:"overview-of-the-transfer-data-0x36-service",children:(0,t.jsx)(s.strong,{children:"Overview of the Transfer Data (0x36) Service"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service is responsible for the actual transmission of data that was requested either to be uploaded or downloaded in the ",(0,t.jsx)(s.strong,{children:"Request Upload (0x35)"})," or ",(0,t.jsx)(s.strong,{children:"Request Download (0x34)"})," service. The data is transmitted in sequential blocks, with each block being acknowledged by the ECU. The blocks are sent and received based on the ",(0,t.jsx)(s.strong,{children:"Block Sequence Counter"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"This service helps manage the flow of data by handling the transfer of blocks and ensuring that the data can be properly reconstructed after transmission. Error handling mechanisms, such as retransmitting blocks when errors are detected, are also built into the service."}),"\n",(0,t.jsx)(s.h2,{id:"request-frame-format-for-transfer-data-0x36",children:(0,t.jsx)(s.strong,{children:"Request Frame Format for Transfer Data (0x36)"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," request frame format consists of several parameters required to initiate the data transfer. Below is the detailed breakdown of the frame format:"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Byte Number"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Parameter Name"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Description"})})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"1"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"SID (Service Identifier)"})}),(0,t.jsxs)(s.td,{children:["The ",(0,t.jsx)(s.strong,{children:"Service Identifier"})," for the ",(0,t.jsx)(s.strong,{children:"Transfer Data"})," service, which is always ",(0,t.jsx)(s.strong,{children:"0x36"}),". This signifies the start of a data transfer."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"2"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})}),(0,t.jsxs)(s.td,{children:["A 1-byte value used to track the sequence of the data blocks being transferred. It starts at ",(0,t.jsx)(s.strong,{children:"0x01"})," for the first block and increments by 1 for each subsequent block. If the counter reaches ",(0,t.jsx)(s.strong,{children:"0xFF"}),", it wraps back to ",(0,t.jsx)(s.strong,{children:"0x00"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"3"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Transfer Request Parameter Record"})}),(0,t.jsx)(s.td,{children:"Contains additional information necessary for the transfer, including how the data should be processed, such as the maximum block size, or the compression/encryption method to be used (if applicable)."})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"block-sequence-counter-details",children:(0,t.jsx)(s.strong,{children:"Block Sequence Counter Details"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})," is used to ensure that the data is transmitted in the correct sequence. The client starts the transfer with ",(0,t.jsx)(s.strong,{children:"0x01"}),", and for each subsequent block of data, the counter is incremented. This sequence allows both the client and the ECU to track which blocks have been transmitted and which remain to be sent. The block sequence counter also helps detect missing or out-of-order blocks, facilitating error recovery."]}),"\n",(0,t.jsx)(s.h2,{id:"response-frame-format-for-transfer-data-0x36",children:(0,t.jsx)(s.strong,{children:"Response Frame Format for Transfer Data (0x36)"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service response indicates the status of the data transfer. The ECU will send either a ",(0,t.jsx)(s.strong,{children:"positive"})," or ",(0,t.jsx)(s.strong,{children:"negative"})," response depending on whether the transfer was successful or if there was an issue. The response format is as follows:"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Byte Number"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Parameter Name"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Description"})})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"1"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"PCI Length"})}),(0,t.jsx)(s.td,{children:"Specifies the length of the response frame."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"2"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Response SID"})}),(0,t.jsxs)(s.td,{children:["The ",(0,t.jsx)(s.strong,{children:"Service Identifier"})," for the response. For a ",(0,t.jsx)(s.strong,{children:"Transfer Data"})," response, this is always ",(0,t.jsx)(s.strong,{children:"0x76"})," (0x36 + 0x40)."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"3"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})}),(0,t.jsxs)(s.td,{children:["A 1-byte value that mirrors the ",(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})," in the request frame. This tells the client which data block is being processed."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"4"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Transfer Response Parameter Record"})}),(0,t.jsx)(s.td,{children:"Contains parameters necessary for processing the transfer, such as the size of the data block and any further instructions for managing the transfer."})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"positive-response",children:(0,t.jsx)(s.strong,{children:"Positive Response"})}),"\n",(0,t.jsxs)(s.p,{children:["A ",(0,t.jsx)(s.strong,{children:"positive response"})," indicates that the ECU has successfully received the data block and can continue the transfer. The ",(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})," in the response matches the block sequence from the request, confirming the successful reception of that block."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Response Parameter Record"})," may include any additional details, such as the maximum block size for subsequent transfers or any additional status information."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"negative-response",children:(0,t.jsx)(s.strong,{children:"Negative Response"})}),"\n",(0,t.jsxs)(s.p,{children:["If the ECU encounters an error while processing the data, it will send a ",(0,t.jsx)(s.strong,{children:"negative response"})," with an appropriate ",(0,t.jsx)(s.strong,{children:"Negative Response Code (NRC)"}),". This could occur if the data is not valid, the memory allocation fails, or there is a sequence mismatch."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Byte Number"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Parameter Name"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Description"})})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"1"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"PCI Length"})}),(0,t.jsx)(s.td,{children:"Specifies the length of the response frame."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"2"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Request SID"})}),(0,t.jsxs)(s.td,{children:["The ",(0,t.jsx)(s.strong,{children:"Service Identifier"})," for the ",(0,t.jsx)(s.strong,{children:"Transfer Data"})," service, which is always ",(0,t.jsx)(s.strong,{children:"0x36"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"3"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"NRC"})}),(0,t.jsxs)(s.td,{children:["The ",(0,t.jsx)(s.strong,{children:"Negative Response Code (NRC)"})," indicating why the transfer failed."]})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"supported-negative-response-codes-nrc",children:(0,t.jsx)(s.strong,{children:"Supported Negative Response Codes (NRC)"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"NRC Value"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Description"})}),(0,t.jsx)(s.th,{children:(0,t.jsx)(s.strong,{children:"Mnemonic"})})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x13"})}),(0,t.jsx)(s.td,{children:"Incorrect message length or invalid format"}),(0,t.jsx)(s.td,{children:"IML"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x24"})}),(0,t.jsx)(s.td,{children:"Request sequence error (e.g., invalid block sequence)"}),(0,t.jsx)(s.td,{children:"RSE"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x31"})}),(0,t.jsx)(s.td,{children:"Request out of range (e.g., invalid memory address or block size)"}),(0,t.jsx)(s.td,{children:"ROOR"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x33"})}),(0,t.jsx)(s.td,{children:"Security access denied (e.g., permission issues)"}),(0,t.jsx)(s.td,{children:"SAD"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x71"})}),(0,t.jsx)(s.td,{children:"Transfer data suspended (e.g., error in data transfer size)"}),(0,t.jsx)(s.td,{children:"TDS"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x72"})}),(0,t.jsx)(s.td,{children:"General programming failure (e.g., hardware issues during transfer)"}),(0,t.jsx)(s.td,{children:"GPF"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x73"})}),(0,t.jsx)(s.td,{children:"Wrong block sequence counter (e.g., mismatch in expected order)"}),(0,t.jsx)(s.td,{children:"WBSC"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"0x92/0x93"})}),(0,t.jsx)(s.td,{children:"Voltage too high/low (e.g., out-of-range voltage during transfer)"}),(0,t.jsx)(s.td,{children:"VTH/VTL"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"transfer-data-process",children:(0,t.jsx)(s.strong,{children:"Transfer Data Process"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Initiating the Transfer"}),": The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service is initiated after either a ",(0,t.jsx)(s.strong,{children:"Request Download (0x34)"})," or ",(0,t.jsx)(s.strong,{children:"Request Upload (0x35)"})," service has been successfully processed. The first data block is transferred with the initial ",(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})," value set to ",(0,t.jsx)(s.strong,{children:"0x01"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Data Block Transfer"}),": Each block of data is sent from the client to the ECU (for download) or from the ECU to the client (for upload), with the ",(0,t.jsx)(s.strong,{children:"Block Sequence Counter"})," being incremented after each successful block transfer. The ECU responds with either a positive acknowledgment or a negative error response based on whether the transfer was successful."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Error Handling"}),": If any errors occur (such as a missing block or sequence mismatch), the ECU may return a ",(0,t.jsx)(s.strong,{children:"negative response"}),", and the client must handle retransmission of the data block or adjust the transfer sequence as necessary."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Completion"}),": Once all blocks of data have been transferred, the client and ECU can confirm the completion of the transfer. The ",(0,t.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service can be used to terminate the session, ensuring that the transfer process is properly finalized."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"conclusion",children:(0,t.jsx)(s.strong,{children:"Conclusion"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service is a vital part of the UDS protocol, enabling the actual movement of data between the client and ECU. Whether performing software updates, uploading diagnostic logs, or transferring large calibration datasets, this service ensures that the data is transferred efficiently in sequential blocks. Error handling, block sequencing, and data integrity are core aspects of this service, making it indispensable for reliable and secure data exchange in automotive diagnostics, service, and maintenance. Combined with the ",(0,t.jsx)(s.strong,{children:"Request Download (0x34)"})," and ",(0,t.jsx)(s.strong,{children:"Request Upload (0x35)"})," services, the ",(0,t.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service provides the foundation for comprehensive data management in UDS-enabled systems."]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>o});var n=r(96540);const t={},i=n.createContext(t);function a(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);