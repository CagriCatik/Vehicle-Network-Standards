"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[57397],{32040:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"XCP/Grundlagen/xcp-protokollschicht","title":"XCP-Protokollschicht","description":"Einf\xfchrung in das XCP-Protokoll","source":"@site/docs/XCP/02_Grundlagen/02_xcp-protokollschicht.md","sourceDirName":"XCP/02_Grundlagen","slug":"/XCP/Grundlagen/xcp-protokollschicht","permalink":"/Vehicle-Network-Standards/docs/XCP/Grundlagen/xcp-protokollschicht","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/XCP/02_Grundlagen/02_xcp-protokollschicht.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"xcpSidebar","previous":{"title":"XCP Kommunikationsmodell","permalink":"/Vehicle-Network-Standards/docs/XCP/Grundlagen/xcp-kommunikationsprotokoll"},"next":{"title":"Austausch von CTOs im ASAM XCP-Protokoll","permalink":"/Vehicle-Network-Standards/docs/XCP/Grundlagen/austausch-cto"}}');var s=i(74848),t=i(28453);const l={},d="XCP-Protokollschicht",a={},h=[{value:"Einf\xfchrung in das XCP-Protokoll",id:"einf\xfchrung-in-das-xcp-protokoll",level:2},{value:"Architektur der XCP-Protokollschicht",id:"architektur-der-xcp-protokollschicht",level:2},{value:"\xdcberblick \xfcber die Schichten",id:"\xfcberblick-\xfcber-die-schichten",level:3},{value:"Aufbau eines XCP-Frames",id:"aufbau-eines-xcp-frames",level:2},{value:"XCP Header",id:"xcp-header",level:3},{value:"XCP Packet",id:"xcp-packet",level:3},{value:"Identification Field",id:"identification-field",level:4},{value:"Counter Field",id:"counter-field",level:4},{value:"Timestamp Field",id:"timestamp-field",level:4},{value:"Data Field",id:"data-field",level:4},{value:"XCP Tail",id:"xcp-tail",level:3},{value:"Transportprotokollabh\xe4ngigkeiten",id:"transportprotokollabh\xe4ngigkeiten",level:2},{value:"XCP on CAN",id:"xcp-on-can",level:3},{value:"XCP on Ethernet",id:"xcp-on-ethernet",level:3},{value:"Weitere Transportprotokolle",id:"weitere-transportprotokolle",level:3},{value:"Maximale Paketgr\xf6\xdfen",id:"maximale-paketgr\xf6\xdfen",level:2},{value:"Einfluss des Transportprotokolls",id:"einfluss-des-transportprotokolls",level:3},{value:"Festlegung der Paketgr\xf6\xdfen",id:"festlegung-der-paketgr\xf6\xdfen",level:3},{value:"Detaillierte Analyse der Paketfelder",id:"detaillierte-analyse-der-paketfelder",level:2},{value:"Identification Field (Identifikationsfeld)",id:"identification-field-identifikationsfeld",level:3},{value:"Packet Identifier (PID)",id:"packet-identifier-pid",level:4},{value:"Erweiterte Identifikation bei DTOs",id:"erweiterte-identifikation-bei-dtos",level:4},{value:"Counter Field (Z\xe4hlerfeld)",id:"counter-field-z\xe4hlerfeld",level:3},{value:"Funktion",id:"funktion",level:4},{value:"Implementierung",id:"implementierung",level:4},{value:"Timestamp Field (Zeitstempelfeld)",id:"timestamp-field-zeitstempelfeld",level:3},{value:"Bedeutung",id:"bedeutung",level:4},{value:"Implementierung",id:"implementierung-1",level:4},{value:"Anwendung",id:"anwendung",level:4},{value:"Data Field (Datenfeld)",id:"data-field-datenfeld",level:3},{value:"CTO-Pakete",id:"cto-pakete",level:4},{value:"DTO-Pakete",id:"dto-pakete",level:4},{value:"Erweiterte Funktionen und Mechanismen",id:"erweiterte-funktionen-und-mechanismen",level:2},{value:"DAQ (Data Acquisition)",id:"daq-data-acquisition",level:3},{value:"DAQ-Liste",id:"daq-liste",level:4},{value:"DAQ-Zyklus",id:"daq-zyklus",level:4},{value:"Beispielhafter DAQ-Ablauf",id:"beispielhafter-daq-ablauf",level:4},{value:"STIM (Stimulus)",id:"stim-stimulus",level:3},{value:"Funktionalit\xe4t",id:"funktionalit\xe4t",level:4},{value:"Anwendungsszenarien",id:"anwendungsszenarien",level:4},{value:"Beispielhafter STIM-Ablauf",id:"beispielhafter-stim-ablauf",level:4},{value:"Fehlerbehandlung und Sicherheitsmechanismen",id:"fehlerbehandlung-und-sicherheitsmechanismen",level:2},{value:"Pr\xfcfsummen und CRC",id:"pr\xfcfsummen-und-crc",level:3},{value:"Implementierung",id:"implementierung-2",level:4},{value:"Fehlererkennung",id:"fehlererkennung",level:4},{value:"Sequenzierungsfehler",id:"sequenzierungsfehler",level:3},{value:"Erkennung",id:"erkennung",level:4},{value:"Ma\xdfnahmen",id:"ma\xdfnahmen",level:4},{value:"Sicherheitsmechanismen",id:"sicherheitsmechanismen",level:3},{value:"Authentifizierung",id:"authentifizierung",level:4},{value:"Verschl\xfcsselung",id:"verschl\xfcsselung",level:4},{value:"Zugriffskontrollen",id:"zugriffskontrollen",level:4},{value:"Performance-Optimierungen",id:"performance-optimierungen",level:2},{value:"Paketgr\xf6\xdfenanpassung",id:"paketgr\xf6\xdfenanpassung",level:3},{value:"Dynamische Anpassung",id:"dynamische-anpassung",level:4},{value:"Datenkompression",id:"datenkompression",level:3},{value:"1.9.2.1 Verlustfreie Kompression",id:"1921-verlustfreie-kompression",level:4},{value:"1.9.2.2 Verlustbehaftete Kompression",id:"1922-verlustbehaftete-kompression",level:4},{value:"1.9.3 Priorisierung von Daten",id:"193-priorisierung-von-daten",level:3},{value:"1.9.3.1 Quality of Service (QoS)",id:"1931-quality-of-service-qos",level:4},{value:"1.10 Werkzeuge und Techniken zur Analyse von XCP-Daten",id:"110-werkzeuge-und-techniken-zur-analyse-von-xcp-daten",level:2},{value:"1.10.1 XCP-Protokoll-Analyser",id:"1101-xcp-protokoll-analyser",level:3},{value:"1.10.2 Log-Dateien und Debugging",id:"1102-log-dateien-und-debugging",level:3},{value:"1.10.2.1 Log-Erstellung",id:"11021-log-erstellung",level:4},{value:"1.10.2.2 Log-Analyse",id:"11022-log-analyse",level:4},{value:"1.10.3 Echtzeit-Diagnose",id:"1103-echtzeit-diagnose",level:3},{value:"1.11 Best Practices f\xfcr die Implementierung der XCP-Protokollschicht",id:"111-best-practices-f\xfcr-die-implementierung-der-xcp-protokollschicht",level:2},{value:"1.11.1 Strukturierte Planung und Konfiguration",id:"1111-strukturierte-planung-und-konfiguration",level:3},{value:"1.11.1.1 Definition der DAQ-Listen",id:"11111-definition-der-daq-listen",level:4},{value:"1.11.1.2 STIM-Konfiguration",id:"11112-stim-konfiguration",level:4},{value:"1.11.2 Optimierung der Paketgr\xf6\xdfen",id:"1112-optimierung-der-paketgr\xf6\xdfen",level:3},{value:"1.11.3 Implementierung von Fehlerbehandlungsmechanismen",id:"1113-implementierung-von-fehlerbehandlungsmechanismen",level:3},{value:"1.11.3.1 Wiederholungsstrategien",id:"11131-wiederholungsstrategien",level:4},{value:"1.11.3.2 Timeout-Mechanismen",id:"11132-timeout-mechanismen",level:4},{value:"1.11.4 Nutzung von Sicherheitsmechanismen",id:"1114-nutzung-von-sicherheitsmechanismen",level:3},{value:"1.11.4.1 Authentifizierung und Autorisierung",id:"11141-authentifizierung-und-autorisierung",level:4},{value:"1.11.4.2 Datenverschl\xfcsselung",id:"11142-datenverschl\xfcsselung",level:4},{value:"1.11.5 Testen und Validieren der Implementierung",id:"1115-testen-und-validieren-der-implementierung",level:3},{value:"1.11.5.1 Unit-Tests",id:"11151-unit-tests",level:4},{value:"1.11.5.2 Integrationstests",id:"11152-integrationstests",level:4},{value:"1.11.5.3 Systemtests",id:"11153-systemtests",level:4},{value:"1.12 Zusammenfassung",id:"112-zusammenfassung",level:2}];function u(e){const n={h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"xcp-protokollschicht",children:"XCP-Protokollschicht"})}),"\n",(0,s.jsx)(n.h2,{id:"einf\xfchrung-in-das-xcp-protokoll",children:"Einf\xfchrung in das XCP-Protokoll"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"XCP (Universal Measurement and Calibration Protocol)"})," ist ein offenes, standardisiertes Kommunikationsprotokoll, das in der Automobilindustrie sowie in anderen Bereichen der eingebetteten Systeme weit verbreitet ist. Es erm\xf6glicht die pr\xe4zise und effiziente \xdcbertragung von Messdaten und Kalibrierungsparametern zwischen einem Steuerger\xe4t (Slave) und einem Diagnose- oder Kalibrierwerkzeug (Master). XCP wurde entwickelt, um flexibel auf unterschiedliche Transportprotokolle und Anwendungsanforderungen reagieren zu k\xf6nnen, wodurch es sich f\xfcr eine Vielzahl von Anwendungen eignet, von der Echtzeit-Daten\xfcberwachung bis hin zur dynamischen Kalibrierung von Steueralgorithmen."]}),"\n",(0,s.jsx)(n.p,{children:"Dieses Kapitel widmet sich der detaillierten Analyse der XCP-Protokollschicht. Es werden die strukturellen Komponenten eines XCP-Frames, die spezifischen Felder innerhalb eines XCP-Pakets sowie deren Funktionen und Wechselwirkungen erl\xe4utert. Dar\xfcber hinaus werden die Abh\xe4ngigkeiten zur Transportschicht, die Definition maximaler Paketgr\xf6\xdfen und weiterf\xfchrende Konzepte wie DAQ (Data Acquisition) und STIM (Stimulus) behandelt."}),"\n",(0,s.jsx)(n.h2,{id:"architektur-der-xcp-protokollschicht",children:"Architektur der XCP-Protokollschicht"}),"\n",(0,s.jsx)(n.p,{children:"Die XCP-Protokollarchitektur ist modular aufgebaut und besteht aus mehreren Schichten, die jeweils spezifische Aufgaben \xfcbernehmen. Die zentrale Rolle spielt dabei die Protokollschicht, die f\xfcr die Strukturierung und Verwaltung der Daten\xfcbertragung verantwortlich ist. Diese Schicht interagiert direkt mit der Transportschicht, die den physikalischen Transport der Daten \xfcbernimmt, und mit den dar\xfcberliegenden Schichten, die die Anwendungslogik und -steuerung handhaben."}),"\n",(0,s.jsx)(n.h3,{id:"\xfcberblick-\xfcber-die-schichten",children:"\xdcberblick \xfcber die Schichten"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Anwendungsschicht:"})," Beinhaltet die spezifischen Funktionen zur Messdatenerfassung (DAQ) und Kalibrierung (CAL) sowie die Steuerung der Kommunikationsabl\xe4ufe."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Protokollschicht (XCP):"})," Verantwortlich f\xfcr die Strukturierung der Datenpakete, das Management von Kommunikationssequenzen und die Sicherstellung der Datenintegrit\xe4t."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transportschicht:"})," \xdcbernimmt den tats\xe4chlichen Transport der Daten \xfcber das gew\xe4hlte physikalische Medium (z.B. CAN, Ethernet, USB)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Physikalische Schicht:"})," Stellt die physikalischen Verbindungen und Signal\xfcbertragungen bereit."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"aufbau-eines-xcp-frames",children:"Aufbau eines XCP-Frames"}),"\n",(0,s.jsxs)(n.p,{children:["Ein ",(0,s.jsx)(n.strong,{children:"XCP-Frame"})," ist die grundlegende Einheit der Daten\xfcbertragung im XCP-Protokoll. Er setzt sich aus drei Hauptkomponenten zusammen:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"XCP Header"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"XCP Packet"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"XCP Tail"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Diese Komponenten sind abh\xe4ngig vom verwendeten Transportprotokoll. Beispielsweise wird ein XCP-on-CAN-Paket in einen CAN-Frame eingebettet, w\xe4hrend bei XCP-on-Ethernet andere Rahmenstrukturen verwendet werden."}),"\n",(0,s.jsx)(n.h3,{id:"xcp-header",children:"XCP Header"}),"\n",(0,s.jsxs)(n.p,{children:["Der ",(0,s.jsx)(n.strong,{children:"XCP Header"})," enth\xe4lt Informationen, die f\xfcr die Verwaltung der Kommunikation notwendig sind. Dazu geh\xf6ren:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start-Byte:"})," Kennzeichnet den Beginn des Frames."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Adresse des Ziels (bei bestimmten Transportprotokollen):"})," Gibt an, an welches Ger\xe4t der Frame gerichtet ist."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Protokollversion:"})," Gibt die verwendete Version des XCP-Protokolls an, um die Kompatibilit\xe4t sicherzustellen."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Die genaue Struktur des Headers variiert je nach Transportprotokoll. Beispielsweise enth\xe4lt der CAN-Header spezifische Felder wie die CAN-ID, w\xe4hrend bei Ethernet zus\xe4tzliche Felder f\xfcr die Netzwerkadresse enthalten sein k\xf6nnen."}),"\n",(0,s.jsx)(n.h3,{id:"xcp-packet",children:"XCP Packet"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"XCP Packet"})," ist das Herzst\xfcck des XCP-Frames und enth\xe4lt die eigentlichen Nutzdaten. Es ist unabh\xe4ngig vom verwendeten Transportprotokoll gestaltet und besteht aus folgenden Teilen:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Identification Field (Identifikationsfeld)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Counter Field (Z\xe4hlerfeld, optional)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Timestamp Field (Zeitstempelfeld, optional)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Data Field (Datenfeld)"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"identification-field",children:"Identification Field"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Identifikationsfeld"})," ist entscheidend f\xfcr die korrekte Interpretation der \xfcbertragenen Daten. Es beginnt mit dem ",(0,s.jsx)(n.strong,{children:"Packet Identifier (PID)"}),", der eindeutig bestimmt, welche Art von Paket \xfcbertragen wird."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CTO-Pakete (Command Transfer Objects):"})," Diese werden vom Master an den Slave gesendet und nutzen PIDs im Bereich von ",(0,s.jsx)(n.strong,{children:"0xC0 bis 0xFF"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DTO-Pakete (Data Transfer Objects):"})," Diese sind Antworten oder Informationspakete vom Slave an den Master und verwenden PIDs im Bereich von ",(0,s.jsx)(n.strong,{children:"0xFC bis 0xFF"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Durch diese eindeutige Zuordnung der PIDs kann sowohl der Master als auch der Slave die Art des Pakets schnell und effizient identifizieren und entsprechend reagieren."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsxs)(n.p,{children:["Ein PID von ",(0,s.jsx)(n.strong,{children:"0xC1"}),' k\xf6nnte ein spezifisches Kommando wie "Start DAQ" darstellen, w\xe4hrend ein PID von ',(0,s.jsx)(n.strong,{children:"0xFC"})," eine Antwort auf ein solches Kommando signalisiert."]}),"\n",(0,s.jsx)(n.h4,{id:"counter-field",children:"Counter Field"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Counter Field"})," ist ein optionales Feld, das in DTO-Paketen verwendet wird, um eine Sequenznummer bereitzustellen. Dies ist besonders n\xfctzlich bei der \xdcbertragung von Messdaten, um sicherzustellen, dass Pakete in der richtigen Reihenfolge empfangen werden und keine Pakete verloren gehen."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Gr\xf6\xdfe:"})," 1 Byte"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Position:"})," Direkt nach dem Identifikationsfeld"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Anwendung bei DAQ-Paketen:"})}),"\n",(0,s.jsx)(n.p,{children:"Bei der \xdcbertragung von DAQ-Paketen f\xfcgt der Slave einen Z\xe4hler in das erste Output Data Transfer (ODT)-Paket einer DAQ-Liste ein. Dieser Z\xe4hler ist spezifisch f\xfcr das Ereignis, f\xfcr das die DAQ-Liste konfiguriert ist, und erm\xf6glicht eine pr\xe4zise Nachverfolgung der Daten\xfcbertragungen."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsxs)(n.p,{children:["Ein DAQ-Paket k\xf6nnte einen Counter-Wert von ",(0,s.jsx)(n.strong,{children:"0x01"})," haben, der beim n\xe4chsten Paket auf ",(0,s.jsx)(n.strong,{children:"0x02"})," erh\xf6ht wird, um die Sequenz zu verfolgen."]}),"\n",(0,s.jsx)(n.h4,{id:"timestamp-field",children:"Timestamp Field"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Timestamp Field"})," ist ein weiteres optionales Feld, das in DTO-Paketen verwendet werden kann, um den genauen Zeitpunkt der Daten\xfcbertragung zu markieren. Dies ist besonders wichtig f\xfcr zeitkritische Anwendungen, bei denen die Synchronisation der Daten eine Rolle spielt."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Datentypen:"})," Byte, Word, Dword"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Position:"})," Nach dem Counter Field (falls vorhanden)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Anwendung bei DAQ und STIM:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DAQ-Daten\xfcbertragung:"})," Der Slave schreibt den Messzeitpunkt in das Timestamp Field. Da alle Messgr\xf6\xdfen einer DAQ-Liste zum gleichen Zeitpunkt erfasst werden, wird der Zeitstempel pro DAQ-Zyklus einmal \xfcbertragen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STIM-Daten\xfcbertragung:"})," Der Master schreibt einen Wert in das Timestamp Field. Die genaue Bedeutung dieses Wertes wird im XCP-Standard nicht definiert und kann je nach Anwendung variieren."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsxs)(n.p,{children:["Ein Timestamp-Wert von ",(0,s.jsx)(n.strong,{children:"0x0001F4"})," k\xf6nnte einen bestimmten Zeitpunkt in Millisekunden seit Beginn der Messung darstellen."]}),"\n",(0,s.jsx)(n.h4,{id:"data-field",children:"Data Field"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Data Field"})," enth\xe4lt die eigentlichen Nutzdaten des Pakets und variiert je nach Pakettyp:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CTO-Pakete:"})," Enthalten spezifische Parameter f\xfcr die unterschiedlichen Kommandos, die vom Master an den Slave gesendet werden."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DTO-Pakete:"})," \xdcbertragen die Messwerte aus dem Slave. Bei der Versendung von STIM-Daten enth\xe4lt das Datenfeld die Werte aus dem Master."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsx)(n.p,{children:"Ein CTO-Paket zur Initialisierung einer DAQ-Liste k\xf6nnte im Datenfeld die Adresse der DAQ-Liste, die Abtastrate und andere relevante Parameter enthalten."}),"\n",(0,s.jsx)(n.h3,{id:"xcp-tail",children:"XCP Tail"}),"\n",(0,s.jsxs)(n.p,{children:["Der ",(0,s.jsx)(n.strong,{children:"XCP Tail"})," bildet das Ende des XCP-Frames und enth\xe4lt in der Regel Pr\xfcfsummen oder andere Fehlerpr\xfcfmechanismen, die sicherstellen, dass die Daten korrekt \xfcbertragen wurden. Die genaue Struktur des Tails ist ebenfalls abh\xe4ngig vom verwendeten Transportprotokoll."]}),"\n",(0,s.jsx)(n.h2,{id:"transportprotokollabh\xe4ngigkeiten",children:"Transportprotokollabh\xe4ngigkeiten"}),"\n",(0,s.jsx)(n.p,{children:"XCP ist darauf ausgelegt, flexibel \xfcber verschiedene Transportprotokolle eingesetzt zu werden. Die Wahl des Transportprotokolls beeinflusst die Struktur des XCP-Headers und -Tails sowie die maximale Paketgr\xf6\xdfe."}),"\n",(0,s.jsx)(n.h3,{id:"xcp-on-can",children:"XCP on CAN"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Controller Area Network (CAN)"})," ist eines der am h\xe4ufigsten verwendeten Transportprotokolle f\xfcr XCP in der Automobilindustrie. Ein XCP-on-CAN-Paket wird in einen CAN-Frame eingebettet, der folgende spezifische Felder enth\xe4lt:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CAN-ID:"})," Identifiziert die Art des Frames und das Zielger\xe4t."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Datenfeld:"})," Tr\xe4gt das XCP-Paket, bestehend aus Header, Packet und Tail."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CRC:"})," Pr\xfcfsumme zur Fehlererkennung."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Besonderheiten:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maximale Datenl\xe4nge:"})," Typischerweise 8 Bytes pro CAN-Frame, was die maximale Gr\xf6\xdfe des XCP-Pakets beeinflusst."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flow Control:"})," Erfordert Mechanismen zur Steuerung des Datenflusses, um \xdcberlastungen zu vermeiden."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"xcp-on-ethernet",children:"XCP on Ethernet"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ethernet"})," bietet eine h\xf6here Bandbreite und Flexibilit\xe4t im Vergleich zu CAN, wodurch gr\xf6\xdfere XCP-Pakete ohne Fragmentierung \xfcbertragen werden k\xf6nnen."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Besonderheiten:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maximale Datenl\xe4nge:"})," Kann deutlich gr\xf6\xdfer sein, typischerweise bis zu 1500 Bytes pro Ethernet-Frame."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"QoS (Quality of Service):"})," Erm\xf6glicht Priorisierung von XCP-Daten gegen\xfcber anderen Netzwerkdaten."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Low Latency:"})," Bietet geringere Latenzzeiten, was f\xfcr zeitkritische Anwendungen vorteilhaft ist."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"weitere-transportprotokolle",children:"Weitere Transportprotokolle"}),"\n",(0,s.jsx)(n.p,{children:"Neben CAN und Ethernet unterst\xfctzt XCP auch andere Transportprotokolle wie USB, FlexRay oder LIN. Die Auswahl des Transportprotokolls h\xe4ngt von den spezifischen Anforderungen der Anwendung ab, wie Bandbreite, Latenz, Kosten und vorhandene Infrastruktur."}),"\n",(0,s.jsx)(n.h2,{id:"maximale-paketgr\xf6\xdfen",children:"Maximale Paketgr\xf6\xdfen"}),"\n",(0,s.jsxs)(n.p,{children:["Die ",(0,s.jsx)(n.strong,{children:"maximale Paketgr\xf6\xdfe"})," ist ein kritischer Parameter, der die Effizienz und Zuverl\xe4ssigkeit der Daten\xfcbertragung beeinflusst. Sie wird f\xfcr CTO- und DTO-Pakete separat festgelegt und h\xe4ngt vom zugrunde liegenden Transportprotokoll ab."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MAX_CTO:"})," Gibt die maximale L\xe4nge eines CTO-Pakets in Bytes an."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MAX_DTO:"})," Gibt die maximale L\xe4nge eines DTO-Pakets in Bytes an."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"einfluss-des-transportprotokolls",children:"Einfluss des Transportprotokolls"}),"\n",(0,s.jsx)(n.p,{children:"Die Wahl des Transportprotokolls bestimmt die maximal zul\xe4ssige Paketgr\xf6\xdfe:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CAN:"})," Aufgrund der Beschr\xe4nkung auf 8 Bytes pro CAN-Frame muss das XCP-Paket h\xe4ufig fragmentiert werden, was die Kommunikation komplexer macht und die Latenz erh\xf6hen kann."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ethernet:"})," Erm\xf6glicht die \xdcbertragung gr\xf6\xdferer Pakete ohne Fragmentierung, was die Effizienz steigert und die Latenz reduziert."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"festlegung-der-paketgr\xf6\xdfen",children:"Festlegung der Paketgr\xf6\xdfen"}),"\n",(0,s.jsx)(n.p,{children:"Die maximalen Paketgr\xf6\xdfen sollten so gew\xe4hlt werden, dass sie den Anforderungen der Anwendung entsprechen, ohne das Transportprotokoll zu \xfcberlasten."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiele:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MAX_CTO f\xfcr CAN:"})," Aufgrund der 8-Byte-Beschr\xe4nkung k\xf6nnte MAX_CTO auf 6 Bytes festgelegt werden, um Platz f\xfcr CAN-spezifische Header und Pr\xfcfsummen zu lassen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MAX_DTO f\xfcr Ethernet:"})," Kann wesentlich gr\xf6\xdfer sein, z.B. 1400 Bytes, um eine effiziente Nutzung der Bandbreite zu gew\xe4hrleisten."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"detaillierte-analyse-der-paketfelder",children:"Detaillierte Analyse der Paketfelder"}),"\n",(0,s.jsx)(n.h3,{id:"identification-field-identifikationsfeld",children:"Identification Field (Identifikationsfeld)"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Identifikationsfeld"})," ist das erste Element im XCP-Packet und dient der eindeutigen Identifizierung des Pakets. Es besteht haupts\xe4chlich aus dem ",(0,s.jsx)(n.strong,{children:"Packet Identifier (PID)"}),", der dar\xfcber entscheidet, wie das Paket interpretiert wird."]}),"\n",(0,s.jsx)(n.h4,{id:"packet-identifier-pid",children:"Packet Identifier (PID)"}),"\n",(0,s.jsxs)(n.p,{children:["Der ",(0,s.jsx)(n.strong,{children:"PID"})," ist ein einzelnes Byte, das die Art des Pakets bestimmt. Es gibt verschiedene Bereiche f\xfcr CTO- und DTO-Pakete:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CTO-Pakete (0xC0 - 0xFF):"})," Diese PIDs werden vom Master zum Slave gesendet und repr\xe4sentieren unterschiedliche Kommandos."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DTO-Pakete (0xFC - 0xFF):"})," Diese PIDs werden vom Slave zum Master gesendet und stellen Antworten oder Daten\xfcbertragungen dar."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel-PIDs:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"0xC1:"})," Start DAQ"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"0xC2:"})," Stop DAQ"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"0xFC:"})," DAQ List Data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"0xFD:"})," DAQ List Finished"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"erweiterte-identifikation-bei-dtos",children:"Erweiterte Identifikation bei DTOs"}),"\n",(0,s.jsx)(n.p,{children:"Bei der \xdcbertragung von DTOs werden neben dem PID weitere Identifikationsinformationen ben\xf6tigt, insbesondere f\xfcr DAQ- und STIM-Daten. Dies kann zus\xe4tzliche Felder im Identifikationsfeld umfassen, um die spezifische DAQ-Liste oder den Stimulus zu identifizieren."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsx)(n.p,{children:"Ein DTO-Paket k\xf6nnte folgende Struktur haben:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"PID (0xFC)"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DAQ-ID:"})," Identifiziert die spezifische DAQ-Liste"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sequenznummer:"})," Dient der Synchronisation und Reihenfolge"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"counter-field-z\xe4hlerfeld",children:"Counter Field (Z\xe4hlerfeld)"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Counter Field"})," ist ein optionales Element, das in DTO-Paketen zur Sequenzierung und Fehlererkennung verwendet wird."]}),"\n",(0,s.jsx)(n.h4,{id:"funktion",children:"Funktion"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sequenzierung:"})," Erm\xf6glicht die Nachverfolgung der Reihenfolge der empfangenen Pakete."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlererkennung:"})," Hilft, verlorene oder doppelte Pakete zu identifizieren."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"implementierung",children:"Implementierung"}),"\n",(0,s.jsx)(n.p,{children:"Das Counter Field ist ein einzelnes Byte und wird direkt nach dem Identifikationsfeld platziert. Es wird typischerweise bei DAQ-Paketen verwendet, um die Reihenfolge der Messdaten sicherzustellen."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsxs)(n.p,{children:["Ein DTO-Paket mit einem Counter-Wert von ",(0,s.jsx)(n.strong,{children:"0x05"})," zeigt an, dass es das f\xfcnfte Paket in der Sequenz ist."]}),"\n",(0,s.jsx)(n.h3,{id:"timestamp-field-zeitstempelfeld",children:"Timestamp Field (Zeitstempelfeld)"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Timestamp Field"})," dient der Zeitmarkierung von Daten\xfcbertragungen und ist besonders wichtig f\xfcr zeitkritische Anwendungen wie die Echtzeit-Datenanalyse."]}),"\n",(0,s.jsx)(n.h4,{id:"bedeutung",children:"Bedeutung"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Synchronisation:"})," Erm\xf6glicht die Synchronisation von Datenstr\xf6men zwischen Master und Slave."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zeitliche Analyse:"})," Erm\xf6glicht die Durchf\xfchrung von zeitbasierten Analysen und Messungen."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"implementierung-1",children:"Implementierung"}),"\n",(0,s.jsx)(n.p,{children:"Das Timestamp Field kann in verschiedenen Datentypen implementiert werden:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Byte:"})," Einfache Zeitmarkierungen mit geringer Pr\xe4zision."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Word:"})," Mittlere Pr\xe4zision."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dword:"})," Hohe Pr\xe4zision, geeignet f\xfcr detaillierte zeitliche Analysen."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"anwendung",children:"Anwendung"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DAQ-Daten:"})," Der Slave schreibt den Messzeitpunkt in das Timestamp Field, wodurch alle Messwerte einer DAQ-Liste zu einem einheitlichen Zeitpunkt referenziert werden k\xf6nnen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STIM-Daten:"})," Der Master setzt einen Timestamp, um den Zeitpunkt der Stimulus-Generierung zu markieren."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsxs)(n.p,{children:["Ein Timestamp-Wert von ",(0,s.jsx)(n.strong,{children:"0x0000F424"})," (1.000.000 in Dezimal) k\xf6nnte 1.000.000 Mikrosekunden seit Beginn der Messung darstellen."]}),"\n",(0,s.jsx)(n.h3,{id:"data-field-datenfeld",children:"Data Field (Datenfeld)"}),"\n",(0,s.jsxs)(n.p,{children:["Das ",(0,s.jsx)(n.strong,{children:"Data Field"})," ist das zentrale Element eines XCP-Pakets und enth\xe4lt die eigentlichen Nutzdaten. Die Struktur und der Inhalt des Datenfeldes variieren je nach Pakettyp (CTO oder DTO)."]}),"\n",(0,s.jsx)(n.h4,{id:"cto-pakete",children:"CTO-Pakete"}),"\n",(0,s.jsx)(n.p,{children:"In CTO-Paketen enth\xe4lt das Datenfeld spezifische Parameter f\xfcr die verschiedenen Kommandos, die vom Master an den Slave gesendet werden."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiele f\xfcr CTO-Kommandos:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start DAQ:"})," Enth\xe4lt die ID der DAQ-Liste und die Abtastrate."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stop DAQ:"})," Enth\xe4lt die ID der zu stoppenden DAQ-Liste."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Set Calibration Parameter:"})," Enth\xe4lt die Adresse des Parameters und den neuen Wert."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"dto-pakete",children:"DTO-Pakete"}),"\n",(0,s.jsx)(n.p,{children:"In DTO-Paketen enth\xe4lt das Datenfeld die \xfcbertragenen Messwerte oder Stimulus-Daten."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiele f\xfcr DTO-Daten:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DAQ-Daten:"})," Enth\xe4lt die erfassten Messwerte von Sensoren oder anderen Datenquellen im Slave."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STIM-Daten:"})," Enth\xe4lt die Stimulus-Werte, die vom Master an den Slave gesendet wurden, um bestimmte Aktionen auszul\xf6sen."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel:"})}),"\n",(0,s.jsx)(n.p,{children:"Ein DTO-Paket zur \xdcbertragung von DAQ-Daten k\xf6nnte die folgenden Informationen im Datenfeld enthalten:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensorwert 1:"})," 4 Byte"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensorwert 2:"})," 4 Byte"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensorwert 3:"})," 4 Byte"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Insgesamt w\xfcrde das Datenfeld 12 Byte umfassen, um drei 32-Bit-Sensorwerte zu \xfcbertragen."}),"\n",(0,s.jsx)(n.h2,{id:"erweiterte-funktionen-und-mechanismen",children:"Erweiterte Funktionen und Mechanismen"}),"\n",(0,s.jsx)(n.h3,{id:"daq-data-acquisition",children:"DAQ (Data Acquisition)"}),"\n",(0,s.jsxs)(n.p,{children:["Die ",(0,s.jsx)(n.strong,{children:"Data Acquisition (DAQ)"}),"-Funktionalit\xe4t erm\xf6glicht die kontinuierliche Erfassung von Messdaten aus dem Slave und deren \xdcbertragung an den Master. DAQ ist essenziell f\xfcr die Echtzeit-Messdatenerfassung und -analyse."]}),"\n",(0,s.jsx)(n.h4,{id:"daq-liste",children:"DAQ-Liste"}),"\n",(0,s.jsxs)(n.p,{children:["Eine ",(0,s.jsx)(n.strong,{children:"DAQ-Liste"})," ist eine konfigurierte Liste von Datenobjekten, die erfasst werden sollen. Sie definiert, welche Daten wann und wie oft erfasst werden."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Komponenten einer DAQ-Liste:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ID:"})," Eindeutige Identifikation der DAQ-Liste."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Objekte:"})," Liste der zu erfassenden Datenobjekte (z.B. Sensorwerte, Registerinhalte)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Abtastrate:"})," Bestimmt, wie h\xe4ufig die Daten erfasst und \xfcbertragen werden."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"daq-zyklus",children:"DAQ-Zyklus"}),"\n",(0,s.jsxs)(n.p,{children:["Ein ",(0,s.jsx)(n.strong,{children:"DAQ-Zyklus"})," ist ein vollst\xe4ndiger Erfassungs- und \xdcbertragungsprozess der in der DAQ-Liste definierten Datenobjekte. Jeder Zyklus beginnt mit dem Erfassen der Daten, gefolgt von der \xdcbertragung an den Master."]}),"\n",(0,s.jsx)(n.h4,{id:"beispielhafter-daq-ablauf",children:"Beispielhafter DAQ-Ablauf"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Konfiguration:"}),' Der Master sendet ein CTO-Paket mit dem Kommando "Start DAQ", einschlie\xdflich der DAQ-Liste-ID und der Abtastrate.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Erfassung:"})," Der Slave beginnt, die definierten Datenobjekte gem\xe4\xdf der Abtastrate zu erfassen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\xdcbertragung:"})," Nach jedem DAQ-Zyklus sendet der Slave ein DTO-Paket mit den erfassten Daten und einem Timestamp."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Synchronisation:"})," Der Master empf\xe4ngt die Daten, analysiert sie und kann bei Bedarf weitere Kommandos senden."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"stim-stimulus",children:"STIM (Stimulus)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Stimulus (STIM)"})," bezieht sich auf die F\xe4higkeit des Masters, Befehle oder Daten an den Slave zu senden, um bestimmte Aktionen auszul\xf6sen."]}),"\n",(0,s.jsx)(n.h4,{id:"funktionalit\xe4t",children:"Funktionalit\xe4t"}),"\n",(0,s.jsx)(n.p,{children:"STIM erm\xf6glicht es dem Master, den Slave zu steuern, beispielsweise durch das Setzen von Registern, das Starten von Funktionen oder das Ausl\xf6sen von Ereignissen."}),"\n",(0,s.jsx)(n.h4,{id:"anwendungsszenarien",children:"Anwendungsszenarien"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kalibrierung:"})," Der Master kann Kalibrierparameter an den Slave senden, um das Verhalten von Steueralgorithmen anzupassen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlersimulation:"})," Der Master kann Fehlerzust\xe4nde simulieren, um die Reaktion des Slaves zu testen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Echtzeitsteuerung:"})," Der Master kann Echtzeitbefehle senden, um den Betrieb des Slaves dynamisch zu steuern."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"beispielhafter-stim-ablauf",children:"Beispielhafter STIM-Ablauf"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kommando senden:"}),' Der Master sendet ein CTO-Paket mit dem Kommando "Set Parameter", einschlie\xdflich der Adresse und des neuen Wertes.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Best\xe4tigung:"})," Der Slave best\xe4tigt das Kommando mit einem entsprechenden DTO-Paket."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ausf\xfchrung:"})," Der Slave f\xfchrt das Kommando aus und passt seine internen Parameter entsprechend an."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"fehlerbehandlung-und-sicherheitsmechanismen",children:"Fehlerbehandlung und Sicherheitsmechanismen"}),"\n",(0,s.jsx)(n.p,{children:"Die Zuverl\xe4ssigkeit der Kommunikation ist entscheidend f\xfcr den erfolgreichen Einsatz von XCP in sicherheitskritischen Anwendungen. Daher sind verschiedene Fehlerbehandlungs- und Sicherheitsmechanismen implementiert."}),"\n",(0,s.jsx)(n.h3,{id:"pr\xfcfsummen-und-crc",children:"Pr\xfcfsummen und CRC"}),"\n",(0,s.jsxs)(n.p,{children:["Um die Integrit\xe4t der \xfcbertragenen Daten zu gew\xe4hrleisten, werden Pr\xfcfsummen oder ",(0,s.jsx)(n.strong,{children:"Cyclic Redundancy Checks (CRC)"})," verwendet. Diese Mechanismen erm\xf6glichen es, \xdcbertragungsfehler zu erkennen und entsprechende Ma\xdfnahmen zu ergreifen."]}),"\n",(0,s.jsx)(n.h4,{id:"implementierung-2",children:"Implementierung"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CAN-Frames:"})," Enthalten eine CRC zur Fehlererkennung auf der Transportschicht."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ethernet-Frames:"})," Nutzen die standardm\xe4\xdfige CRC von Ethernet zur Fehler\xfcberpr\xfcfung."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"fehlererkennung",children:"Fehlererkennung"}),"\n",(0,s.jsx)(n.p,{children:"Bei Feststellung eines Fehlers in der Pr\xfcfsumme wird das betroffene Paket verworfen und ggf. eine erneute \xdcbertragung angefordert."}),"\n",(0,s.jsx)(n.h3,{id:"sequenzierungsfehler",children:"Sequenzierungsfehler"}),"\n",(0,s.jsx)(n.p,{children:"Sequenzierungsfehler treten auf, wenn Pakete nicht in der erwarteten Reihenfolge empfangen werden oder Pakete fehlen."}),"\n",(0,s.jsx)(n.h4,{id:"erkennung",children:"Erkennung"}),"\n",(0,s.jsxs)(n.p,{children:["Durch das ",(0,s.jsx)(n.strong,{children:"Counter Field"})," k\xf6nnen Sequenzierungsfehler erkannt werden. Wenn ein erwartetes Counter-Wert-Paket nicht ankommt oder ein doppeltes Paket empfangen wird, kann dies als Fehler identifiziert werden."]}),"\n",(0,s.jsx)(n.h4,{id:"ma\xdfnahmen",children:"Ma\xdfnahmen"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wiederholungsanforderung:"})," Der Master kann eine erneute \xdcbertragung des fehlenden Pakets anfordern."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlermanagement:"})," Der Master und Slave k\xf6nnen in einen definierten Fehlerzustand wechseln, um die Kommunikation neu zu synchronisieren."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sicherheitsmechanismen",children:"Sicherheitsmechanismen"}),"\n",(0,s.jsx)(n.p,{children:"In sicherheitskritischen Anwendungen sind zus\xe4tzliche Sicherheitsmechanismen erforderlich, um unautorisierte Zugriffe und Manipulationen zu verhindern."}),"\n",(0,s.jsx)(n.h4,{id:"authentifizierung",children:"Authentifizierung"}),"\n",(0,s.jsx)(n.p,{children:"Sicherstellen, dass nur autorisierte Master und Slave miteinander kommunizieren k\xf6nnen."}),"\n",(0,s.jsx)(n.h4,{id:"verschl\xfcsselung",children:"Verschl\xfcsselung"}),"\n",(0,s.jsx)(n.p,{children:"Sch\xfctzen der \xfcbertragenen Daten vor unbefugtem Zugriff durch Verschl\xfcsselungstechniken."}),"\n",(0,s.jsx)(n.h4,{id:"zugriffskontrollen",children:"Zugriffskontrollen"}),"\n",(0,s.jsx)(n.p,{children:"Definieren von Berechtigungen und Zugriffsrechten, um sicherzustellen, dass nur bestimmte Master bestimmte Operationen ausf\xfchren k\xf6nnen."}),"\n",(0,s.jsx)(n.h2,{id:"performance-optimierungen",children:"Performance-Optimierungen"}),"\n",(0,s.jsx)(n.p,{children:"Die Effizienz der Daten\xfcbertragung im XCP-Protokoll kann durch verschiedene Optimierungen gesteigert werden. Dies ist besonders wichtig in Anwendungen mit hohen Datenraten oder strengen Echtzeit-Anforderungen."}),"\n",(0,s.jsx)(n.h3,{id:"paketgr\xf6\xdfenanpassung",children:"Paketgr\xf6\xdfenanpassung"}),"\n",(0,s.jsx)(n.p,{children:"Die Anpassung der maximalen Paketgr\xf6\xdfen an die Anforderungen der Anwendung und die Kapazit\xe4ten des Transportprotokolls kann die \xdcbertragungseffizienz verbessern."}),"\n",(0,s.jsx)(n.h4,{id:"dynamische-anpassung",children:"Dynamische Anpassung"}),"\n",(0,s.jsx)(n.p,{children:"In einigen F\xe4llen kann es sinnvoll sein, die Paketgr\xf6\xdfen dynamisch anzupassen, basierend auf der aktuellen Netzwerkbelastung oder den spezifischen Anforderungen der \xfcbertragenen Daten."}),"\n",(0,s.jsx)(n.h3,{id:"datenkompression",children:"Datenkompression"}),"\n",(0,s.jsx)(n.p,{children:"Die Implementierung von Kompressionsalgorithmen kann die Datenmenge reduzieren und die \xdcbertragungsgeschwindigkeit erh\xf6hen, insbesondere bei begrenzter Bandbreite."}),"\n",(0,s.jsx)(n.h4,{id:"1921-verlustfreie-kompression",children:"1.9.2.1 Verlustfreie Kompression"}),"\n",(0,s.jsx)(n.p,{children:"Verwendet in Anwendungen, bei denen die Integrit\xe4t der Daten kritisch ist."}),"\n",(0,s.jsx)(n.h4,{id:"1922-verlustbehaftete-kompression",children:"1.9.2.2 Verlustbehaftete Kompression"}),"\n",(0,s.jsx)(n.p,{children:"Kann in Anwendungen eingesetzt werden, bei denen eine gewisse Datenverlusttoleranz akzeptabel ist, um die \xdcbertragungsgeschwindigkeit weiter zu steigern."}),"\n",(0,s.jsx)(n.h3,{id:"193-priorisierung-von-daten",children:"1.9.3 Priorisierung von Daten"}),"\n",(0,s.jsx)(n.p,{children:"Durch die Priorisierung wichtiger Datenpakete k\xf6nnen zeitkritische Informationen bevorzugt behandelt werden, was die Gesamtleistung des Systems verbessert."}),"\n",(0,s.jsx)(n.h4,{id:"1931-quality-of-service-qos",children:"1.9.3.1 Quality of Service (QoS)"}),"\n",(0,s.jsx)(n.p,{children:"Implementierung von QoS-Mechanismen auf der Transportschicht, um sicherzustellen, dass wichtige Datenpakete Vorrang vor weniger wichtigen haben."}),"\n",(0,s.jsx)(n.h2,{id:"110-werkzeuge-und-techniken-zur-analyse-von-xcp-daten",children:"1.10 Werkzeuge und Techniken zur Analyse von XCP-Daten"}),"\n",(0,s.jsx)(n.p,{children:"Die Analyse und Fehlersuche im XCP-Protokoll erfordert spezialisierte Werkzeuge und Techniken, um die Kommunikation effektiv zu \xfcberwachen und zu interpretieren."}),"\n",(0,s.jsx)(n.h3,{id:"1101-xcp-protokoll-analyser",children:"1.10.1 XCP-Protokoll-Analyser"}),"\n",(0,s.jsx)(n.p,{children:"Spezialisierte Software-Tools, die den XCP-Datenverkehr aufzeichnen und visualisieren. Sie bieten Funktionen wie Paket-Decoder, Timing-Analyse und Fehlererkennung."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiele:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Vector CANalyzer:"})," Unterst\xfctzt die Analyse von XCP-over-CAN-Kommunikation."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ETAS INCA:"})," Bietet umfassende Unterst\xfctzung f\xfcr die Mess- und Kalibrierungsprozesse mit XCP."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"1102-log-dateien-und-debugging",children:"1.10.2 Log-Dateien und Debugging"}),"\n",(0,s.jsx)(n.p,{children:"Die Erstellung und Analyse von Log-Dateien ist eine grundlegende Methode zur Fehlersuche im XCP-Protokoll."}),"\n",(0,s.jsx)(n.h4,{id:"11021-log-erstellung",children:"1.10.2.1 Log-Erstellung"}),"\n",(0,s.jsx)(n.p,{children:"W\xe4hrend der Kommunikation k\xf6nnen detaillierte Log-Dateien erstellt werden, die alle \xfcbertragenen Pakete und ihre Inhalte dokumentieren."}),"\n",(0,s.jsx)(n.h4,{id:"11022-log-analyse",children:"1.10.2.2 Log-Analyse"}),"\n",(0,s.jsx)(n.p,{children:"Durch die Analyse der Logs k\xf6nnen Kommunikationsfehler identifiziert, die Sequenz der Paket\xfcbertragungen nachvollzogen und Optimierungspotenziale erkannt werden."}),"\n",(0,s.jsx)(n.h3,{id:"1103-echtzeit-diagnose",children:"1.10.3 Echtzeit-Diagnose"}),"\n",(0,s.jsx)(n.p,{children:"Echtzeit-Diagnose-Tools erm\xf6glichen die \xdcberwachung und Analyse des XCP-Datenverkehrs w\xe4hrend des Betriebs, was eine sofortige Fehlererkennung und -behebung erm\xf6glicht."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiele:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Oscilloskope mit CAN-Schnittstelle:"})," Erm\xf6glichen die visuelle Darstellung des Datenverkehrs auf der physischen Ebene."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integrierte Entwicklungsumgebungen (IDEs):"})," Bieten oft integrierte Tools zur Echtzeit-Daten\xfcberwachung und -analyse."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"111-best-practices-f\xfcr-die-implementierung-der-xcp-protokollschicht",children:"1.11 Best Practices f\xfcr die Implementierung der XCP-Protokollschicht"}),"\n",(0,s.jsx)(n.p,{children:"Um eine zuverl\xe4ssige und effiziente Kommunikation mit dem XCP-Protokoll zu gew\xe4hrleisten, sollten bestimmte Best Practices bei der Implementierung beachtet werden."}),"\n",(0,s.jsx)(n.h3,{id:"1111-strukturierte-planung-und-konfiguration",children:"1.11.1 Strukturierte Planung und Konfiguration"}),"\n",(0,s.jsx)(n.p,{children:"Eine sorgf\xe4ltige Planung der DAQ- und STIM-Konfigurationen ist essentiell, um eine optimale Nutzung der verf\xfcgbaren Ressourcen zu gew\xe4hrleisten."}),"\n",(0,s.jsx)(n.h4,{id:"11111-definition-der-daq-listen",children:"1.11.1.1 Definition der DAQ-Listen"}),"\n",(0,s.jsx)(n.p,{children:"Klare Definition der zu erfassenden Datenobjekte, deren Abtastraten und die Struktur der DAQ-Listen."}),"\n",(0,s.jsx)(n.h4,{id:"11112-stim-konfiguration",children:"1.11.1.2 STIM-Konfiguration"}),"\n",(0,s.jsx)(n.p,{children:"Sicherstellen, dass die Stimulus-Befehle klar definiert und dokumentiert sind, um eine konsistente Steuerung des Slaves zu erm\xf6glichen."}),"\n",(0,s.jsx)(n.h3,{id:"1112-optimierung-der-paketgr\xf6\xdfen",children:"1.11.2 Optimierung der Paketgr\xf6\xdfen"}),"\n",(0,s.jsx)(n.p,{children:"Die maximale Paketgr\xf6\xdfe sollte sorgf\xe4ltig an die Anforderungen und die Kapazit\xe4ten des gew\xe4hlten Transportprotokolls angepasst werden, um eine effiziente Daten\xfcbertragung zu gew\xe4hrleisten."}),"\n",(0,s.jsx)(n.h3,{id:"1113-implementierung-von-fehlerbehandlungsmechanismen",children:"1.11.3 Implementierung von Fehlerbehandlungsmechanismen"}),"\n",(0,s.jsx)(n.p,{children:"Robuste Fehlerbehandlungsmechanismen sollten implementiert werden, um eine zuverl\xe4ssige Kommunikation auch unter fehlerhaften Bedingungen zu gew\xe4hrleisten."}),"\n",(0,s.jsx)(n.h4,{id:"11131-wiederholungsstrategien",children:"1.11.3.1 Wiederholungsstrategien"}),"\n",(0,s.jsx)(n.p,{children:"Implementieren von Strategien zur Wiederholung von fehlgeschlagenen \xdcbertragungen, um Datenverluste zu minimieren."}),"\n",(0,s.jsx)(n.h4,{id:"11132-timeout-mechanismen",children:"1.11.3.2 Timeout-Mechanismen"}),"\n",(0,s.jsx)(n.p,{children:"Definieren von Timeouts, um festzustellen, wann eine \xdcbertragung als fehlgeschlagen betrachtet wird, und entsprechende Ma\xdfnahmen zu ergreifen."}),"\n",(0,s.jsx)(n.h3,{id:"1114-nutzung-von-sicherheitsmechanismen",children:"1.11.4 Nutzung von Sicherheitsmechanismen"}),"\n",(0,s.jsx)(n.p,{children:"In sicherheitskritischen Anwendungen sollten zus\xe4tzliche Sicherheitsmechanismen implementiert werden, um die Integrit\xe4t und Vertraulichkeit der Daten zu gew\xe4hrleisten."}),"\n",(0,s.jsx)(n.h4,{id:"11141-authentifizierung-und-autorisierung",children:"1.11.4.1 Authentifizierung und Autorisierung"}),"\n",(0,s.jsx)(n.p,{children:"Stellen Sie sicher, dass nur autorisierte Master und Slave miteinander kommunizieren k\xf6nnen, um unbefugte Zugriffe zu verhindern."}),"\n",(0,s.jsx)(n.h4,{id:"11142-datenverschl\xfcsselung",children:"1.11.4.2 Datenverschl\xfcsselung"}),"\n",(0,s.jsx)(n.p,{children:"Nutzen Sie Verschl\xfcsselungstechniken, um die \xfcbertragenen Daten vor unbefugtem Zugriff und Manipulation zu sch\xfctzen."}),"\n",(0,s.jsx)(n.h3,{id:"1115-testen-und-validieren-der-implementierung",children:"1.11.5 Testen und Validieren der Implementierung"}),"\n",(0,s.jsx)(n.p,{children:"Um die Zuverl\xe4ssigkeit und Leistungsf\xe4higkeit der XCP-Implementierung sicherzustellen, sind umfassende Tests und Validierungen erforderlich."}),"\n",(0,s.jsx)(n.h4,{id:"11151-unit-tests",children:"1.11.5.1 Unit-Tests"}),"\n",(0,s.jsx)(n.p,{children:"Testen einzelner Komponenten der XCP-Implementierung, um sicherzustellen, dass sie korrekt funktionieren."}),"\n",(0,s.jsx)(n.h4,{id:"11152-integrationstests",children:"1.11.5.2 Integrationstests"}),"\n",(0,s.jsx)(n.p,{children:"\xdcberpr\xfcfen der Interaktion zwischen verschiedenen Komponenten des XCP-Systems, um sicherzustellen, dass die Kommunikation nahtlos funktioniert."}),"\n",(0,s.jsx)(n.h4,{id:"11153-systemtests",children:"1.11.5.3 Systemtests"}),"\n",(0,s.jsx)(n.p,{children:"Durchf\xfchren von Tests unter realen Bedingungen, um die Gesamtleistung und Zuverl\xe4ssigkeit des XCP-Systems zu validieren."}),"\n",(0,s.jsx)(n.h2,{id:"112-zusammenfassung",children:"1.12 Zusammenfassung"}),"\n",(0,s.jsxs)(n.p,{children:["Die ",(0,s.jsx)(n.strong,{children:"XCP-Protokollschicht"})," bildet das R\xfcckgrat der Kommunikation zwischen Master und Slave in einem XCP-System. Durch die klare Strukturierung in Header, Packet und Tail sowie die pr\xe4zise Definition der einzelnen Felder wie Identification, Counter, Timestamp und Data wird eine effiziente und zuverl\xe4ssige Daten\xfcbertragung gew\xe4hrleistet. Die Flexibilit\xe4t von XCP, verschiedene Transportprotokolle zu unterst\xfctzen, erm\xf6glicht den Einsatz in einer Vielzahl von Anwendungen, von der Echtzeit-Daten\xfcberwachung bis hin zur dynamischen Kalibrierung von Steuerger\xe4ten."]}),"\n",(0,s.jsx)(n.p,{children:"Wichtige Aspekte wie die korrekte Konfiguration der DAQ- und STIM-Funktionen, die Implementierung robuster Fehlerbehandlungsmechanismen und die Nutzung von Sicherheitsma\xdfnahmen tragen zur Stabilit\xe4t und Sicherheit der gesamten Kommunikationsarchitektur bei. Dar\xfcber hinaus erm\xf6glichen spezialisierte Analysetools und Best Practices eine effektive Entwicklung, Implementierung und Wartung von XCP-basierten Systemen."}),"\n",(0,s.jsxs)(n.p,{children:["Das Verst\xe4ndnis der detaillierten Funktionsweise der XCP-Protokollschicht ist unerl\xe4sslich f\xfcr Ingenieure und Entwickler, die pr\xe4zise und zuverl\xe4ssige Kommunikationsl\xf6sungen in ihren eingebetteten Systemen implementieren m\xf6chten. Im n\xe4chsten Kapitel werden wir uns intensiv mit der ",(0,s.jsx)(n.strong,{children:"Paketadressierung f\xfcr DAQ und STIM"})," besch\xe4ftigen, um ein noch tieferes Verst\xe4ndnis der Datenstr\xf6me und Synchronisationsmechanismen innerhalb des XCP-Protokolls zu erlangen."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>d});var r=i(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);