"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[35297],{62228:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"AUTOSAR/application/communication","title":"Virtual Function Bus","description":"This document explains the communication architecture of the AUTOSAR Classic Platform for a lighting control system as shown in the provided diagram. The focus is on the Virtual Function Bus (VFB), software components (SWCs), their ports, and the connectors facilitating communication.","source":"@site/docs/AUTOSAR/02_application/03_communication.md","sourceDirName":"AUTOSAR/02_application","slug":"/AUTOSAR/application/communication","permalink":"/Vehicle-Network-Standards/docs/AUTOSAR/application/communication","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AUTOSAR/02_application/03_communication.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"autosarSidebar","previous":{"title":"Components View for Lighting Control","permalink":"/Vehicle-Network-Standards/docs/AUTOSAR/application/components"},"next":{"title":"Distribution of Components","permalink":"/Vehicle-Network-Standards/docs/AUTOSAR/application/distribution_components"}}');var i=t(74848),s=t(28453);const r={},l="Virtual Function Bus",a={},c=[{value:"<strong>1. Core Elements of the Communication Architecture</strong>",id:"1-core-elements-of-the-communication-architecture",level:2},{value:"<strong>1.1 Software Components (SWCs)</strong>",id:"11-software-components-swcs",level:3},{value:"<strong>1.2 Ports</strong>",id:"12-ports",level:3},{value:"Example from the Diagram:",id:"example-from-the-diagram",level:4},{value:"<strong>1.3 Virtual Function Bus (VFB)</strong>",id:"13-virtual-function-bus-vfb",level:3},{value:"Key Features:",id:"key-features",level:4},{value:"<strong>1.4 Connectors</strong>",id:"14-connectors",level:3},{value:"Example from the Diagram:",id:"example-from-the-diagram-1",level:4},{value:"<strong>2. Functional Flow of Communication</strong>",id:"2-functional-flow-of-communication",level:2},{value:"<strong>2.1 Door Status Detection</strong>",id:"21-door-status-detection",level:3},{value:"Code Example:",id:"code-example",level:4},{value:"<strong>2.2 Door Contact Evaluation</strong>",id:"22-door-contact-evaluation",level:3},{value:"Code Example:",id:"code-example-1",level:4},{value:"<strong>2.3 Lighting Control</strong>",id:"23-lighting-control",level:3},{value:"Code Example:",id:"code-example-2",level:4},{value:"<strong>2.4 Light Activation</strong>",id:"24-light-activation",level:3},{value:"Code Example:",id:"code-example-3",level:4},{value:"<strong>3. Advanced Concepts</strong>",id:"3-advanced-concepts",level:2},{value:"<strong>3.1 Port Mapping</strong>",id:"31-port-mapping",level:3},{value:"Example ARXML Snippet:",id:"example-arxml-snippet",level:4},{value:"<strong>3.2 Fault Handling</strong>",id:"32-fault-handling",level:3},{value:"Example Fault Tolerance:",id:"example-fault-tolerance",level:4},{value:"<strong>4. Benefits of Using VFB in AUTOSAR</strong>",id:"4-benefits-of-using-vfb-in-autosar",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"virtual-function-bus",children:"Virtual Function Bus"})}),"\n",(0,i.jsxs)(n.p,{children:["This document explains the ",(0,i.jsx)(n.strong,{children:"communication architecture"})," of the AUTOSAR Classic Platform for a ",(0,i.jsx)(n.strong,{children:"lighting control system"})," as shown in the provided diagram. The focus is on the ",(0,i.jsx)(n.strong,{children:"Virtual Function Bus (VFB)"}),", ",(0,i.jsx)(n.strong,{children:"software components (SWCs)"}),", their ",(0,i.jsx)(n.strong,{children:"ports"}),", and the ",(0,i.jsx)(n.strong,{children:"connectors"})," facilitating communication."]}),"\n",(0,i.jsx)(n.p,{children:"The VFB abstracts the communication between software components and ensures hardware-independent design, enabling modular and reusable development."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-core-elements-of-the-communication-architecture",children:(0,i.jsx)(n.strong,{children:"1. Core Elements of the Communication Architecture"})}),"\n",(0,i.jsx)(n.h3,{id:"11-software-components-swcs",children:(0,i.jsx)(n.strong,{children:"1.1 Software Components (SWCs)"})}),"\n",(0,i.jsxs)(n.p,{children:["The diagram illustrates five key ",(0,i.jsx)(n.strong,{children:"software components"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Switch"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Left Door"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Right Door"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Door Contact"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Dimmer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Light"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Each SWC represents a modular unit with defined functionality, implemented within the Application Layer of the AUTOSAR architecture. These components interact with each other through ",(0,i.jsx)(n.strong,{children:"ports"})," and the ",(0,i.jsx)(n.strong,{children:"Virtual Function Bus (VFB)"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"12-ports",children:(0,i.jsx)(n.strong,{children:"1.2 Ports"})}),"\n",(0,i.jsx)(n.p,{children:"Ports are the interfaces of the SWCs that allow communication with other components. AUTOSAR defines two types of ports:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sender/Receiver Ports:"})," For asynchronous data exchange."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client/Server Ports:"})," For synchronous communication (e.g., invoking services)."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-from-the-diagram",children:"Example from the Diagram:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Switch SWC"})," has a sender port that transmits its state to the VFB."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Left Door"})," and ",(0,i.jsx)(n.strong,{children:"Right Door"})," use sender ports to provide their door status to the ",(0,i.jsx)(n.strong,{children:"Door Contact"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"13-virtual-function-bus-vfb",children:(0,i.jsx)(n.strong,{children:"1.3 Virtual Function Bus (VFB)"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"VFB"})," acts as an abstraction layer for communication between SWCs. It decouples components by routing signals and data flows between ports. This design ensures that components remain independent of the underlying ECU hardware."]}),"\n",(0,i.jsx)(n.h4,{id:"key-features",children:"Key Features:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Hardware-independent communication."}),"\n",(0,i.jsx)(n.li,{children:"Ensures modularity and reusability of SWCs."}),"\n",(0,i.jsx)(n.li,{children:"Abstracts the actual transport protocol (e.g., CAN, LIN, FlexRay)."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"14-connectors",children:(0,i.jsx)(n.strong,{children:"1.4 Connectors"})}),"\n",(0,i.jsx)(n.p,{children:"Connectors establish the logical links between ports of different SWCs, enabling data exchange. The VFB manages these connectors to ensure correct routing."}),"\n",(0,i.jsx)(n.h4,{id:"example-from-the-diagram-1",children:"Example from the Diagram:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The sender port of the ",(0,i.jsx)(n.strong,{children:"Switch"})," is connected to the ",(0,i.jsx)(n.strong,{children:"Dimmer"}),"'s receiver port via a connector managed by the VFB."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-functional-flow-of-communication",children:(0,i.jsx)(n.strong,{children:"2. Functional Flow of Communication"})}),"\n",(0,i.jsx)(n.p,{children:"The communication flow for the lighting control system is as follows:"}),"\n",(0,i.jsx)(n.h3,{id:"21-door-status-detection",children:(0,i.jsx)(n.strong,{children:"2.1 Door Status Detection"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Left Door"})," and ",(0,i.jsx)(n.strong,{children:"Right Door"})," SWCs monitor the state of their respective doors."]}),"\n",(0,i.jsxs)(n.li,{children:["Each SWC sends its status (e.g., ",(0,i.jsx)(n.code,{children:"OPEN"})," or ",(0,i.jsx)(n.code,{children:"CLOSED"}),") to the ",(0,i.jsx)(n.strong,{children:"Door Contact"})," via their sender ports."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"code-example",children:"Code Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'// Example Sender Port Implementation in Left Door SWC\nvoid LeftDoor_SendStatus(bool doorStatus) {\n    VFB_Send("LeftDoorStatus", doorStatus);\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"22-door-contact-evaluation",children:(0,i.jsx)(n.strong,{children:"2.2 Door Contact Evaluation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"Door Contact"})," SWC receives inputs from both door SWCs via its receiver ports."]}),"\n",(0,i.jsx)(n.li,{children:"It evaluates the combined status and determines if lighting adjustments are needed."}),"\n",(0,i.jsxs)(n.li,{children:["The result is sent to the ",(0,i.jsx)(n.strong,{children:"Dimmer"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"code-example-1",children:"Code Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'// Example Receiver Port Implementation in Door Contact SWC\nvoid DoorContact_ReceiveInputs(bool leftDoor, bool rightDoor) {\n    bool anyDoorOpen = leftDoor || rightDoor;\n    VFB_Send("LightingRequest", anyDoorOpen);\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"23-lighting-control",children:(0,i.jsx)(n.strong,{children:"2.3 Lighting Control"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"Dimmer"})," receives lighting requests from the ",(0,i.jsx)(n.strong,{children:"Door Contact"})," and manual input from the ",(0,i.jsx)(n.strong,{children:"Switch"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Based on these inputs, the ",(0,i.jsx)(n.strong,{children:"Dimmer"})," calculates the required brightness level and sends the command to the ",(0,i.jsx)(n.strong,{children:"Light"})," SWC."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"code-example-2",children:"Code Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'// Example Dimmer Logic\nvoid Dimmer_ProcessInputs(bool lightingRequest, int switchInput) {\n    int brightness = switchInput > 0 ? switchInput : (lightingRequest ? 100 : 0);\n    VFB_Send("LightBrightness", brightness);\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"24-light-activation",children:(0,i.jsx)(n.strong,{children:"2.4 Light Activation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"Light"})," SWC receives brightness commands from the ",(0,i.jsx)(n.strong,{children:"Dimmer"})," and adjusts the physical lights accordingly."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"code-example-3",children:"Code Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:"// Example Light SWC Implementation\nvoid Light_AdjustBrightness(int brightness) {\n    SetPWMOutput(brightness);\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-advanced-concepts",children:(0,i.jsx)(n.strong,{children:"3. Advanced Concepts"})}),"\n",(0,i.jsx)(n.h3,{id:"31-port-mapping",children:(0,i.jsx)(n.strong,{children:"3.1 Port Mapping"})}),"\n",(0,i.jsx)(n.p,{children:"Each port in an SWC must be mapped to a corresponding port on another SWC through the VFB. The configuration is handled using AUTOSAR tools (e.g., DaVinci Configurator or ARXML files)."}),"\n",(0,i.jsx)(n.h4,{id:"example-arxml-snippet",children:"Example ARXML Snippet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<SWC-Ports>\n    <Sender-Receiver-Port>\n        <ShortName>LeftDoorStatus</ShortName>\n        <DataElement>DoorStatus</DataElement>\n    </Sender-Receiver-Port>\n</SWC-Ports>\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"32-fault-handling",children:(0,i.jsx)(n.strong,{children:"3.2 Fault Handling"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The VFB ensures safe communication even in case of faulty components."}),"\n",(0,i.jsx)(n.li,{children:"Timeout mechanisms or default values can be configured for critical signals."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-fault-tolerance",children:"Example Fault Tolerance:"}),"\n",(0,i.jsxs)(n.p,{children:["If the ",(0,i.jsx)(n.strong,{children:"Left Door"})," fails to send its status, the ",(0,i.jsx)(n.strong,{children:"Door Contact"})," can use a default value to maintain system operation."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-benefits-of-using-vfb-in-autosar",children:(0,i.jsx)(n.strong,{children:"4. Benefits of Using VFB in AUTOSAR"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hardware Abstraction:"})," The VFB decouples the communication from physical hardware, allowing SWCs to be reused across platforms."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Standardized Communication:"})," Ensures consistency and compatibility between components."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ease of Integration:"})," Simplifies the addition of new components without affecting existing ones."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Improved Maintainability:"})," Logical separation of components reduces debugging complexity."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"This documentation provides a thorough explanation of the AUTOSAR communication mechanism for the lighting control system. Let me know if you need additional details or deeper insights into any specific component!"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var o=t(96540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);