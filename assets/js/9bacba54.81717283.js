"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[36106],{12404:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"UDS/dtc/Control-DTC-Settings","title":"Control DTC Settings - 0x19","description":"Introduction","source":"@site/docs/UDS/03_dtc/02_Control-DTC-Settings.md","sourceDirName":"UDS/03_dtc","slug":"/UDS/dtc/Control-DTC-Settings","permalink":"/Vehicle-Network-Standards/docs/UDS/dtc/Control-DTC-Settings","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/03_dtc/02_Control-DTC-Settings.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"udsSidebar","previous":{"title":"Clear DTC Information - 0x14","permalink":"/Vehicle-Network-Standards/docs/UDS/dtc/Clear-DTC-Information"},"next":{"title":"Negative-Response-Codes","permalink":"/Vehicle-Network-Standards/docs/UDS/dtc/Negative-Response-Codes"}}');var t=i(74848),r=i(28453);const o={},l="Control DTC Settings - 0x19",d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Overview of Control DTC Settings in UDS",id:"overview-of-control-dtc-settings-in-uds",level:2},{value:"UDS Protocol Details",id:"uds-protocol-details",level:2},{value:"ISO 14229 Standard",id:"iso-14229-standard",level:3},{value:"Transport Protocols",id:"transport-protocols",level:3},{value:"Key UDS Service: Control DTC Settings (Service ID 0x19)",id:"key-uds-service-control-dtc-settings-service-id-0x19",level:2},{value:"Service ID: 0x19",id:"service-id-0x19",level:3},{value:"Request Format",id:"request-format",level:3},{value:"Response Format",id:"response-format",level:3},{value:"Applications and Use Cases",id:"applications-and-use-cases",level:2},{value:"Diagnosing and Testing",id:"diagnosing-and-testing",level:3},{value:"Calibration and Maintenance",id:"calibration-and-maintenance",level:3},{value:"Fault Simulation and Control",id:"fault-simulation-and-control",level:3},{value:"Best Practices and Considerations",id:"best-practices-and-considerations",level:2},{value:"Handling DTC Codes",id:"handling-dtc-codes",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Security",id:"security",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"control-dtc-settings---0x19",children:"Control DTC Settings - 0x19"})}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(n.p,{children:"Unified Diagnostic Services (UDS) is a diagnostic communication protocol widely used in the automotive industry, primarily for vehicle diagnostics. It enables the communication between a vehicle's Electronic Control Units (ECUs) and diagnostic tools to perform various diagnostic functions, such as reading and clearing Diagnostic Trouble Codes (DTCs), reprogramming ECUs, and controlling other vehicle-specific functions."}),"\n",(0,t.jsx)(n.p,{children:"One of the core functionalities of UDS is the ability to control DTC settings. DTCs are crucial in identifying faults within a vehicle's systems. The \"Control DTC Settings\" service allows for the management of DTC settings, including enabling or disabling specific DTCs in the ECU. This functionality is essential for diagnostic and maintenance tasks, allowing technicians to adjust the ECU's behavior during fault detection or testing."}),"\n",(0,t.jsx)(n.p,{children:'This document provides a comprehensive overview of the "Control DTC Settings" service in UDS, explaining the relevant UDS service IDs, message structures, and key parameters. Additionally, this guide will explore how to implement and utilize this service in a diagnostic tool.'}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview-of-control-dtc-settings-in-uds",children:"Overview of Control DTC Settings in UDS"}),"\n",(0,t.jsx)(n.p,{children:'The "Control DTC Settings" service in UDS is used to control the behavior of DTCs within the ECU. The service is defined in the UDS protocol standard as part of the diagnostic session control. By enabling or disabling specific DTCs, technicians can alter the ECU\'s fault detection and reporting behavior for diagnostic purposes or during vehicle tests.'}),"\n",(0,t.jsx)(n.p,{children:"The service may be used in scenarios such as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Disabling certain DTCs to prevent unnecessary fault codes from being reported during testing."}),"\n",(0,t.jsx)(n.li,{children:"Enabling specific DTCs to monitor particular vehicle subsystems."}),"\n",(0,t.jsx)(n.li,{children:"Modifying DTC behaviors during maintenance or calibration."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"In this document, we will focus on the UDS service for controlling DTC settings, including the request and response message formats, the parameters involved, and the use cases in practical applications."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"uds-protocol-details",children:"UDS Protocol Details"}),"\n",(0,t.jsx)(n.h3,{id:"iso-14229-standard",children:"ISO 14229 Standard"}),"\n",(0,t.jsx)(n.p,{children:'The "Control DTC Settings" service is defined under the ISO 14229 standard, which provides the specification for UDS. ISO 14229 outlines the protocols for communication between diagnostic tools and ECUs, including service definitions, message formats, and communication layers.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ISO 14229-1"}),': Defines the UDS services, including the "Control DTC Settings" service.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ISO 14229-2"}),": Specifies the transport layer for UDS communication (e.g., CAN, LIN, Ethernet)."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The standard also defines the structure of UDS messages, which consist of a request and a response."}),"\n",(0,t.jsx)(n.h3,{id:"transport-protocols",children:"Transport Protocols"}),"\n",(0,t.jsx)(n.p,{children:"UDS operates over several transport protocols such as CAN (Controller Area Network), LIN (Local Interconnect Network), and Ethernet. The choice of transport protocol determines the specific frame format and timing for message transmission."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CAN"}),": The most commonly used transport protocol for UDS communication in vehicles."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LIN"}),": Often used for simpler ECUs with lower bandwidth requirements."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ethernet"}),": Increasingly used in modern vehicles for high-speed data communication."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"key-uds-service-control-dtc-settings-service-id-0x19",children:"Key UDS Service: Control DTC Settings (Service ID 0x19)"}),"\n",(0,t.jsxs)(n.p,{children:['The "Control DTC Settings" service is identified by service ID ',(0,t.jsx)(n.code,{children:"0x19"})," in UDS. This service allows diagnostic tools to enable, disable, or modify DTC settings on the ECU."]}),"\n",(0,t.jsx)(n.h3,{id:"service-id-0x19",children:"Service ID: 0x19"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service Name"}),": Control DTC Settings"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service ID"}),": 0x19"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Functionality"}),": Controls DTC settings by enabling or disabling certain DTCs or modifying their behavior."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"request-format",children:"Request Format"}),"\n",(0,t.jsx)(n.p,{children:"A request for controlling DTC settings consists of the following fields:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Byte Position"}),(0,t.jsx)(n.th,{children:"Length (Bytes)"}),(0,t.jsx)(n.th,{children:"Field Name"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"0"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"Service ID"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"0x19"})," - Control DTC Settings"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"Subfunction"}),(0,t.jsxs)(n.td,{children:["Specifies the operation to be performed. Possible values include ",(0,t.jsx)(n.code,{children:"0x01"})," (Enable DTC), ",(0,t.jsx)(n.code,{children:"0x02"})," (Disable DTC), and ",(0,t.jsx)(n.code,{children:"0x03"})," (Modify DTC Settings)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"DTC Type"}),(0,t.jsx)(n.td,{children:"Type of the DTC to be controlled (e.g., Permanent DTC, Pending DTC, or Test DTC)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"3"}),(0,t.jsx)(n.td,{children:"2"}),(0,t.jsx)(n.td,{children:"DTC"}),(0,t.jsx)(n.td,{children:"The specific Diagnostic Trouble Code (DTC) to be enabled, disabled, or modified."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"Additional Parameters"}),(0,t.jsx)(n.td,{children:"Depending on the subfunction, additional parameters may be included. For example, for disabling a DTC, a confirmation byte may be required."})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Request Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"0x19 0x01 0x00 0x01 0x1234 0x00\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x19"}),": Service ID for Control DTC Settings."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x01"}),": Subfunction to enable a DTC."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x00"}),": DTC Type (e.g., Permanent)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x1234"}),": DTC (the specific fault code)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x00"}),": Additional parameters (e.g., confirmation byte for enabling)."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"response-format",children:"Response Format"}),"\n",(0,t.jsx)(n.p,{children:"The response message format includes a status byte indicating the success or failure of the operation. The response also includes any relevant data, such as confirmation or error codes."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Byte Position"}),(0,t.jsx)(n.th,{children:"Length (Bytes)"}),(0,t.jsx)(n.th,{children:"Field Name"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"0"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"Service ID"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"0x59"})," - Response to the Control DTC Settings service (same as the request, but with a different ID)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"Positive/Negative Response Code"}),(0,t.jsxs)(n.td,{children:["Indicates whether the request was successful or if there was an error. Examples: ",(0,t.jsx)(n.code,{children:"0x00"})," (Positive), ",(0,t.jsx)(n.code,{children:"0x33"})," (Service Not Supported)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"Additional Info"}),(0,t.jsx)(n.td,{children:"If necessary, additional information such as error codes or status."})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Response Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"0x59 0x00 0x00\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x59"}),": Response to the Control DTC Settings service."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x00"}),": Positive response code (successful)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0x00"}),": No additional information."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"applications-and-use-cases",children:"Applications and Use Cases"}),"\n",(0,t.jsx)(n.h3,{id:"diagnosing-and-testing",children:"Diagnosing and Testing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enabling DTCs for Testing"}),": When performing vehicle diagnostics, technicians may need to enable certain DTCs to simulate fault conditions and test diagnostic tools or vehicle subsystems."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Disabling DTCs for Testing"}),": During testing or calibration, disabling specific DTCs might be necessary to prevent interference with ongoing tests."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example: When performing a system-level diagnostic check, a technician can disable non-critical DTCs to focus on more significant fault codes, ensuring better test results."}),"\n",(0,t.jsx)(n.h3,{id:"calibration-and-maintenance",children:"Calibration and Maintenance"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enabling DTCs for Calibration"}),": During ECU calibration, enabling specific DTCs allows the technician to monitor subsystem behavior closely."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Disabling DTCs for Maintenance"}),": For certain maintenance procedures, disabling fault codes may prevent unnecessary error messages from being logged or displayed."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"fault-simulation-and-control",children:"Fault Simulation and Control"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Simulating Faults"}),": By controlling the DTC settings, users can simulate different fault conditions without needing to physically induce faults in the system, useful for validation and verification of fault handling routines."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example: In a vehicle test environment, enabling certain DTCs can simulate sensor failures, allowing developers to verify how the system handles these failures without triggering real-world issues."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"best-practices-and-considerations",children:"Best Practices and Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"handling-dtc-codes",children:"Handling DTC Codes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use Specific DTCs"}),": Always ensure that the correct DTC codes are targeted when enabling or disabling specific faults. Misconfigured DTC codes could lead to incorrect diagnostics or system behavior."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Subfunction Codes"}),": Ensure that the correct subfunction (e.g., enabling, disabling, or modifying) is used in the request. Using the wrong subfunction may result in an error response or unintended system behavior."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Codes"}),": Be aware of error codes that may be returned if a service is not supported or if the request is malformed. Handle these errors gracefully in diagnostic tools."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response Time"}),": Some UDS operations, such as disabling multiple DTCs, may take time to complete. Always implement proper timeouts and retries in case of delays."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Access Control"}),": In sensitive systems, controlling DTC settings should be restricted to authorized personnel only. Ensure that diagnostic tools require appropriate authentication and authorization to access these settings."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(96540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);