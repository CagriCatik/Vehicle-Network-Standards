"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[33963],{21778:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"UDS/services/Request-Transfer-Exit","title":"Request Transfer Exit - 0x37","description":"The Request Transfer Exit (0x37) service is a critical component in the Unified Diagnostic Services (UDS) protocol (ISO 14229), designed to terminate an ongoing data transfer session between the client (e.g., diagnostic tool or testing equipment) and the ECU (Electronic Control Unit). This service is used to gracefully exit from the data transfer process, whether the transfer was initiated through Request Download (0x34) or Request Upload (0x35), and is typically issued once all data blocks have been successfully transferred using the Transfer Data (0x36) service.","source":"@site/docs/UDS/02_services/16_Request-Transfer-Exit.md","sourceDirName":"UDS/02_services","slug":"/UDS/services/Request-Transfer-Exit","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Request-Transfer-Exit","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/02_services/16_Request-Transfer-Exit.md","tags":[],"version":"current","sidebarPosition":16,"frontMatter":{"sidebar_position":16},"sidebar":"udsSidebar","previous":{"title":"Transfer Data - 0x36","permalink":"/Vehicle-Network-Standards/docs/UDS/services/Request-Data-Transfer"},"next":{"title":"I/O Control - 0x2F","permalink":"/Vehicle-Network-Standards/docs/UDS/services/IO-Control"}}');var n=r(74848),i=r(28453);const o={sidebar_position:16},a="Request Transfer Exit - 0x37",d={},h=[{value:"<strong>Purpose and Use Cases</strong>",id:"purpose-and-use-cases",level:2},{value:"<strong>Overview of the Request Transfer Exit (0x37) Service</strong>",id:"overview-of-the-request-transfer-exit-0x37-service",level:2},{value:"<strong>Request Frame Format for Request Transfer Exit (0x37)</strong>",id:"request-frame-format-for-request-transfer-exit-0x37",level:2},{value:"<strong>Response Frame Format for Request Transfer Exit (0x37)</strong>",id:"response-frame-format-for-request-transfer-exit-0x37",level:2},{value:"<strong>Positive Response</strong>",id:"positive-response",level:3},{value:"<strong>Negative Response</strong>",id:"negative-response",level:3},{value:"<strong>Supported Negative Response Codes (NRC)</strong>",id:"supported-negative-response-codes-nrc",level:3},{value:"<strong>Transfer Exit Process</strong>",id:"transfer-exit-process",level:2},{value:"<strong>Conclusion</strong>",id:"conclusion",level:2}];function c(e){const s={h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"request-transfer-exit---0x37",children:"Request Transfer Exit - 0x37"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service is a critical component in the ",(0,n.jsx)(s.strong,{children:"Unified Diagnostic Services (UDS)"})," protocol (ISO 14229), designed to terminate an ongoing data transfer session between the client (e.g., diagnostic tool or testing equipment) and the ECU (Electronic Control Unit). This service is used to gracefully exit from the data transfer process, whether the transfer was initiated through ",(0,n.jsx)(s.strong,{children:"Request Download (0x34)"})," or ",(0,n.jsx)(s.strong,{children:"Request Upload (0x35)"}),", and is typically issued once all data blocks have been successfully transferred using the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service."]}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," service ensures that the transfer process is properly concluded, resources are released, and the ECU is ready for any other diagnostic or programming tasks that may follow."]}),"\n",(0,n.jsx)(s.h2,{id:"purpose-and-use-cases",children:(0,n.jsx)(s.strong,{children:"Purpose and Use Cases"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service is used to:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Terminate data transfer sessions"}),": Whether the client has uploaded or downloaded data, this service marks the end of the data transfer process."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Free resources on the ECU"}),": After completing the transfer of data, the ECU may need to release allocated memory or resources used during the transfer process."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Prevent errors and incomplete transfers"}),": By sending a ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"}),", the client ensures that the ECU acknowledges the completion of the transfer, preventing any inconsistencies that could arise if the session is left open."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Reset the state of the ECU"}),": After terminating the transfer session, the ECU is reset to a normal state, ready to accept new requests, whether for further diagnostics, reprogramming, or calibration tasks."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"The service is critical for maintaining the stability of the ECU after a large data transfer, and it should be issued after the last data block is successfully sent or received."}),"\n",(0,n.jsx)(s.h2,{id:"overview-of-the-request-transfer-exit-0x37-service",children:(0,n.jsx)(s.strong,{children:"Overview of the Request Transfer Exit (0x37) Service"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service does not require any specific data to be sent from the client, other than the ",(0,n.jsx)(s.strong,{children:"Service Identifier"}),". Its primary purpose is to signal the end of the transfer session. The service is typically used in conjunction with the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service, which is responsible for the actual data transmission."]}),"\n",(0,n.jsxs)(s.p,{children:["Once the data transfer process is complete, the client sends the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," to inform the ECU that the session is finished. This service is important in scenarios where the client and ECU are transferring large files or multiple data blocks. Without this termination step, the transfer session could remain open, leading to potential errors, memory leaks, or resource contention."]}),"\n",(0,n.jsx)(s.h2,{id:"request-frame-format-for-request-transfer-exit-0x37",children:(0,n.jsx)(s.strong,{children:"Request Frame Format for Request Transfer Exit (0x37)"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service has a simple request frame format. It consists of the ",(0,n.jsx)(s.strong,{children:"Service Identifier (SID)"}),", which is always ",(0,n.jsx)(s.strong,{children:"0x37"}),". There are no additional parameters or data required in the request frame."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Byte Number"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Parameter Name"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"SID (Service Identifier)"})}),(0,n.jsxs)(s.td,{children:["The ",(0,n.jsx)(s.strong,{children:"Service Identifier"})," for the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," service, which is always ",(0,n.jsx)(s.strong,{children:"0x37"}),"."]})]})})]}),"\n",(0,n.jsxs)(s.p,{children:["This makes the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," a very lightweight request that essentially serves as a signal to the ECU to close the data transfer session."]}),"\n",(0,n.jsx)(s.h2,{id:"response-frame-format-for-request-transfer-exit-0x37",children:(0,n.jsx)(s.strong,{children:"Response Frame Format for Request Transfer Exit (0x37)"})}),"\n",(0,n.jsxs)(s.p,{children:["The ECU responds to the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service with a ",(0,n.jsx)(s.strong,{children:"positive response"})," or a ",(0,n.jsx)(s.strong,{children:"negative response"}),", depending on whether the ECU successfully processes the termination request."]}),"\n",(0,n.jsx)(s.h3,{id:"positive-response",children:(0,n.jsx)(s.strong,{children:"Positive Response"})}),"\n",(0,n.jsxs)(s.p,{children:["If the ECU successfully terminates the data transfer session, it will respond with a ",(0,n.jsx)(s.strong,{children:"positive response"})," indicating that the session has been closed and resources have been freed."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Byte Number"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Parameter Name"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"PCI Length"})}),(0,n.jsx)(s.td,{children:"Specifies the length of the response frame."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"2"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Response SID"})}),(0,n.jsxs)(s.td,{children:["The ",(0,n.jsx)(s.strong,{children:"Service Identifier"})," for the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," response, which is ",(0,n.jsx)(s.strong,{children:"0x77"})," (0x37 + 0x40)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"3"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Transfer Exit Parameter"})}),(0,n.jsx)(s.td,{children:"This field indicates any additional parameters related to the termination of the data transfer. In most cases, it is not used, but some implementations may include a success/failure flag."})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Response SID"})," will always be ",(0,n.jsx)(s.strong,{children:"0x77"}),", which is the ",(0,n.jsx)(s.strong,{children:"Service Identifier"})," for the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," response. This is a direct match with the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," service identifier ",(0,n.jsx)(s.strong,{children:"0x37"}),", with an offset of ",(0,n.jsx)(s.strong,{children:"0x40"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"negative-response",children:(0,n.jsx)(s.strong,{children:"Negative Response"})}),"\n",(0,n.jsxs)(s.p,{children:["In the event that the ECU encounters an issue while attempting to terminate the transfer session (for example, if the session is already closed or the transfer process was incomplete), it will send a ",(0,n.jsx)(s.strong,{children:"negative response"})," with an appropriate ",(0,n.jsx)(s.strong,{children:"Negative Response Code (NRC)"}),"."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Byte Number"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Parameter Name"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"1"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"PCI Length"})}),(0,n.jsx)(s.td,{children:"Specifies the length of the response frame."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"2"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Request SID"})}),(0,n.jsxs)(s.td,{children:["The ",(0,n.jsx)(s.strong,{children:"Service Identifier"})," for the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," service, which is ",(0,n.jsx)(s.strong,{children:"0x37"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"3"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"NRC"})}),(0,n.jsxs)(s.td,{children:["The ",(0,n.jsx)(s.strong,{children:"Negative Response Code (NRC)"})," indicating why the termination could not be completed."]})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"supported-negative-response-codes-nrc",children:(0,n.jsx)(s.strong,{children:"Supported Negative Response Codes (NRC)"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"NRC Value"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Description"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Mnemonic"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x13"})}),(0,n.jsx)(s.td,{children:"Incorrect message length or invalid format"}),(0,n.jsx)(s.td,{children:"IML"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x24"})}),(0,n.jsx)(s.td,{children:"Request sequence error (e.g., attempting to exit when no transfer is active)"}),(0,n.jsx)(s.td,{children:"RSE"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x31"})}),(0,n.jsx)(s.td,{children:"Request out of range (e.g., invalid session or data range)"}),(0,n.jsx)(s.td,{children:"ROOR"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x33"})}),(0,n.jsx)(s.td,{children:"Security access denied (e.g., lacking appropriate permissions)"}),(0,n.jsx)(s.td,{children:"SAD"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"0x70"})}),(0,n.jsx)(s.td,{children:"General programming failure (e.g., failure to close the transfer session)"}),(0,n.jsx)(s.td,{children:"GPF"})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"transfer-exit-process",children:(0,n.jsx)(s.strong,{children:"Transfer Exit Process"})}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Completing the Transfer"}),": After all data blocks have been successfully transferred via the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service, the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service is sent to signal the end of the data transfer session. This is a necessary step to properly conclude the transfer process."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Server (ECU) Validation"}),": Upon receiving the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," message, the ECU checks the status of the transfer session. If the session is still active and no issues are encountered, the ECU sends a ",(0,n.jsx)(s.strong,{children:"positive response"})," confirming the termination of the session."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Error Handling"}),": If there was an error during the transfer process, or if the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," is received prematurely (e.g., before the transfer is complete), the ECU will respond with a ",(0,n.jsx)(s.strong,{children:"negative response"}),", and the client may need to resend or handle the termination differently."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Finalization"}),": Once the ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," has been processed, the ECU can free up any resources that were used during the transfer and prepare for other diagnostic, programming, or maintenance tasks."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"conclusion",children:(0,n.jsx)(s.strong,{children:"Conclusion"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit (0x37)"})," service is essential for cleanly ending data transfer sessions between a client and an ECU in the ",(0,n.jsx)(s.strong,{children:"UDS protocol"}),". It ensures that resources are freed, and the ECU is prepared for further tasks after completing a data transfer, such as ",(0,n.jsx)(s.strong,{children:"Request Upload (0x35)"})," or ",(0,n.jsx)(s.strong,{children:"Request Download (0x34)"}),". This service is lightweight and easy to implement but is crucial for maintaining the integrity of the ECU\u2019s operational state. The use of the ",(0,n.jsx)(s.strong,{children:"Transfer Data (0x36)"})," service in conjunction with ",(0,n.jsx)(s.strong,{children:"Request Transfer Exit"})," ensures a reliable and complete data exchange process, preventing errors and allowing the ECU to handle subsequent requests smoothly."]})]})}function l(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>a});var t=r(96540);const n={},i=t.createContext(n);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);