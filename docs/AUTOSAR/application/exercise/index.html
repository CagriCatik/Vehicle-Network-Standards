<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-AUTOSAR/application/exercise" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Runnable Scheduling and Exercises | Vehicle Network Standards</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/AUTOSAR/application/exercise"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Runnable Scheduling and Exercises | Vehicle Network Standards"><meta data-rh="true" name="description" content="This document delves into AUTOSAR Runnable Scheduling within the context of a door and dimming system, complemented by practical exercises to reinforce the understanding of software design using AUTOSAR modeling concepts. The examples encompass task prioritization, data exchange, and inter-ECU communication, providing a comprehensive guide for developers and engineers working with AUTOSAR-based systems."><meta data-rh="true" property="og:description" content="This document delves into AUTOSAR Runnable Scheduling within the context of a door and dimming system, complemented by practical exercises to reinforce the understanding of software design using AUTOSAR modeling concepts. The examples encompass task prioritization, data exchange, and inter-ECU communication, providing a comprehensive guide for developers and engineers working with AUTOSAR-based systems."><link data-rh="true" rel="icon" href="/Vehicle-Network-Standards/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/AUTOSAR/application/exercise"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/AUTOSAR/application/exercise" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/AUTOSAR/application/exercise" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Vehicle-Network-Standards/blog/rss.xml" title="Vehicle Network Standards RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Vehicle-Network-Standards/blog/atom.xml" title="Vehicle Network Standards Atom Feed"><link rel="stylesheet" href="/Vehicle-Network-Standards/assets/css/styles.c959825f.css">
<script src="/Vehicle-Network-Standards/assets/js/runtime~main.da4fbe40.js" defer="defer"></script>
<script src="/Vehicle-Network-Standards/assets/js/main.e916155a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Vehicle-Network-Standards/img/car.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Vehicle-Network-Standards/"><div class="navbar__logo"><img src="/Vehicle-Network-Standards/img/car.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Vehicle-Network-Standards/img/car.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">VNS</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Vehicle-Network-Standards/docs/AUTOSAR/getting_started">AUTOSAR</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SOVA/getting_started">SOVA</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SOVD/getting_started">SOVD</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/UDS/getting_started">UDS</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/CAN/getting_started">CAN</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/LIN/getting_started">LIN</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/FLEXRAY/getting_started">FlexRay</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/ETHERNET/getting_started">Ethernet</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/DoIP/getting_started">DoIP</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SOME-IP/getting_started">SOME/IP</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/XCP/getting_started">XCP</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SecOC/getting_started">SecOC</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/category/funktionale-sicherheit">ISO26262</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/FMEA/introduction">FMEA</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/OTA/getting-.started">OTA</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/blog">Blog</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Vehicle-Network-Standards/docs/AUTOSAR/getting_started">AUTOSAR</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/overview">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Vehicle-Network-Standards/docs/category/application">Application</a><button aria-label="Collapse sidebar category &#x27;Application&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/architecture">Overview of Software Layers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/components">Components View for Lighting Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/communication">Virtual Function Bus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/distribution_components">Distribution of Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/types_swc">Types of Software Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/types_ports">Types of Ports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/data_types">Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/sender_receiver">Sender-Receiver Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/client_server">Client-Server Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/runnables">Runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/exercise">Runnable Scheduling and Exercises</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/rte">RTE</a><button aria-label="Expand sidebar category &#x27;RTE&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/bsw">BSW</a><button aria-label="Expand sidebar category &#x27;BSW&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/methodology">Methodology</a><button aria-label="Expand sidebar category &#x27;Methodology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/practice">Practice</a><button aria-label="Expand sidebar category &#x27;Practice&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/appendix">Appendix</a><button aria-label="Expand sidebar category &#x27;Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Vehicle-Network-Standards/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Vehicle-Network-Standards/docs/category/application"><span itemprop="name">Application</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Runnable Scheduling and Exercises</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Runnable Scheduling and Exercises</h1></header>
<p>This document delves into <strong>AUTOSAR Runnable Scheduling</strong> within the context of a door and dimming system, complemented by practical exercises to reinforce the understanding of software design using AUTOSAR modeling concepts. The examples encompass <strong>task prioritization</strong>, <strong>data exchange</strong>, and <strong>inter-ECU communication</strong>, providing a comprehensive guide for developers and engineers working with AUTOSAR-based systems.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-runnable-scheduling">1. <strong>Runnable Scheduling</strong><a href="#1-runnable-scheduling" class="hash-link" aria-label="Direct link to 1-runnable-scheduling" title="Direct link to 1-runnable-scheduling">​</a></h2>
<p>Effective scheduling of Runnables is paramount in AUTOSAR to ensure that critical functionalities are executed in a timely and deterministic manner. This section explores the fundamentals of Runnable scheduling, the roles of various components and tasks, task prioritization strategies, and the data flow mechanisms that underpin robust automotive software systems.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-overview">1.1 <strong>Overview</strong><a href="#11-overview" class="hash-link" aria-label="Direct link to 11-overview" title="Direct link to 11-overview">​</a></h3>
<p>In AUTOSAR, <strong>Runnables</strong> are the executable entities within <strong>Atomic Software Components (SWCs)</strong>. The <strong>Runtime Environment (RTE)</strong> orchestrates their execution based on predefined triggers, ensuring that each Runnable operates within its designated timing and priority constraints. Proper scheduling guarantees that essential tasks, such as monitoring door states and controlling dimming systems, are performed reliably and efficiently.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-components-and-tasks">1.2 <strong>Components and Tasks</strong><a href="#12-components-and-tasks" class="hash-link" aria-label="Direct link to 12-components-and-tasks" title="Direct link to 12-components-and-tasks">​</a></h3>
<p>Understanding the interaction between different SWCs and their associated Runnables is crucial for designing a cohesive system. Below is an overview of the primary components involved in a door and dimming system, along with their respective tasks.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="left-door-swc"><strong>Left Door SWC</strong><a href="#left-door-swc" class="hash-link" aria-label="Direct link to left-door-swc" title="Direct link to left-door-swc">​</a></h4>
<ul>
<li><strong>Runnable Name:</strong> <code>SA_Left</code></li>
<li><strong>Trigger:</strong> Periodic, every <strong>20 ms</strong></li>
<li><strong>Task:</strong>
<ul>
<li>Monitors the state of the left door (<code>DoorOpen</code>).</li>
<li>Sends the door state to the <strong>Door Contact</strong> SWC via the RTE.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="door-contact-swc"><strong>Door Contact SWC</strong><a href="#door-contact-swc" class="hash-link" aria-label="Direct link to door-contact-swc" title="Direct link to door-contact-swc">​</a></h4>
<ul>
<li><strong>Runnable Name:</strong> <code>SA_Contact</code></li>
<li><strong>Trigger:</strong> Event-based, triggered by the <code>DoorOpen</code> input.</li>
<li><strong>Task:</strong>
<ul>
<li>Aggregates door states from multiple sources.</li>
<li>Sends aggregated contact information to the <strong>Dimmer</strong> SWC via the RTE.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dimmer-swc"><strong>Dimmer SWC</strong><a href="#dimmer-swc" class="hash-link" aria-label="Direct link to dimmer-swc" title="Direct link to dimmer-swc">​</a></h4>
<ul>
<li><strong>Runnables:</strong>
<ol>
<li><strong><code>AP_Init</code></strong>
<ul>
<li><strong>Trigger:</strong> Initialization phase.</li>
<li><strong>Task:</strong> Configures the dimmer settings during system startup.</li>
</ul>
</li>
<li><strong><code>AP_Dim</code></strong>
<ul>
<li><strong>Trigger:</strong> Triggered by the <code>Contact</code> signal from the <strong>Door Contact</strong> SWC.</li>
<li><strong>Task:</strong> Adjusts light dimming based on door state and elapsed time.</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-task-prioritization">1.3 <strong>Task Prioritization</strong><a href="#13-task-prioritization" class="hash-link" aria-label="Direct link to 13-task-prioritization" title="Direct link to 13-task-prioritization">​</a></h3>
<p>Assigning appropriate priorities to tasks is essential to ensure that critical functionalities are addressed promptly. In AUTOSAR, tasks are mapped to Runnables with specific priorities to manage execution order effectively.</p>
<ul>
<li><strong>Task A:</strong> <strong>Priority 1</strong>
<ul>
<li><strong>Description:</strong> Higher priority, ensures faster response.</li>
<li><strong>Example:</strong> <code>SA_Left</code> Runnable monitoring the left door.</li>
</ul>
</li>
<li><strong>Task B:</strong> <strong>Priority 2</strong>
<ul>
<li><strong>Description:</strong> Lower priority, executed after higher priority tasks.</li>
<li><strong>Example:</strong> <code>SA_Contact</code> Runnable aggregating door states.</li>
</ul>
</li>
</ul>
<p><strong>Priority Assignment Rationale:</strong></p>
<ul>
<li><strong>Criticality:</strong> Tasks that monitor safety-critical components (e.g., door status) are assigned higher priorities to ensure immediate response.</li>
<li><strong>Determinism:</strong> Assigning fixed priorities facilitates predictable behavior, essential for real-time systems.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-data-flow">1.4 <strong>Data Flow</strong><a href="#14-data-flow" class="hash-link" aria-label="Direct link to 14-data-flow" title="Direct link to 14-data-flow">​</a></h3>
<p>Efficient data flow between Runnables and SWCs is fundamental to the system&#x27;s responsiveness and reliability. The following outlines the data exchange sequence within the door and dimming system.</p>
<ol>
<li>
<p><strong>Left Door SWC:</strong></p>
<ul>
<li><strong>Runnable <code>SA_Left</code></strong> executes every 20 ms.</li>
<li>Reads the left door&#x27;s status (<code>DoorOpen</code>) using a sensor.</li>
<li>Sends the <code>DoorOpen</code> state to the <strong>Door Contact</strong> SWC via the RTE.</li>
</ul>
</li>
<li>
<p><strong>Door Contact SWC:</strong></p>
<ul>
<li><strong>Runnable <code>SA_Contact</code></strong> is triggered upon receiving the <code>DoorOpen</code> signal.</li>
<li>Aggregates door states (e.g., left and right doors).</li>
<li>Sends the aggregated contact information to the <strong>Dimmer</strong> SWC via the RTE.</li>
</ul>
</li>
<li>
<p><strong>Dimmer SWC:</strong></p>
<ul>
<li><strong>Runnable <code>AP_Dim</code></strong> is triggered by the <code>Contact</code> signal.</li>
<li>Adjusts the light intensity based on door states and configured dimming logic.</li>
</ul>
</li>
</ol>
<p><strong>Data Flow Diagram:</strong></p>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flowchart TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph LeftDoorSWC[Left Door SWC]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SA_Left[Runnable SA_Left]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph DoorContact[Door Contact]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SA_Contact[Runnable SA_Contact]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph DimmerSWC[Dimmer SWC]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AP_Dim[Runnable AP_Dim]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SA_Left --&gt;|Rte_Write_DoorOpen| DoorSensor[Door Sensor]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SA_Contact --&gt;|Rte_Write_ContactInfo| DoorStateAggregation[Door State Aggregation]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AP_Dim --&gt;|Rte_Call_AdjustBrightness| LightActuator[Light Actuator]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SA_Left --&gt; SA_Contact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SA_Contact --&gt; AP_Dim</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-exercises">2. <strong>Exercises</strong><a href="#2-exercises" class="hash-link" aria-label="Direct link to 2-exercises" title="Direct link to 2-exercises">​</a></h2>
<p>Engaging in practical exercises is an effective way to solidify understanding of AUTOSAR Runnable Scheduling and software design principles. The following exercises are designed to reinforce concepts related to Runnable implementation, task prioritization, and inter-ECU communication.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-1-interior-light-functionality"><strong>Exercise 1: Interior Light Functionality</strong><a href="#exercise-1-interior-light-functionality" class="hash-link" aria-label="Direct link to exercise-1-interior-light-functionality" title="Direct link to exercise-1-interior-light-functionality">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="objective"><strong>Objective:</strong><a href="#objective" class="hash-link" aria-label="Direct link to objective" title="Direct link to objective">​</a></h4>
<p>Design a system for <strong>interior lighting</strong> using AUTOSAR modeling objects. This involves creating separate SWCs for sensors and actuators, implementing an application SWC to interpret sensor data, and adding functionality for shutoff delays and dimming behavior.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="requirements"><strong>Requirements:</strong><a href="#requirements" class="hash-link" aria-label="Direct link to requirements" title="Direct link to requirements">​</a></h4>
<ol>
<li>
<p><strong>Model Separate SWCs:</strong></p>
<ul>
<li><strong>Sensors SWC:</strong>
<ul>
<li>Monitors door and switch states.</li>
<li>Provides sensor data to other SWCs.</li>
</ul>
</li>
<li><strong>Actuators SWC:</strong>
<ul>
<li>Controls interior lights based on received commands.</li>
<li>Adjusts brightness levels as required.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Implement an Application SWC:</strong></p>
<ul>
<li><strong>Functionality:</strong>
<ul>
<li>Interprets the states of doors and switches.</li>
<li>Determines lighting actions based on sensor inputs.</li>
<li>Communicates with the Actuators SWC to execute lighting commands.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Add Functionality for:</strong></p>
<ul>
<li><strong>Shutoff Delay:</strong>
<ul>
<li>Implements a delay mechanism to turn off lights after a certain period of inactivity.</li>
</ul>
</li>
<li><strong>Dimming Behavior:</strong>
<ul>
<li>Gradually adjusts light brightness based on environmental conditions or user preferences.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-complete-exercise-1"><strong>Steps to Complete Exercise 1:</strong><a href="#steps-to-complete-exercise-1" class="hash-link" aria-label="Direct link to steps-to-complete-exercise-1" title="Direct link to steps-to-complete-exercise-1">​</a></h4>
<ol>
<li>
<p><strong>Define SWCs:</strong></p>
<ul>
<li>Create SWCs for Sensors, Actuators, and Application functionalities.</li>
</ul>
</li>
<li>
<p><strong>Define Runnables:</strong></p>
<ul>
<li><strong>Sensors SWC:</strong> <code>MonitorSensors</code></li>
<li><strong>Actuators SWC:</strong> <code>ControlLights</code></li>
<li><strong>Application SWC:</strong> <code>ProcessLightingCommands</code></li>
</ul>
</li>
<li>
<p><strong>Configure Triggers:</strong></p>
<ul>
<li><strong>MonitorSensors:</strong> Periodic trigger every 50 ms.</li>
<li><strong>ControlLights:</strong> Event-based trigger upon receiving lighting commands.</li>
<li><strong>ProcessLightingCommands:</strong> Event-based trigger upon receiving sensor data.</li>
</ul>
</li>
<li>
<p><strong>Implement Runnables:</strong></p>
<ul>
<li>Write code for each Runnable to perform designated tasks.</li>
</ul>
</li>
<li>
<p><strong>Incorporate Shutoff Delay and Dimming:</strong></p>
<ul>
<li>Implement timers and logic within the Application SWC to manage delays and dimming.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-outcome"><strong>Expected Outcome:</strong><a href="#expected-outcome" class="hash-link" aria-label="Direct link to expected-outcome" title="Direct link to expected-outcome">​</a></h4>
<p>A modular and scalable interior lighting system where sensor data is effectively interpreted and acted upon to control light functionalities, including automatic shutoff and dimming.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-2-mapping-swcs-across-ecus"><strong>Exercise 2: Mapping SWCs Across ECUs</strong><a href="#exercise-2-mapping-swcs-across-ecus" class="hash-link" aria-label="Direct link to exercise-2-mapping-swcs-across-ecus" title="Direct link to exercise-2-mapping-swcs-across-ecus">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="objective-1"><strong>Objective:</strong><a href="#objective-1" class="hash-link" aria-label="Direct link to objective-1" title="Direct link to objective-1">​</a></h4>
<p>Map the SWCs designed in Exercise 1 to three different <strong>Electronic Control Units (ECUs)</strong>: Rear, Front, and Roof. Identify and document the information exchanged between the ECUs to facilitate inter-ECU communication.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="requirements-1"><strong>Requirements:</strong><a href="#requirements-1" class="hash-link" aria-label="Direct link to requirements-1" title="Direct link to requirements-1">​</a></h4>
<ol>
<li>
<p><strong>Assign Each SWC to an ECU:</strong></p>
<ul>
<li><strong>Rear ECU:</strong> Hosts the Sensors SWC.</li>
<li><strong>Front ECU:</strong> Hosts the Application SWC.</li>
<li><strong>Roof ECU:</strong> Hosts the Actuators SWC.</li>
</ul>
</li>
<li>
<p><strong>Identify and Document Information Exchange:</strong></p>
<ul>
<li>Define the data transmitted between ECUs, such as door states from Rear ECU to Front ECU and lighting commands from Front ECU to Roof ECU.</li>
</ul>
</li>
<li>
<p><strong>Configure Communication Interfaces:</strong></p>
<ul>
<li>Set up appropriate ports and interfaces for inter-ECU communication.</li>
</ul>
</li>
<li>
<p><strong>Ensure Data Integrity and Synchronization:</strong></p>
<ul>
<li>Implement mechanisms to maintain data consistency across ECUs.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-complete-exercise-2"><strong>Steps to Complete Exercise 2:</strong><a href="#steps-to-complete-exercise-2" class="hash-link" aria-label="Direct link to steps-to-complete-exercise-2" title="Direct link to steps-to-complete-exercise-2">​</a></h4>
<ol>
<li>
<p><strong>ECU Assignment:</strong></p>
<ul>
<li>Allocate SWCs to the designated ECUs based on their functionalities.</li>
</ul>
</li>
<li>
<p><strong>Define Inter-ECU Communication:</strong></p>
<ul>
<li><strong>Rear ECU to Front ECU:</strong>
<ul>
<li><strong>Data:</strong> Door states (<code>DoorOpen</code>).</li>
<li><strong>Communication Method:</strong> Sender-Receiver (S/R) communication via RTE.</li>
</ul>
</li>
<li><strong>Front ECU to Roof ECU:</strong>
<ul>
<li><strong>Data:</strong> Lighting commands (<code>LightOn</code>, <code>LightOff</code>, <code>DimLevel</code>).</li>
<li><strong>Communication Method:</strong> Client-Server (C/S) communication via RTE.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Configure Ports and Interfaces:</strong></p>
<ul>
<li>Set up Provide Ports (P-Ports) and Require Ports (R-Ports) for data exchange.</li>
</ul>
</li>
<li>
<p><strong>Implement Data Exchange Mechanisms:</strong></p>
<ul>
<li>Use <code>Rte_Write</code> and <code>Rte_Read</code> for S/R communication.</li>
<li>Use <code>Rte_Call</code> and <code>Rte_Write</code> for C/S communication.</li>
</ul>
</li>
<li>
<p><strong>Document Data Flow:</strong></p>
<ul>
<li>Create detailed documentation outlining the data flow between ECUs, including data types and communication patterns.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-outcome-1"><strong>Expected Outcome:</strong><a href="#expected-outcome-1" class="hash-link" aria-label="Direct link to expected-outcome-1" title="Direct link to expected-outcome-1">​</a></h4>
<p>A well-structured inter-ECU communication setup where sensor data from the Rear ECU is effectively utilized by the Application SWC in the Front ECU to control lighting via the Actuators SWC in the Roof ECU.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-autosar-design-insights">3. <strong>AUTOSAR Design Insights</strong><a href="#3-autosar-design-insights" class="hash-link" aria-label="Direct link to 3-autosar-design-insights" title="Direct link to 3-autosar-design-insights">​</a></h2>
<p>Designing effective AUTOSAR-based systems requires a deep understanding of key architectural principles. This section highlights critical design insights that contribute to the development of robust, scalable, and maintainable automotive software systems.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-modularity">3.1 <strong>Modularity</strong><a href="#31-modularity" class="hash-link" aria-label="Direct link to 31-modularity" title="Direct link to 31-modularity">​</a></h3>
<ul>
<li>
<p><strong>Definition:</strong> Modularity refers to the division of a system into distinct, interchangeable components, each encapsulating specific functionalities.</p>
</li>
<li>
<p><strong>Benefits:</strong></p>
<ul>
<li><strong>Reusability:</strong> Modular SWCs can be reused across different projects and vehicle models, reducing development time and costs.</li>
<li><strong>Maintainability:</strong> Isolated modules simplify updates and debugging, as changes in one module have minimal impact on others.</li>
<li><strong>Scalability:</strong> Facilitates the addition of new features without disrupting existing system components.</li>
</ul>
</li>
<li>
<p><strong>Application in Example:</strong></p>
<ul>
<li>Separating Sensors, Application Logic, and Actuators into distinct SWCs enhances the system&#x27;s modularity, allowing each component to evolve independently.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-prioritization">3.2 <strong>Prioritization</strong><a href="#32-prioritization" class="hash-link" aria-label="Direct link to 32-prioritization" title="Direct link to 32-prioritization">​</a></h3>
<ul>
<li>
<p><strong>Definition:</strong> Prioritization involves assigning execution priorities to tasks or Runnables to manage their execution order effectively.</p>
</li>
<li>
<p><strong>Benefits:</strong></p>
<ul>
<li><strong>Deterministic Behavior:</strong> Ensures that critical tasks are executed promptly, meeting real-time constraints.</li>
<li><strong>Resource Optimization:</strong> Allocates system resources efficiently by prioritizing essential functionalities.</li>
</ul>
</li>
<li>
<p><strong>Application in Example:</strong></p>
<ul>
<li>Assigning higher priority to the <code>SA_Left</code> Runnable ensures that door monitoring occurs promptly, which is critical for safety-related functionalities.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-inter-ecu-communication">3.3 <strong>Inter-ECU Communication</strong><a href="#33-inter-ecu-communication" class="hash-link" aria-label="Direct link to 33-inter-ecu-communication" title="Direct link to 33-inter-ecu-communication">​</a></h3>
<ul>
<li>
<p><strong>Definition:</strong> Inter-ECU communication refers to the exchange of data and control messages between different ECUs within a vehicle.</p>
</li>
<li>
<p><strong>Benefits:</strong></p>
<ul>
<li><strong>Distributed Processing:</strong> Allows for the distribution of computational tasks across multiple ECUs, enhancing system performance and reliability.</li>
<li><strong>Flexibility:</strong> Supports diverse system topologies and functionalities by enabling ECUs to interact seamlessly.</li>
</ul>
</li>
<li>
<p><strong>Application in Example:</strong></p>
<ul>
<li>Mapping SWCs across Rear, Front, and Roof ECUs demonstrates effective inter-ECU communication, facilitating coordinated control of sensors and actuators.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-implementation-example">4. <strong>Implementation Example</strong><a href="#4-implementation-example" class="hash-link" aria-label="Direct link to 4-implementation-example" title="Direct link to 4-implementation-example">​</a></h2>
<p>To illustrate the practical application of Runnable Scheduling and AUTOSAR principles, consider the following implementation example of a <strong>Door Monitoring and Light Control System</strong>. This example demonstrates how Runnables are scheduled, how data flows between SWCs, and how inter-ECU communication is managed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-door-monitoring-and-light-control-workflow">4.1 <strong>Door Monitoring and Light Control Workflow</strong><a href="#41-door-monitoring-and-light-control-workflow" class="hash-link" aria-label="Direct link to 41-door-monitoring-and-light-control-workflow" title="Direct link to 41-door-monitoring-and-light-control-workflow">​</a></h3>
<ol>
<li>
<p><strong>Periodic Monitoring:</strong></p>
<ul>
<li><strong>Runnable <code>SA_Left</code></strong> in the Left Door SWC is triggered every 20 ms to monitor the left door&#x27;s status.</li>
<li><strong>Runnable <code>SA_Right</code></strong> in the Right Door SWC is triggered every 20 ms to monitor the right door&#x27;s status.</li>
</ul>
</li>
<li>
<p><strong>Data Transmission:</strong></p>
<ul>
<li>Each Runnable sends the respective door status (<code>DoorOpen</code>) to the <strong>Door Contact</strong> SWC via the RTE using <code>Rte_Write</code> functions.</li>
</ul>
</li>
<li>
<p><strong>Data Aggregation:</strong></p>
<ul>
<li><strong>Runnable <code>SA_Contact</code></strong> in the Door Contact SWC is triggered upon receiving door status updates.</li>
<li>It aggregates the door states and sends contact information to the <strong>Dimmer</strong> SWC via the RTE.</li>
</ul>
</li>
<li>
<p><strong>Light Adjustment:</strong></p>
<ul>
<li><strong>Runnable <code>AP_Dim</code></strong> in the Dimmer SWC is triggered by the contact signal.</li>
<li>Adjusts the light intensity based on the aggregated door states and predefined dimming logic.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-runnable-implementations">4.2 <strong>Runnable Implementations</strong><a href="#42-runnable-implementations" class="hash-link" aria-label="Direct link to 42-runnable-implementations" title="Direct link to 42-runnable-implementations">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="left-door-swc-runnable-sa_left"><strong>Left Door SWC Runnable: <code>SA_Left</code></strong><a href="#left-door-swc-runnable-sa_left" class="hash-link" aria-label="Direct link to left-door-swc-runnable-sa_left" title="Direct link to left-door-swc-runnable-sa_left">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Left - Monitors Left Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_LeftDoor.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Left</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean DoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read the left door sensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DOOR_LEFT_SENSOR_PIN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write door status to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_LeftDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error (e.g., log error, attempt retry)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to read door sensor (hardware-specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">GPIO_ReadPin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> GPIO_PIN_SET</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or retry mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><strong>Function:</strong> <code>SA_Left</code>
<ul>
<li><strong>Purpose:</strong> Monitors the left door&#x27;s status and communicates it to the RTE.</li>
</ul>
</li>
<li><strong>Operations:</strong>
<ul>
<li><strong>ReadDoorSensor():</strong> Reads the current state of the left door using a sensor connected to a specific GPIO pin.</li>
<li><strong>Rte_Write_LeftDoor_DoorOpen():</strong> Sends the door status (<code>true</code> for open, <code>false</code> for closed) to the RTE, making it available to other SWCs.</li>
<li><strong>Error Handling:</strong> Checks the return status of the RTE write operation and handles any errors appropriately.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="door-contact-swc-runnable-sa_contact"><strong>Door Contact SWC Runnable: <code>SA_Contact</code></strong><a href="#door-contact-swc-runnable-sa_contact" class="hash-link" aria-label="Direct link to door-contact-swc-runnable-sa_contact" title="Direct link to door-contact-swc-runnable-sa_contact">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Contact - Aggregates Door States</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_DoorContact.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Contact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read left door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read right door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_RightDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">RightDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Aggregate door states</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean AnyDoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeftDoorOpen </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Send aggregated contact information to Dimmer SWC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_DoorContact_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><strong>Function:</strong> <code>SA_Contact</code>
<ul>
<li><strong>Purpose:</strong> Aggregates the statuses of both doors and communicates the combined state to the Dimmer SWC.</li>
</ul>
</li>
<li><strong>Operations:</strong>
<ul>
<li><strong>Rte_Read_DoorContact_LeftDoorOpen():</strong> Retrieves the left door&#x27;s status from the RTE.</li>
<li><strong>Rte_Read_DoorContact_RightDoorOpen():</strong> Retrieves the right door&#x27;s status from the RTE.</li>
<li><strong>Aggregation Logic:</strong> Combines the two door statuses to determine if any door is open.</li>
<li><strong>Rte_Write_DoorContact_AnyDoorOpen():</strong> Sends the aggregated door status to the RTE for use by the Dimmer SWC.</li>
<li><strong>Error Handling:</strong> Manages any errors encountered during data reading or writing.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dimmer-swc-runnable-ap_dim"><strong>Dimmer SWC Runnable: <code>AP_Dim</code></strong><a href="#dimmer-swc-runnable-ap_dim" class="hash-link" aria-label="Direct link to dimmer-swc-runnable-ap_dim" title="Direct link to dimmer-swc-runnable-ap_dim">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: AP_Dim - Adjusts Light Dimming Based on Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_Dimmer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AP_Dim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read aggregated door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_Dimmer_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Determine new dim level based on door status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Increase brightness</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> DIM_STEP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> MAX_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MAX_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Decrease brightness after shutoff delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">IsShutoffDelayElapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> DIM_STEP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update dim level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SetDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write updated dim level to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to retrieve current dim level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SetDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to adjust light brightness (e.g., PWM control)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PWM_SetBrightness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">IsShutoffDelayElapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to check if shutoff delay has elapsed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SystemTickCount </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> ShutoffDelayTicks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><strong>Function:</strong> <code>AP_Dim</code>
<ul>
<li><strong>Purpose:</strong> Adjusts the light dimming level based on the aggregated door statuses.</li>
</ul>
</li>
<li><strong>Operations:</strong>
<ul>
<li><strong>Rte_Read_Dimmer_AnyDoorOpen():</strong> Retrieves the aggregated door status from the RTE.</li>
<li><strong>Dimming Logic:</strong>
<ul>
<li><strong>If Any Door is Open:</strong> Increases brightness incrementally, ensuring it does not exceed the maximum level.</li>
<li><strong>If No Doors are Open:</strong> Decreases brightness after a specified shutoff delay, ensuring it does not fall below the minimum level.</li>
</ul>
</li>
<li><strong>SetDimLevel():</strong> Adjusts the light brightness using PWM control based on the determined dim level.</li>
<li><strong>Rte_Write_Dimmer_CurrentDimLevel():</strong> Sends the updated dim level to the RTE for consistency and potential use by other SWCs.</li>
<li><strong>Error Handling:</strong> Manages any errors encountered during data reading or writing.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-inter-ecu-communication-setup">4.3 <strong>Inter-ECU Communication Setup</strong><a href="#43-inter-ecu-communication-setup" class="hash-link" aria-label="Direct link to 43-inter-ecu-communication-setup" title="Direct link to 43-inter-ecu-communication-setup">​</a></h3>
<p>In a distributed automotive system, different ECUs host various SWCs. Proper configuration ensures seamless communication and data exchange across these ECUs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ecu-assignments"><strong>ECU Assignments:</strong><a href="#ecu-assignments" class="hash-link" aria-label="Direct link to ecu-assignments" title="Direct link to ecu-assignments">​</a></h4>
<ul>
<li><strong>Rear ECU:</strong>
<ul>
<li><strong>SWC:</strong> Sensors SWC</li>
<li><strong>Runnables:</strong> <code>MonitorSensors</code></li>
</ul>
</li>
<li><strong>Front ECU:</strong>
<ul>
<li><strong>SWC:</strong> Application SWC</li>
<li><strong>Runnables:</strong> <code>ProcessLightingCommands</code></li>
</ul>
</li>
<li><strong>Roof ECU:</strong>
<ul>
<li><strong>SWC:</strong> Actuators SWC</li>
<li><strong>Runnables:</strong> <code>ControlLights</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="information-exchange"><strong>Information Exchange:</strong><a href="#information-exchange" class="hash-link" aria-label="Direct link to information-exchange" title="Direct link to information-exchange">​</a></h4>
<ol>
<li>
<p><strong>Rear ECU to Front ECU:</strong></p>
<ul>
<li><strong>Data:</strong> Door states (<code>DoorOpen</code>)</li>
<li><strong>Communication Pattern:</strong> Sender-Receiver (S/R)</li>
<li><strong>Method:</strong> <code>Rte_Write</code> and <code>Rte_Read</code> via the RTE</li>
</ul>
</li>
<li>
<p><strong>Front ECU to Roof ECU:</strong></p>
<ul>
<li><strong>Data:</strong> Lighting commands (<code>LightOn</code>, <code>LightOff</code>, <code>DimLevel</code>)</li>
<li><strong>Communication Pattern:</strong> Client-Server (C/S)</li>
<li><strong>Method:</strong> <code>Rte_Call</code> for operation invocation</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-steps"><strong>Configuration Steps:</strong><a href="#configuration-steps" class="hash-link" aria-label="Direct link to configuration-steps" title="Direct link to configuration-steps">​</a></h4>
<ol>
<li>
<p><strong>Define Communication Interfaces:</strong></p>
<ul>
<li><strong>Provide Ports (P-Ports):</strong> For sending data from Sensors to RTE.</li>
<li><strong>Require Ports (R-Ports):</strong> For receiving data from RTE to Application SWC.</li>
</ul>
</li>
<li>
<p><strong>Map Data Elements:</strong></p>
<ul>
<li>Ensure that data elements like <code>DoorOpen</code> and <code>LightCommand</code> are correctly mapped to corresponding signals and services.</li>
</ul>
</li>
<li>
<p><strong>Configure Runnables and Triggers:</strong></p>
<ul>
<li>Assign appropriate triggers to Runnables based on communication requirements and execution priorities.</li>
</ul>
</li>
<li>
<p><strong>Ensure Data Consistency:</strong></p>
<ul>
<li>Implement synchronization mechanisms to maintain data integrity across ECUs.</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-autosar-design-insights">5. <strong>AUTOSAR Design Insights</strong><a href="#5-autosar-design-insights" class="hash-link" aria-label="Direct link to 5-autosar-design-insights" title="Direct link to 5-autosar-design-insights">​</a></h2>
<p>Developing AUTOSAR-based systems involves adhering to architectural principles that promote robustness, scalability, and maintainability. This section highlights essential design insights that facilitate effective software development within the AUTOSAR framework.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-modularity">5.1 <strong>Modularity</strong><a href="#51-modularity" class="hash-link" aria-label="Direct link to 51-modularity" title="Direct link to 51-modularity">​</a></h3>
<ul>
<li>
<p><strong>Definition:</strong> Modularity involves decomposing the system into distinct, interchangeable components, each responsible for specific functionalities.</p>
</li>
<li>
<p><strong>Benefits:</strong></p>
<ul>
<li><strong>Reusability:</strong> Modular SWCs can be reused across various projects, reducing duplication of effort.</li>
<li><strong>Maintainability:</strong> Isolated modules simplify troubleshooting and updates, as changes in one module have minimal impact on others.</li>
<li><strong>Scalability:</strong> Facilitates the addition of new features by integrating new modules without overhauling existing ones.</li>
</ul>
</li>
<li>
<p><strong>Application in Example:</strong></p>
<ul>
<li>Separating sensor monitoring, data aggregation, and light control into individual SWCs enhances the system&#x27;s modularity, allowing each component to evolve independently.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-prioritization">5.2 <strong>Prioritization</strong><a href="#52-prioritization" class="hash-link" aria-label="Direct link to 52-prioritization" title="Direct link to 52-prioritization">​</a></h3>
<ul>
<li>
<p><strong>Definition:</strong> Prioritization entails assigning execution priorities to Runnables or tasks to manage their execution order effectively.</p>
</li>
<li>
<p><strong>Benefits:</strong></p>
<ul>
<li><strong>Deterministic Execution:</strong> Ensures that high-priority tasks are executed promptly, meeting real-time constraints.</li>
<li><strong>Resource Allocation:</strong> Optimizes system resource usage by prioritizing critical functionalities.</li>
</ul>
</li>
<li>
<p><strong>Application in Example:</strong></p>
<ul>
<li>Assigning higher priority to door monitoring Runnables (<code>SA_Left</code>, <code>SA_Right</code>) ensures immediate response to door state changes, which is critical for safety-related operations.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-inter-ecu-communication">5.3 <strong>Inter-ECU Communication</strong><a href="#53-inter-ecu-communication" class="hash-link" aria-label="Direct link to 53-inter-ecu-communication" title="Direct link to 53-inter-ecu-communication">​</a></h3>
<ul>
<li>
<p><strong>Definition:</strong> Inter-ECU communication refers to the exchange of data and control messages between different Electronic Control Units (ECUs) within a vehicle.</p>
</li>
<li>
<p><strong>Benefits:</strong></p>
<ul>
<li><strong>Distributed Processing:</strong> Allows computational tasks to be spread across multiple ECUs, enhancing system performance and reliability.</li>
<li><strong>Flexibility:</strong> Supports diverse system architectures and functionalities by enabling seamless communication between ECUs.</li>
</ul>
</li>
<li>
<p><strong>Application in Example:</strong></p>
<ul>
<li>Mapping SWCs across Rear, Front, and Roof ECUs demonstrates effective inter-ECU communication, facilitating coordinated control of sensors and actuators.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-implementation-example">6. <strong>Implementation Example</strong><a href="#6-implementation-example" class="hash-link" aria-label="Direct link to 6-implementation-example" title="Direct link to 6-implementation-example">​</a></h2>
<p>To further elucidate the concepts of Runnable Scheduling and inter-ECU communication, consider the following detailed implementation example of a <strong>Door Monitoring and Light Control System</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-system-components-and-runnables">6.1 <strong>System Components and Runnables</strong><a href="#61-system-components-and-runnables" class="hash-link" aria-label="Direct link to 61-system-components-and-runnables" title="Direct link to 61-system-components-and-runnables">​</a></h3>
<ul>
<li><strong>Left Door SWC:</strong>
<ul>
<li><strong>Runnable:</strong> <code>SA_Left</code></li>
<li><strong>Function:</strong> Monitors the left door&#x27;s status and communicates it to the RTE.</li>
</ul>
</li>
<li><strong>Right Door SWC:</strong>
<ul>
<li><strong>Runnable:</strong> <code>SA_Right</code></li>
<li><strong>Function:</strong> Monitors the right door&#x27;s status and communicates it to the RTE.</li>
</ul>
</li>
<li><strong>Door Contact SWC:</strong>
<ul>
<li><strong>Runnable:</strong> <code>SA_Contact</code></li>
<li><strong>Function:</strong> Aggregates door statuses and sends aggregated information to the RTE.</li>
</ul>
</li>
<li><strong>Dimmer SWC:</strong>
<ul>
<li><strong>Runnables:</strong> <code>AP_Init</code>, <code>AP_Dim</code></li>
<li><strong>Functions:</strong>
<ul>
<li><code>AP_Init</code>: Initializes dimmer settings during system startup.</li>
<li><code>AP_Dim</code>: Adjusts light intensity based on door states and dimming logic.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-code-implementations">6.2 <strong>Code Implementations</strong><a href="#62-code-implementations" class="hash-link" aria-label="Direct link to 62-code-implementations" title="Direct link to 62-code-implementations">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="left-door-swc-runnable-sa_left-1"><strong>Left Door SWC Runnable: <code>SA_Left</code></strong><a href="#left-door-swc-runnable-sa_left-1" class="hash-link" aria-label="Direct link to left-door-swc-runnable-sa_left-1" title="Direct link to left-door-swc-runnable-sa_left-1">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Left - Monitors Left Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_LeftDoor.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Left</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean DoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read the left door sensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DOOR_LEFT_SENSOR_PIN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write door status to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_LeftDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error (e.g., log error, attempt retry)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to read door sensor (hardware-specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">GPIO_ReadPin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> GPIO_PIN_SET</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or retry mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Functionality:</strong> <code>SA_Left</code> periodically reads the left door&#x27;s status and sends it to the RTE.</p>
</li>
<li>
<p><strong>Operations:</strong></p>
<ul>
<li><strong>ReadDoorSensor():</strong> Interfaces with hardware to determine if the left door is open.</li>
<li><strong>Rte_Write_LeftDoor_DoorOpen():</strong> Transmits the door status to the RTE for aggregation.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="right-door-swc-runnable-sa_right"><strong>Right Door SWC Runnable: <code>SA_Right</code></strong><a href="#right-door-swc-runnable-sa_right" class="hash-link" aria-label="Direct link to right-door-swc-runnable-sa_right" title="Direct link to right-door-swc-runnable-sa_right">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Right - Monitors Right Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_RightDoor.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Right</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean DoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read the right door sensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DOOR_RIGHT_SENSOR_PIN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write door status to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_RightDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error (e.g., log error, attempt retry)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to read door sensor (hardware-specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">GPIO_ReadPin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> GPIO_PIN_SET</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or retry mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Functionality:</strong> <code>SA_Right</code> periodically reads the right door&#x27;s status and sends it to the RTE.</p>
</li>
<li>
<p><strong>Operations:</strong></p>
<ul>
<li><strong>ReadDoorSensor():</strong> Interfaces with hardware to determine if the right door is open.</li>
<li><strong>Rte_Write_RightDoor_DoorOpen():</strong> Transmits the door status to the RTE for aggregation.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="door-contact-swc-runnable-sa_contact-1"><strong>Door Contact SWC Runnable: <code>SA_Contact</code></strong><a href="#door-contact-swc-runnable-sa_contact-1" class="hash-link" aria-label="Direct link to door-contact-swc-runnable-sa_contact-1" title="Direct link to door-contact-swc-runnable-sa_contact-1">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Contact - Aggregates Door States</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_DoorContact.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Contact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read left door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read right door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_RightDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">RightDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Aggregate door states</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean AnyDoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeftDoorOpen </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Send aggregated contact information to Dimmer SWC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_DoorContact_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or fallback mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or retry mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Functionality:</strong> <code>SA_Contact</code> aggregates the door statuses from both left and right doors and communicates the combined state to the RTE.</p>
</li>
<li>
<p><strong>Operations:</strong></p>
<ul>
<li><strong>Rte_Read_DoorContact_LeftDoorOpen():</strong> Retrieves the left door&#x27;s status from the RTE.</li>
<li><strong>Rte_Read_DoorContact_RightDoorOpen():</strong> Retrieves the right door&#x27;s status from the RTE.</li>
<li><strong>Aggregation Logic:</strong> Determines if any door is open.</li>
<li><strong>Rte_Write_DoorContact_AnyDoorOpen():</strong> Sends the aggregated door status to the RTE for use by the Dimmer SWC.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dimmer-swc-runnables-ap_init-and-ap_dim"><strong>Dimmer SWC Runnables: <code>AP_Init</code> and <code>AP_Dim</code></strong><a href="#dimmer-swc-runnables-ap_init-and-ap_dim" class="hash-link" aria-label="Direct link to dimmer-swc-runnables-ap_init-and-ap_dim" title="Direct link to dimmer-swc-runnables-ap_init-and-ap_dim">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: AP_Init - Initializes Dimmer Settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_Dimmer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AP_Init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Initialize dimmer hardware</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">InitializeDimmerHardware</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Set initial dim level to minimum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> initialDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initialDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle initialization error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">InitializeDimmerHardware</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to initialize dimmer hardware (e.g., PWM setup)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PWM_Init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Runnable: AP_Dim - Adjusts Light Dimming Based on Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_Dimmer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AP_Dim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read aggregated door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_Dimmer_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Determine new dim level based on door status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Increase brightness</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> DIM_STEP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> MAX_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MAX_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Decrease brightness after shutoff delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">IsShutoffDelayElapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> DIM_STEP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update dim level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SetDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write updated dim level to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to retrieve current dim level from RTE or internal state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">Rte_Read_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SetDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to adjust light brightness (e.g., PWM control)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PWM_SetBrightness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">IsShutoffDelayElapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to check if shutoff delay has elapsed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// This could involve checking a timer or system tick count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SystemTickCount </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> ShutoffDelayTicks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or fallback mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Could involve logging, alerting, or retry mechanisms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Runnable <code>AP_Init</code>:</strong></p>
<ul>
<li><strong>Purpose:</strong> Initializes dimmer settings during system startup.</li>
<li><strong>Operations:</strong>
<ul>
<li>Initializes the dimmer hardware (e.g., sets up PWM channels).</li>
<li>Sets the initial dim level to the minimum value.</li>
<li>Sends the initial dim level to the RTE.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Runnable <code>AP_Dim</code>:</strong></p>
<ul>
<li><strong>Purpose:</strong> Adjusts light dimming based on aggregated door statuses.</li>
<li><strong>Operations:</strong>
<ul>
<li><strong>Rte_Read_Dimmer_AnyDoorOpen():</strong> Retrieves the aggregated door status from the RTE.</li>
<li><strong>Dimming Logic:</strong>
<ul>
<li><strong>If Any Door is Open:</strong> Increases brightness incrementally, ensuring it does not exceed the maximum level.</li>
<li><strong>If No Doors are Open:</strong> Decreases brightness after a specified shutoff delay, ensuring it does not fall below the minimum level.</li>
</ul>
</li>
<li><strong>SetDimLevel():</strong> Adjusts the light brightness using PWM control based on the determined dim level.</li>
<li><strong>Rte_Write_Dimmer_CurrentDimLevel():</strong> Sends the updated dim level to the RTE for consistency and potential use by other SWCs.</li>
<li><strong>Error Handling:</strong> Manages any errors encountered during data reading or writing.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-inter-ecu-communication-configuration">6.3 <strong>Inter-ECU Communication Configuration</strong><a href="#63-inter-ecu-communication-configuration" class="hash-link" aria-label="Direct link to 63-inter-ecu-communication-configuration" title="Direct link to 63-inter-ecu-communication-configuration">​</a></h3>
<p>In this example, the system is distributed across three ECUs: Rear, Front, and Roof. Proper configuration ensures that data flows seamlessly between these ECUs, enabling coordinated control of sensors and actuators.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ecu-assignments-1"><strong>ECU Assignments:</strong><a href="#ecu-assignments-1" class="hash-link" aria-label="Direct link to ecu-assignments-1" title="Direct link to ecu-assignments-1">​</a></h4>
<ul>
<li><strong>Rear ECU:</strong>
<ul>
<li><strong>SWC:</strong> Sensors SWC (contains <code>SA_Left</code> and <code>SA_Right</code> Runnables)</li>
</ul>
</li>
<li><strong>Front ECU:</strong>
<ul>
<li><strong>SWC:</strong> Door Contact SWC (contains <code>SA_Contact</code> Runnable)</li>
</ul>
</li>
<li><strong>Roof ECU:</strong>
<ul>
<li><strong>SWC:</strong> Dimmer SWC (contains <code>AP_Init</code> and <code>AP_Dim</code> Runnables)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="communication-interfaces"><strong>Communication Interfaces:</strong><a href="#communication-interfaces" class="hash-link" aria-label="Direct link to communication-interfaces" title="Direct link to communication-interfaces">​</a></h4>
<ol>
<li><strong>Rear ECU to Front ECU:</strong>
<ul>
<li><strong>Data:</strong> Door states (<code>DoorOpen</code>)</li>
<li><strong>Communication Pattern:</strong> Sender-Receiver (S/R)</li>
<li><strong>Method:</strong> <code>Rte_Write</code> (Rear ECU) and <code>Rte_Read</code> (Front ECU)</li>
</ul>
</li>
<li><strong>Front ECU to Roof ECU:</strong>
<ul>
<li><strong>Data:</strong> Aggregated door state (<code>AnyDoorOpen</code>)</li>
<li><strong>Communication Pattern:</strong> Client-Server (C/S)</li>
<li><strong>Method:</strong> <code>Rte_Write</code> (Front ECU) and <code>Rte_Read</code>/<code>Rte_Call</code> (Roof ECU)</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-steps-1"><strong>Configuration Steps:</strong><a href="#configuration-steps-1" class="hash-link" aria-label="Direct link to configuration-steps-1" title="Direct link to configuration-steps-1">​</a></h4>
<ol>
<li>
<p><strong>Define Communication Ports:</strong></p>
<ul>
<li><strong>Provide Ports (P-Ports):</strong> For sending data from Sensors and Door Contact SWCs.</li>
<li><strong>Require Ports (R-Ports):</strong> For receiving data in Door Contact and Dimmer SWCs.</li>
</ul>
</li>
<li>
<p><strong>Map Data Elements:</strong></p>
<ul>
<li>Ensure that data elements like <code>DoorOpen</code> and <code>AnyDoorOpen</code> are correctly mapped to their respective signals and services.</li>
</ul>
</li>
<li>
<p><strong>Configure Runnables and Triggers:</strong></p>
<ul>
<li>Assign appropriate triggers and priorities to Runnables based on their roles and criticality.</li>
</ul>
</li>
<li>
<p><strong>Implement Data Exchange Mechanisms:</strong></p>
<ul>
<li>Use <code>Rte_Write</code> and <code>Rte_Read</code> functions for S/R communication.</li>
<li>Use <code>Rte_Call</code> functions for C/S communication where operation invocations are required.</li>
</ul>
</li>
<li>
<p><strong>Ensure Synchronization and Data Integrity:</strong></p>
<ul>
<li>Implement mechanisms such as mutexes or semaphores if shared resources are accessed by multiple Runnables to maintain data integrity.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-communication-flow"><strong>Example Communication Flow:</strong><a href="#example-communication-flow" class="hash-link" aria-label="Direct link to example-communication-flow" title="Direct link to example-communication-flow">​</a></h4>
<ol>
<li>
<p><strong>Left Door SWC (Rear ECU):</strong></p>
<ul>
<li><code>SA_Left</code> writes <code>DoorOpen</code> status to RTE.</li>
</ul>
</li>
<li>
<p><strong>Door Contact SWC (Front ECU):</strong></p>
<ul>
<li><code>SA_Contact</code> reads <code>DoorOpen</code> status from RTE.</li>
<li>Aggregates door states and writes <code>AnyDoorOpen</code> status to RTE.</li>
</ul>
</li>
<li>
<p><strong>Dimmer SWC (Roof ECU):</strong></p>
<ul>
<li><code>AP_Dim</code> reads <code>AnyDoorOpen</code> status from RTE.</li>
<li>Adjusts lighting based on the received data.</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-autosar-design-insights">7. <strong>AUTOSAR Design Insights</strong><a href="#7-autosar-design-insights" class="hash-link" aria-label="Direct link to 7-autosar-design-insights" title="Direct link to 7-autosar-design-insights">​</a></h2>
<p>Building upon the foundational concepts, this section emphasizes essential design insights that underpin effective AUTOSAR-based system development.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-modularity">7.1 <strong>Modularity</strong><a href="#71-modularity" class="hash-link" aria-label="Direct link to 71-modularity" title="Direct link to 71-modularity">​</a></h3>
<ul>
<li><strong>Encapsulation of Functionality:</strong>
<ul>
<li>Each Runnable encapsulates a specific functionality, promoting a modular architecture where individual components can be developed, tested, and maintained independently.</li>
</ul>
</li>
<li><strong>Simplified Integration:</strong>
<ul>
<li>Modular Runnables facilitate the integration of new features without impacting existing system components, enhancing overall system flexibility.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-prioritization">7.2 <strong>Prioritization</strong><a href="#72-prioritization" class="hash-link" aria-label="Direct link to 72-prioritization" title="Direct link to 72-prioritization">​</a></h3>
<ul>
<li><strong>Critical Task Management:</strong>
<ul>
<li>Assigning higher priorities to safety-critical Runnables ensures that essential tasks are executed promptly, maintaining system reliability and safety.</li>
</ul>
</li>
<li><strong>Resource Optimization:</strong>
<ul>
<li>Effective prioritization optimizes the allocation of system resources, preventing resource contention and ensuring that high-priority tasks receive necessary computational power.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="73-inter-ecu-communication">7.3 <strong>Inter-ECU Communication</strong><a href="#73-inter-ecu-communication" class="hash-link" aria-label="Direct link to 73-inter-ecu-communication" title="Direct link to 73-inter-ecu-communication">​</a></h3>
<ul>
<li>
<p><strong>Distributed System Design:</strong></p>
<ul>
<li>Facilitates the distribution of computational tasks across multiple ECUs, enhancing system performance and fault tolerance.</li>
</ul>
</li>
<li>
<p><strong>Data Consistency:</strong></p>
<ul>
<li>Ensures consistent data exchange between ECUs through standardized communication interfaces and protocols, maintaining system integrity.</li>
</ul>
</li>
<li>
<p><strong>Scalability and Flexibility:</strong></p>
<ul>
<li>Supports scalable system architectures that can adapt to increasing complexity by adding or modifying ECUs without disrupting existing functionalities.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-implementation-example">8. <strong>Implementation Example</strong><a href="#8-implementation-example" class="hash-link" aria-label="Direct link to 8-implementation-example" title="Direct link to 8-implementation-example">​</a></h2>
<p>This section presents a detailed implementation example of a <strong>Door Monitoring and Light Control System</strong> using Runnables within the AUTOSAR framework. The example illustrates how Runnables are scheduled, how data flows between SWCs, and how inter-ECU communication is configured and managed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="81-system-components-and-architecture">8.1 <strong>System Components and Architecture</strong><a href="#81-system-components-and-architecture" class="hash-link" aria-label="Direct link to 81-system-components-and-architecture" title="Direct link to 81-system-components-and-architecture">​</a></h3>
<ul>
<li><strong>Rear ECU:</strong>
<ul>
<li><strong>SWC:</strong> Sensors SWC</li>
<li><strong>Runnables:</strong> <code>SA_Left</code>, <code>SA_Right</code></li>
</ul>
</li>
<li><strong>Front ECU:</strong>
<ul>
<li><strong>SWC:</strong> Door Contact SWC</li>
<li><strong>Runnable:</strong> <code>SA_Contact</code></li>
</ul>
</li>
<li><strong>Roof ECU:</strong>
<ul>
<li><strong>SWC:</strong> Dimmer SWC</li>
<li><strong>Runnables:</strong> <code>AP_Init</code>, <code>AP_Dim</code></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="82-runnable-implementations">8.2 <strong>Runnable Implementations</strong><a href="#82-runnable-implementations" class="hash-link" aria-label="Direct link to 82-runnable-implementations" title="Direct link to 82-runnable-implementations">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="left-door-swc-runnable-sa_left-2"><strong>Left Door SWC Runnable: <code>SA_Left</code></strong><a href="#left-door-swc-runnable-sa_left-2" class="hash-link" aria-label="Direct link to left-door-swc-runnable-sa_left-2" title="Direct link to left-door-swc-runnable-sa_left-2">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Left - Monitors Left Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_LeftDoor.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Left</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean DoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read the left door sensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DOOR_LEFT_SENSOR_PIN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write door status to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_LeftDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error (e.g., log error, attempt retry)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to read door sensor (hardware-specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Read GPIO pin status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">GPIO_ReadPin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> GPIO_PIN_SET</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and attempt retry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SA_Left: Failed to write DoorOpen status&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Optionally, retry writing after a delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Functionality:</strong> <code>SA_Left</code> periodically checks the left door&#x27;s status and communicates it to the RTE.</p>
</li>
<li>
<p><strong>Operations:</strong></p>
<ul>
<li><strong>ReadDoorSensor():</strong> Interfaces with hardware to determine if the left door is open.</li>
<li><strong>Rte_Write_LeftDoor_DoorOpen():</strong> Sends the door status to the RTE.</li>
<li><strong>Error Handling:</strong> Logs errors and can implement retry mechanisms if writing to RTE fails.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="right-door-swc-runnable-sa_right-1"><strong>Right Door SWC Runnable: <code>SA_Right</code></strong><a href="#right-door-swc-runnable-sa_right-1" class="hash-link" aria-label="Direct link to right-door-swc-runnable-sa_right-1" title="Direct link to right-door-swc-runnable-sa_right-1">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Right - Monitors Right Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_RightDoor.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Right</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean DoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read the right door sensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DOOR_RIGHT_SENSOR_PIN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write door status to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_RightDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error (e.g., log error, attempt retry)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">ReadDoorSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to read door sensor (hardware-specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Read GPIO pin status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">GPIO_ReadPin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensorPin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> GPIO_PIN_SET</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and attempt retry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SA_Right: Failed to write DoorOpen status&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Optionally, retry writing after a delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Functionality:</strong> <code>SA_Right</code> periodically checks the right door&#x27;s status and communicates it to the RTE.</p>
</li>
<li>
<p><strong>Operations:</strong></p>
<ul>
<li><strong>ReadDoorSensor():</strong> Interfaces with hardware to determine if the right door is open.</li>
<li><strong>Rte_Write_RightDoor_DoorOpen():</strong> Sends the door status to the RTE.</li>
<li><strong>Error Handling:</strong> Logs errors and can implement retry mechanisms if writing to RTE fails.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="door-contact-swc-runnable-sa_contact-2"><strong>Door Contact SWC Runnable: <code>SA_Contact</code></strong><a href="#door-contact-swc-runnable-sa_contact-2" class="hash-link" aria-label="Direct link to door-contact-swc-runnable-sa_contact-2" title="Direct link to door-contact-swc-runnable-sa_contact-2">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: SA_Contact - Aggregates Door States</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_DoorContact.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SA_Contact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read left door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read right door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_RightDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">RightDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Aggregate door states</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean AnyDoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeftDoorOpen </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Send aggregated contact information to Dimmer SWC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_DoorContact_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and set default state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SA_Contact: Failed to read DoorOpen status&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Set default or safe state if necessary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and attempt retry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SA_Contact: Failed to write AnyDoorOpen status&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Optionally, retry writing after a delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Functionality:</strong> <code>SA_Contact</code> aggregates the statuses of both doors and communicates the combined state to the Dimmer SWC.</p>
</li>
<li>
<p><strong>Operations:</strong></p>
<ul>
<li><strong>Rte_Read_DoorContact_LeftDoorOpen():</strong> Retrieves the left door&#x27;s status from the RTE.</li>
<li><strong>Rte_Read_DoorContact_RightDoorOpen():</strong> Retrieves the right door&#x27;s status from the RTE.</li>
<li><strong>Aggregation Logic:</strong> Determines if any door is open.</li>
<li><strong>Rte_Write_DoorContact_AnyDoorOpen():</strong> Sends the aggregated door status to the RTE for use by the Dimmer SWC.</li>
<li><strong>Error Handling:</strong> Logs errors and can implement fallback mechanisms if reading or writing fails.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dimmer-swc-runnables-ap_init-and-ap_dim-1"><strong>Dimmer SWC Runnables: <code>AP_Init</code> and <code>AP_Dim</code></strong><a href="#dimmer-swc-runnables-ap_init-and-ap_dim-1" class="hash-link" aria-label="Direct link to dimmer-swc-runnables-ap_init-and-ap_dim-1" title="Direct link to dimmer-swc-runnables-ap_init-and-ap_dim-1">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Runnable: AP_Init - Initializes Dimmer Settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_Dimmer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AP_Init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Initialize dimmer hardware</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">InitializeDimmerHardware</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Set initial dim level to minimum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> initialDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initialDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle initialization error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">InitializeDimmerHardware</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to initialize dimmer hardware (e.g., PWM setup)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PWM_Init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and set default dim level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;AP_Init: Failed to write initial DimLevel&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Set default dim level if necessary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Runnable: AP_Dim - Adjusts Light Dimming Based on Door Status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Rte_Dimmer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AP_Dim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Read aggregated door status from RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_Dimmer_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Determine new dim level based on door status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Increase brightness incrementally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> DIM_STEP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> MAX_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MAX_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Decrease brightness after shutoff delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">IsShutoffDelayElapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> DIM_STEP</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MIN_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Maintain current dim level if delay not elapsed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentDimLevel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update dim level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SetDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Write updated dim level to RTE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle write error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetCurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to retrieve current dim level from RTE or internal state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Std_ReturnType status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_Dimmer_CurrentDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> RTE_E_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Handle read error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> DEFAULT_DIM_LEVEL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SetDimLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to adjust light brightness (e.g., PWM control)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PWM_SetBrightness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dimLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean </span><span class="token function" style="color:#d73a49">IsShutoffDelayElapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation to check if shutoff delay has elapsed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// This could involve checking a timer or system tick count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SystemTickCount </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> ShutoffDelayTicks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteReadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and set default dim level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;AP_Dim: Failed to read CurrentDimLevel&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HandleRteWriteError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Std_ReturnType errorCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation for error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Example: Log error and attempt retry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">LogError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;AP_Dim: Failed to write CurrentDimLevel&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Optionally, retry writing after a delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><strong>Runnable <code>AP_Init</code>:</strong>
<ul>
<li><strong>Purpose:</strong> Initializes dimmer settings during system startup.</li>
</ul>
</li>
<li><strong>Runnable <code>AP_Dim</code>:</strong>
<ul>
<li><strong>Purpose:</strong> Adjusts light dimming based on aggregated door statuses and dimming logic.</li>
</ul>
</li>
<li><strong>Operations:</strong>
<ul>
<li><strong>InitializeDimmerHardware():</strong> Sets up PWM channels for dimming control.</li>
<li><strong>GetCurrentDimLevel():</strong> Retrieves the current dim level from the RTE.</li>
<li><strong>SetDimLevel():</strong> Adjusts the light brightness using PWM control based on the determined dim level.</li>
<li><strong>IsShutoffDelayElapsed():</strong> Checks if the shutoff delay period has elapsed to decide on dimming adjustments.</li>
<li><strong>Error Handling:</strong> Logs errors and can implement fallback or retry mechanisms to maintain system reliability.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="83-inter-ecu-communication-configuration">8.3 <strong>Inter-ECU Communication Configuration</strong><a href="#83-inter-ecu-communication-configuration" class="hash-link" aria-label="Direct link to 83-inter-ecu-communication-configuration" title="Direct link to 83-inter-ecu-communication-configuration">​</a></h3>
<p>To facilitate communication across different ECUs, the following configuration ensures that data flows seamlessly between the Rear, Front, and Roof ECUs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ecu-assignments-2"><strong>ECU Assignments:</strong><a href="#ecu-assignments-2" class="hash-link" aria-label="Direct link to ecu-assignments-2" title="Direct link to ecu-assignments-2">​</a></h4>
<ul>
<li><strong>Rear ECU:</strong>
<ul>
<li><strong>SWC:</strong> Sensors SWC</li>
<li><strong>Runnables:</strong> <code>SA_Left</code>, <code>SA_Right</code></li>
</ul>
</li>
<li><strong>Front ECU:</strong>
<ul>
<li><strong>SWC:</strong> Door Contact SWC</li>
<li><strong>Runnable:</strong> <code>SA_Contact</code></li>
</ul>
</li>
<li><strong>Roof ECU:</strong>
<ul>
<li><strong>SWC:</strong> Dimmer SWC</li>
<li><strong>Runnables:</strong> <code>AP_Init</code>, <code>AP_Dim</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="communication-interfaces-and-patterns"><strong>Communication Interfaces and Patterns:</strong><a href="#communication-interfaces-and-patterns" class="hash-link" aria-label="Direct link to communication-interfaces-and-patterns" title="Direct link to communication-interfaces-and-patterns">​</a></h4>
<ol>
<li>
<p><strong>Rear ECU to Front ECU:</strong></p>
<ul>
<li><strong>Data:</strong> <code>DoorOpen</code> status from <code>SA_Left</code> and <code>SA_Right</code></li>
<li><strong>Communication Pattern:</strong> Sender-Receiver (S/R)</li>
<li><strong>Method:</strong> <code>Rte_Write</code> in Sensors SWC (Rear ECU) and <code>Rte_Read</code> in Door Contact SWC (Front ECU)</li>
</ul>
</li>
<li>
<p><strong>Front ECU to Roof ECU:</strong></p>
<ul>
<li><strong>Data:</strong> Aggregated <code>AnyDoorOpen</code> status from <code>SA_Contact</code></li>
<li><strong>Communication Pattern:</strong> Client-Server (C/S)</li>
<li><strong>Method:</strong> <code>Rte_Write</code> in Door Contact SWC (Front ECU) and <code>Rte_Read</code> in Dimmer SWC (Roof ECU)</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-flow-configuration"><strong>Data Flow Configuration:</strong><a href="#data-flow-configuration" class="hash-link" aria-label="Direct link to data-flow-configuration" title="Direct link to data-flow-configuration">​</a></h4>
<ol>
<li>
<p><strong>Sensors SWC (Rear ECU):</strong></p>
<ul>
<li><strong>Runnables:</strong> <code>SA_Left</code>, <code>SA_Right</code> write <code>DoorOpen</code> status to RTE.</li>
</ul>
</li>
<li>
<p><strong>Door Contact SWC (Front ECU):</strong></p>
<ul>
<li><strong>Runnable:</strong> <code>SA_Contact</code> reads <code>DoorOpen</code> statuses, aggregates them, and writes <code>AnyDoorOpen</code> status to RTE.</li>
</ul>
</li>
<li>
<p><strong>Dimmer SWC (Roof ECU):</strong></p>
<ul>
<li><strong>Runnables:</strong> <code>AP_Init</code> initializes dimmer settings.</li>
<li><strong>Runnable:</strong> <code>AP_Dim</code> reads <code>AnyDoorOpen</code> status and adjusts light dimming accordingly.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-snippets-for-inter-ecu-communication"><strong>Code Snippets for Inter-ECU Communication:</strong><a href="#code-snippets-for-inter-ecu-communication" class="hash-link" aria-label="Direct link to code-snippets-for-inter-ecu-communication" title="Direct link to code-snippets-for-inter-ecu-communication">​</a></h4>
<p><strong>Sensors SWC (Rear ECU) - Writing Door Status:</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Within Runnable SA_Left and SA_Right</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_LeftDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// From Left Door</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_RightDoor_DoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// From Right Door</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Door Contact SWC (Front ECU) - Reading and Aggregating Door Status:</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Within Runnable SA_Contact</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">LeftDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_DoorContact_RightDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">RightDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean AnyDoorOpen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LeftDoorOpen </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> RightDoorOpen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Write_DoorContact_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Dimmer SWC (Roof ECU) - Reading Aggregated Status:</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Within Runnable AP_Dim</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Rte_Read_Dimmer_AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">AnyDoorOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<p><strong>Sensors SWC:</strong> Continuously monitors door statuses and communicates them to the RTE.</p>
</li>
<li>
<p><strong>Door Contact SWC:</strong> Aggregates the individual door statuses and communicates the combined state to the RTE.</p>
</li>
<li>
<p><strong>Dimmer SWC:</strong> Adjusts lighting based on the aggregated door statuses, ensuring coordinated control across the system.</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-summary">9. <strong>Summary</strong><a href="#9-summary" class="hash-link" aria-label="Direct link to 9-summary" title="Direct link to 9-summary">​</a></h2>
<p><strong>Runnable Scheduling</strong> in AUTOSAR is a critical aspect that ensures the timely and deterministic execution of software functionalities within automotive systems. By meticulously scheduling Runnables based on their priorities and triggers, developers can create robust, scalable, and maintainable systems that meet stringent real-time and safety requirements.</p>
<p><strong>Key Highlights:</strong></p>
<ul>
<li>
<p><strong>Role Clarity:</strong> Distinct roles for each SWC and Runnable facilitate organized and efficient data exchange and task execution.</p>
</li>
<li>
<p><strong>Task Prioritization:</strong> Assigning appropriate priorities to Runnables ensures that critical tasks are executed promptly, maintaining system reliability and safety.</p>
</li>
<li>
<p><strong>Modularity and Reusability:</strong> Designing SWCs with discrete Runnables promotes modularity, enabling components to be reused across different projects and vehicle models.</p>
</li>
<li>
<p><strong>Inter-ECU Communication:</strong> Effective configuration of communication interfaces and patterns ensures seamless data flow across distributed ECUs, enhancing system performance and flexibility.</p>
</li>
<li>
<p><strong>Real-Time Performance:</strong> Precise timing and scheduling mechanisms ensure that Runnables meet real-time constraints, essential for safety-critical automotive applications.</p>
</li>
<li>
<p><strong>Error Handling:</strong> Implementing robust error handling within Runnables enhances system resilience and reliability, allowing for graceful recovery from unexpected conditions.</p>
</li>
</ul>
<p>By mastering Runnable Scheduling and adhering to AUTOSAR&#x27;s architectural principles, developers and engineers can design sophisticated automotive software systems that are both efficient and resilient, capable of meeting the evolving demands of modern vehicles.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AUTOSAR/02_application/11_exercise.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Vehicle-Network-Standards/docs/AUTOSAR/application/runnables"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Runnables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Vehicle-Network-Standards/docs/category/rte"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RTE</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-runnable-scheduling" class="table-of-contents__link toc-highlight">1. <strong>Runnable Scheduling</strong></a><ul><li><a href="#11-overview" class="table-of-contents__link toc-highlight">1.1 <strong>Overview</strong></a></li><li><a href="#12-components-and-tasks" class="table-of-contents__link toc-highlight">1.2 <strong>Components and Tasks</strong></a></li><li><a href="#13-task-prioritization" class="table-of-contents__link toc-highlight">1.3 <strong>Task Prioritization</strong></a></li><li><a href="#14-data-flow" class="table-of-contents__link toc-highlight">1.4 <strong>Data Flow</strong></a></li></ul></li><li><a href="#2-exercises" class="table-of-contents__link toc-highlight">2. <strong>Exercises</strong></a><ul><li><a href="#exercise-1-interior-light-functionality" class="table-of-contents__link toc-highlight"><strong>Exercise 1: Interior Light Functionality</strong></a></li><li><a href="#exercise-2-mapping-swcs-across-ecus" class="table-of-contents__link toc-highlight"><strong>Exercise 2: Mapping SWCs Across ECUs</strong></a></li></ul></li><li><a href="#3-autosar-design-insights" class="table-of-contents__link toc-highlight">3. <strong>AUTOSAR Design Insights</strong></a><ul><li><a href="#31-modularity" class="table-of-contents__link toc-highlight">3.1 <strong>Modularity</strong></a></li><li><a href="#32-prioritization" class="table-of-contents__link toc-highlight">3.2 <strong>Prioritization</strong></a></li><li><a href="#33-inter-ecu-communication" class="table-of-contents__link toc-highlight">3.3 <strong>Inter-ECU Communication</strong></a></li></ul></li><li><a href="#4-implementation-example" class="table-of-contents__link toc-highlight">4. <strong>Implementation Example</strong></a><ul><li><a href="#41-door-monitoring-and-light-control-workflow" class="table-of-contents__link toc-highlight">4.1 <strong>Door Monitoring and Light Control Workflow</strong></a></li><li><a href="#42-runnable-implementations" class="table-of-contents__link toc-highlight">4.2 <strong>Runnable Implementations</strong></a></li><li><a href="#43-inter-ecu-communication-setup" class="table-of-contents__link toc-highlight">4.3 <strong>Inter-ECU Communication Setup</strong></a></li></ul></li><li><a href="#5-autosar-design-insights" class="table-of-contents__link toc-highlight">5. <strong>AUTOSAR Design Insights</strong></a><ul><li><a href="#51-modularity" class="table-of-contents__link toc-highlight">5.1 <strong>Modularity</strong></a></li><li><a href="#52-prioritization" class="table-of-contents__link toc-highlight">5.2 <strong>Prioritization</strong></a></li><li><a href="#53-inter-ecu-communication" class="table-of-contents__link toc-highlight">5.3 <strong>Inter-ECU Communication</strong></a></li></ul></li><li><a href="#6-implementation-example" class="table-of-contents__link toc-highlight">6. <strong>Implementation Example</strong></a><ul><li><a href="#61-system-components-and-runnables" class="table-of-contents__link toc-highlight">6.1 <strong>System Components and Runnables</strong></a></li><li><a href="#62-code-implementations" class="table-of-contents__link toc-highlight">6.2 <strong>Code Implementations</strong></a></li><li><a href="#63-inter-ecu-communication-configuration" class="table-of-contents__link toc-highlight">6.3 <strong>Inter-ECU Communication Configuration</strong></a></li></ul></li><li><a href="#7-autosar-design-insights" class="table-of-contents__link toc-highlight">7. <strong>AUTOSAR Design Insights</strong></a><ul><li><a href="#71-modularity" class="table-of-contents__link toc-highlight">7.1 <strong>Modularity</strong></a></li><li><a href="#72-prioritization" class="table-of-contents__link toc-highlight">7.2 <strong>Prioritization</strong></a></li><li><a href="#73-inter-ecu-communication" class="table-of-contents__link toc-highlight">7.3 <strong>Inter-ECU Communication</strong></a></li></ul></li><li><a href="#8-implementation-example" class="table-of-contents__link toc-highlight">8. <strong>Implementation Example</strong></a><ul><li><a href="#81-system-components-and-architecture" class="table-of-contents__link toc-highlight">8.1 <strong>System Components and Architecture</strong></a></li><li><a href="#82-runnable-implementations" class="table-of-contents__link toc-highlight">8.2 <strong>Runnable Implementations</strong></a></li><li><a href="#83-inter-ecu-communication-configuration" class="table-of-contents__link toc-highlight">8.3 <strong>Inter-ECU Communication Configuration</strong></a></li></ul></li><li><a href="#9-summary" class="table-of-contents__link toc-highlight">9. <strong>Summary</strong></a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Protocols</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">CAN</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">LIN</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">FlexRay</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">Ethernet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Diagnostic</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/UDS/Getting-Started">UDS</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/UDS/Getting-Started">DoIP</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/UDS/Getting-Started">SOVD</a></li></ul></div><div class="col footer__col"><div class="footer__title">Architecture</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/AUTOSAR/Getting-Started">AUTOSAR</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/SOVA/Getting-Started">SOVA</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/SOME-IP/Getting-Started">SOME/IP</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/SOURCES/info">Sources</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/Glossary/Getting-Started">Glossary</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/Vehicle-Network-Standards" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Vehicle Network Standards.</div></div></div></footer></div>
</body>
</html>