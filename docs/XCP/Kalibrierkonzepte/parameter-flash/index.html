<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-XCP/Kalibrierkonzepte/parameter-flash" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Kalibrierkonzepte in Steuergeräten | Vehicle Network Standards</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-flash"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kalibrierkonzepte in Steuergeräten | Vehicle Network Standards"><meta data-rh="true" name="description" content="Einleitung"><meta data-rh="true" property="og:description" content="Einleitung"><link data-rh="true" rel="icon" href="/Vehicle-Network-Standards/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-flash"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-flash" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-flash" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Vehicle-Network-Standards/blog/rss.xml" title="Vehicle Network Standards RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Vehicle-Network-Standards/blog/atom.xml" title="Vehicle Network Standards Atom Feed"><link rel="stylesheet" href="/Vehicle-Network-Standards/assets/css/styles.c959825f.css">
<script src="/Vehicle-Network-Standards/assets/js/runtime~main.3e65de1a.js" defer="defer"></script>
<script src="/Vehicle-Network-Standards/assets/js/main.67cab366.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Vehicle-Network-Standards/img/car.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Vehicle-Network-Standards/"><div class="navbar__logo"><img src="/Vehicle-Network-Standards/img/car.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Vehicle-Network-Standards/img/car.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">VNS</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/AUTOSAR/getting_started">AUTOSAR</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SOVA/getting_started">SOVA</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SOVD/getting_started">SOVD</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/UDS/getting_started">UDS</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/CAN/getting_started">CAN</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/LIN/getting_started">LIN</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/FLEXRAY/getting_started">FlexRay</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/ETHERNET/getting_started">Ethernet</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/DoIP/getting_started">DoIP</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SOME-IP/getting_started">SOME/IP</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Vehicle-Network-Standards/docs/XCP/getting_started">XCP</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/SecOC/getting_started">SecOC</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/category/funktionale-sicherheit">ISO26262</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/FMEA/getting-started">FMEA</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/docs/OTA/getting-.started">OTA</a><a class="navbar__item navbar__link" href="/Vehicle-Network-Standards/blog">Blog</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Vehicle-Network-Standards/docs/XCP/getting_started">Erste Schritte</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Vehicle-Network-Standards/docs/XCP/Einstieg/Introduction">Einstieg</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Vehicle-Network-Standards/docs/category/beschreibung-a2l">Beschreibung A2L</a><button aria-label="Expand sidebar category &#x27;Beschreibung A2L&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Vehicle-Network-Standards/docs/XCP/Grundlagen/xcp-kommunikationsprotokoll">Grundlagen</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-flash">Kalibrierkonzepte</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-flash">Kalibrierkonzepte in Steuergeräten</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-ram">Kalibrierkonzepte in Steuergeräten: Parameter im RAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/paremeter-ram">paremeter-ram</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/flash-overlay">Kalibrierkonzepte in Steuergeräten: Flash-Overlay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/dynamic-flash-overlay">dynamic-flash-overlay</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Vehicle-Network-Standards/docs/XCP/Tooling/Messen_Auswerten">Tooling</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Vehicle-Network-Standards/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Kalibrierkonzepte</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Kalibrierkonzepte in Steuergeräten</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kalibrierkonzepte in Steuergeräten</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="einleitung">Einleitung<a href="#einleitung" class="hash-link" aria-label="Direct link to Einleitung" title="Direct link to Einleitung">​</a></h2>
<p>In der modernen Automobilentwicklung spielen Steuergeräte (ECUs) eine zentrale Rolle bei der Steuerung und Regelung verschiedenster Fahrzeugfunktionen. Ein essenzieller Bestandteil dieser Steuergeräte sind die Parameter, die während der Entwicklungs- und Kalibrierphase optimiert werden, um eine optimale Performance und Effizienz zu gewährleisten. Die Anpassung und Optimierung dieser Parameter ist ein iterativer Prozess, der präzise Kalibrierkonzepte erfordert. Als Experte für das Universal Measurement and Calibration Protocol (XCP) ist es unerlässlich, die verschiedenen Kalibrierkonzepte zu verstehen und deren Implementierung im Kontext von XCP zu beleuchten.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="grundlagen-der-parameterkalibrierung">Grundlagen der Parameterkalibrierung<a href="#grundlagen-der-parameterkalibrierung" class="hash-link" aria-label="Direct link to Grundlagen der Parameterkalibrierung" title="Direct link to Grundlagen der Parameterkalibrierung">​</a></h2>
<p>Steuergeräte-Parameter sind konstante Größen, die während der Entwicklung eines Steuergeräts oder einer seiner Varianten angepasst werden, um die gewünschte Funktionalität und Leistung zu erzielen. Diese Parameter werden typischerweise im Flash-Speicher des Steuergeräts abgelegt und sind in der Software als Konstanten definiert. Ein grundlegender Aspekt der Kalibrierung ist die Fähigkeit, diese Parameter zur Laufzeit zu verändern, um deren optimale Werte zu bestimmen. Dieser Prozess erfordert zusätzliche RAM-Ressourcen, da die Parameter vom Flash in den RAM kopiert werden müssen, um dort verändert werden zu können.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="iterativer-kalibrierprozess">Iterativer Kalibrierprozess<a href="#iterativer-kalibrierprozess" class="hash-link" aria-label="Direct link to Iterativer Kalibrierprozess" title="Direct link to Iterativer Kalibrierprozess">​</a></h2>
<p>Die Optimierung der Steuergeräte-Parameter erfolgt iterativ. Dabei werden Parameterwerte verändert, Messungen durchgeführt und die Ergebnisse analysiert, um den optimalen Wert für jeden Parameter zu bestimmen. Dieser Prozess wiederholt sich, bis eine zufriedenstellende Performance erreicht ist. Ein gut durchdachtes Kalibrierkonzept ist hierbei von entscheidender Bedeutung, um die Effizienz und Genauigkeit der Kalibrierung sicherzustellen.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fragestellungen-eines-kalibrierkonzepts">Fragestellungen eines Kalibrierkonzepts<a href="#fragestellungen-eines-kalibrierkonzepts" class="hash-link" aria-label="Direct link to Fragestellungen eines Kalibrierkonzepts" title="Direct link to Fragestellungen eines Kalibrierkonzepts">​</a></h2>
<p>Ein umfassendes Kalibrierkonzept befasst sich mit mehreren grundlegenden Fragestellungen:</p>
<ol>
<li><strong>Initiale Parameterübertragung:</strong> Wie werden die Parameter vom Flash-Speicher in den RAM übertragen?</li>
<li><strong>Zugriffssteuerung:</strong> Wie wird der Zugriff des Mikrocontrollers auf den RAM umgeleitet?</li>
<li><strong>Speicherverwaltung:</strong> Was passiert, wenn die Anzahl der Parameter die verfügbaren RAM-Ressourcen übersteigt?</li>
<li><strong>Rückübertragung in den Flash:</strong> Wie werden die veränderten Parameterwerte zurück in den Flash-Speicher geschrieben?</li>
<li><strong>Persistenz der Änderungen:</strong> Bleiben die Veränderungen der Parameter auch nach dem Ausschalten des Steuergeräts erhalten?</li>
</ol>
<p>Diese Fragen sind entscheidend für die Auswahl und Implementierung des geeigneten Kalibrierkonzepts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transparente-vs-nicht-transparente-kalibrierkonzepte">Transparente vs. Nicht transparente Kalibrierkonzepte<a href="#transparente-vs-nicht-transparente-kalibrierkonzepte" class="hash-link" aria-label="Direct link to Transparente vs. Nicht transparente Kalibrierkonzepte" title="Direct link to Transparente vs. Nicht transparente Kalibrierkonzepte">​</a></h2>
<p>Kalibrierkonzepte lassen sich grundsätzlich in zwei Kategorien unterteilen: transparente und nicht transparente Konzepte.</p>
<ul>
<li>
<p><strong>Transparente Kalibrierkonzepte:</strong> Bei transparenten Konzepten übernimmt die Steuergeräte-Implementierung alle notwendigen Mechanismen zur Parameterverwaltung. Das Kalibrier-Tool muss sich nicht um die spezifischen Details der Parameterübertragung und -speicherung kümmern. Dies erleichtert die Nutzung des Kalibrier-Tools erheblich und reduziert die Komplexität der Kalibrierungssoftware.</p>
</li>
<li>
<p><strong>Nicht transparente Kalibrierkonzepte:</strong> Hier müssen die spezifischen Mechanismen der Parameterverwaltung explizit vom Kalibrier-Tool berücksichtigt werden. Dies erfordert eine detaillierte Kenntnis der Speicherarchitektur und der Zugriffsmechanismen des Steuergeräts.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameter-im-flash-speicher">Parameter im Flash-Speicher<a href="#parameter-im-flash-speicher" class="hash-link" aria-label="Direct link to Parameter im Flash-Speicher" title="Direct link to Parameter im Flash-Speicher">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="definition-und-speicherung">Definition und Speicherung<a href="#definition-und-speicherung" class="hash-link" aria-label="Direct link to Definition und Speicherung" title="Direct link to Definition und Speicherung">​</a></h3>
<p>In der Software werden Parameter oft als Konstanten definiert, die im Flash-Speicher abgelegt werden. Ein typisches Beispiel in C-Code könnte wie folgt aussehen:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> factor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Hierbei wird die Größe <code>factor</code> als Konstante mit dem Wert <code>0.5</code> definiert. Beim Kompilieren und Linken des Codes wird dieser Wert im Flash-Speicher abgelegt und erhält eine spezifische Adresse, die in der Linker-MAP-Datei dokumentiert ist.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kalibrierung-im-flash">Kalibrierung im Flash<a href="#kalibrierung-im-flash" class="hash-link" aria-label="Direct link to Kalibrierung im Flash" title="Direct link to Kalibrierung im Flash">​</a></h3>
<p>Ein einfaches Kalibrierkonzept besteht darin, den Wert der Parameter direkt im C-Code zu ändern, den Code neu zu kompilieren und das resultierende Hex-File in das Steuergerät zu flashen. Diese Methode ist jedoch sehr umständlich, da jede Änderung einen vollständigen Compiler- und Linkerlauf sowie einen erneuten Flashvorgang erfordert.</p>
<p>Alternativ kann der Parameterwert direkt in der Hex-Datei modifiziert werden. Dies ermöglicht eine &quot;Offline-Kalibrierung&quot; mittels Tools wie CANape, bei der die Hex-Datei ohne erneutes Kompilieren angepasst und erneut geflasht wird. Diese Methode ist schneller, jedoch weniger flexibel und fehleranfällig, da sie eine manuelle Bearbeitung der Hex-Datei erfordert.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="speicherplatz-und-zugriff">Speicherplatz und Zugriff<a href="#speicherplatz-und-zugriff" class="hash-link" aria-label="Direct link to Speicherplatz und Zugriff" title="Direct link to Speicherplatz und Zugriff">​</a></h3>
<p>Um sicherzustellen, dass Parameter immer im Flash-Speicher abgelegt werden und nicht versehentlich in den Code integriert werden, können compiler-spezifische Pragma-Anweisungen verwendet werden. Ein typisches Beispiel hierfür ist:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">pragma</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">section </span><span class="token macro property string" style="color:#e3116c">&quot;FLASH_Parameter&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">volatile</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> factor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Das <code>volatile</code>-Attribut verhindert, dass der Compiler die Variable optimiert und in den Code integriert, wodurch sichergestellt wird, dass sie im Flash-Speicher verbleibt.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="online-kalibrierung-im-flash">Online-Kalibrierung im Flash<a href="#online-kalibrierung-im-flash" class="hash-link" aria-label="Direct link to Online-Kalibrierung im Flash" title="Direct link to Online-Kalibrierung im Flash">​</a></h3>
<p>Das direkte Schreiben in den Flash-Speicher zur Laufzeit (Online-Kalibrierung) ist in der Regel nicht praktikabel. Flash-Speicher sind in großen Blöcken (Sektoren) organisiert, die nur als Einheit gelöscht und beschrieben werden können. Ein gezieltes Schreiben einzelner Bytes ist daher nicht möglich, da dies eine aufwändige Zwischenablage und Neuorganisation der Speicherblöcke erfordern würde, was zeitintensiv und ressourcenhungrig ist.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="nutzung-von-eeprom-speicher">Nutzung von EEPROM-Speicher<a href="#nutzung-von-eeprom-speicher" class="hash-link" aria-label="Direct link to Nutzung von EEPROM-Speicher" title="Direct link to Nutzung von EEPROM-Speicher">​</a></h2>
<p>Einige Steuergeräte verfügen über einen dedizierten EEPROM-Speicher, der sich besser für die Speicherung von Kalibrierparametern eignet. EEPROM-Zellen können einzeln gelöscht und beschrieben werden, was eine flexiblere und schnellere Online-Kalibrierung ermöglicht. Allerdings ist der verfügbare EEPROM-Speicher oft auf wenige Kilobyte begrenzt. Typische Anwendungsfälle für EEPROM in Steuergeräten sind:</p>
<ul>
<li><strong>Werkstattprogrammierung:</strong> Parameter, die regelmäßig in der Werkstatt angepasst werden müssen.</li>
<li><strong>Persistenzmechanismen:</strong> Speicherung von Daten wie dem Kilometerstand, die auch nach dem Ausschalten des Fahrzeugs erhalten bleiben müssen.</li>
</ul>
<p>Trotz dieser Vorteile wird die Online-Kalibrierung von EEPROM-Parametern selten angewandt, da der Zugriff auf EEPROM-Zellen relativ langsam ist und die meisten Parameter beim Booten in den RAM kopiert werden, wo sie schneller zugänglich sind.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="eeprom-emulation">EEPROM-Emulation<a href="#eeprom-emulation" class="hash-link" aria-label="Direct link to EEPROM-Emulation" title="Direct link to EEPROM-Emulation">​</a></h2>
<p>Für Steuergeräte ohne physikalischen EEPROM-Speicher wird häufig eine EEPROM-Emulation eingesetzt. Diese Methode verwendet mehrere kleine Flash-Sektoren, die abwechselnd genutzt werden, um Parameteränderungen zu protokollieren. Dadurch kann immer der letzte gültige Wert ermittelt werden, ohne die gesamte Flash-Sektion neu schreiben zu müssen. Eine EEPROM-Emulation ermöglicht somit eine ähnliche Flexibilität wie echter EEPROM-Speicher, ist jedoch durch die begrenzte Flash-Lebensdauer und den höheren Verwaltungsaufwand eingeschränkt.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-von-xcp-in-kalibrierkonzepte">Integration von XCP in Kalibrierkonzepte<a href="#integration-von-xcp-in-kalibrierkonzepte" class="hash-link" aria-label="Direct link to Integration von XCP in Kalibrierkonzepte" title="Direct link to Integration von XCP in Kalibrierkonzepte">​</a></h2>
<p>XCP (Universal Measurement and Calibration Protocol) spielt eine zentrale Rolle bei der Implementierung und Nutzung von Kalibrierkonzepten in Steuergeräten. Es bietet eine standardisierte Schnittstelle zur Kommunikation zwischen dem Kalibrier-Tool und dem Steuergerät, wodurch die Parameterübertragung und -anpassung effizient und flexibel gestaltet werden können.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xcp-architektur-und--funktionen">XCP-Architektur und -Funktionen<a href="#xcp-architektur-und--funktionen" class="hash-link" aria-label="Direct link to XCP-Architektur und -Funktionen" title="Direct link to XCP-Architektur und -Funktionen">​</a></h3>
<p>XCP ermöglicht die Echtzeitkommunikation mit der Steuergeräte-Software und unterstützt verschiedene Transportprotokolle wie CAN, Ethernet oder USB. Zu den wesentlichen Funktionen von XCP gehören:</p>
<ul>
<li><strong>Parameter- und Datenzugriff:</strong> XCP erlaubt den direkten Zugriff auf Parameter und Datenstrukturen im Steuergerät, unabhängig davon, ob diese im Flash oder RAM gespeichert sind.</li>
<li><strong>Synchronisation und Timing:</strong> XCP sorgt für eine präzise Synchronisation der Kalibrierungsprozesse, wodurch eine konsistente und genaue Parameteranpassung gewährleistet wird.</li>
<li><strong>Sicherheit und Zugriffskontrolle:</strong> XCP bietet Mechanismen zur Sicherstellung, dass nur autorisierte Kalibrierungsprozesse auf die Steuergeräte-Parameter zugreifen können.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementierung-von-transparenten-kalibrierkonzepten-mit-xcp">Implementierung von transparenten Kalibrierkonzepten mit XCP<a href="#implementierung-von-transparenten-kalibrierkonzepten-mit-xcp" class="hash-link" aria-label="Direct link to Implementierung von transparenten Kalibrierkonzepten mit XCP" title="Direct link to Implementierung von transparenten Kalibrierkonzepten mit XCP">​</a></h3>
<p>Bei der Nutzung transparenter Kalibrierkonzepte übernimmt XCP die gesamte Kommunikation und Parameterverwaltung, ohne dass das Kalibrier-Tool sich um die spezifischen Details der Speicherverwaltung kümmern muss. Dies wird durch folgende Mechanismen ermöglicht:</p>
<ol>
<li><strong>Automatische Parameterübertragung:</strong> XCP übernimmt die Initialisierung und Übertragung der Parameter vom Flash in den RAM bei Systemstart.</li>
<li><strong>Zugriffsumleitung:</strong> XCP leitet alle Parameterzugriffe automatisch über den RAM, wodurch eine direkte Manipulation der Flash-Parameter vermieden wird.</li>
<li><strong>Speicherverwaltung:</strong> XCP verwaltet die RAM-Ressourcen effizient und sorgt dafür, dass nur die benötigten Parameter geladen und zur Verfügung gestellt werden.</li>
<li><strong>Rückübertragung und Persistenz:</strong> Nach der Kalibrierung überträgt XCP die veränderten Parameter zurück in den Flash-Speicher und sorgt für deren Persistenz.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="herausforderungen-und-lösungen-bei-nicht-transparenten-kalibrierkonzepten">Herausforderungen und Lösungen bei nicht transparenten Kalibrierkonzepten<a href="#herausforderungen-und-lösungen-bei-nicht-transparenten-kalibrierkonzepten" class="hash-link" aria-label="Direct link to Herausforderungen und Lösungen bei nicht transparenten Kalibrierkonzepten" title="Direct link to Herausforderungen und Lösungen bei nicht transparenten Kalibrierkonzepten">​</a></h3>
<p>Bei nicht transparenten Kalibrierkonzepten muss das Kalibrier-Tool explizit mit den spezifischen Speichermechanismen des Steuergeräts interagieren. Dies erfordert eine tiefgehende Integration und spezifische Software-Routinen, um die Parameter korrekt zu verwalten. XCP unterstützt auch diese Konzepte durch:</p>
<ul>
<li><strong>Erweiterte API-Funktionen:</strong> XCP bietet erweiterte Funktionen, die eine gezielte Steuerung und Verwaltung der Parameter ermöglichen.</li>
<li><strong>Benutzerdefinierte Speicherzugriffe:</strong> Durch benutzerdefinierte XCP-Kommandos können spezifische Speicherzugriffe implementiert werden, die den individuellen Anforderungen des Kalibrierkonzepts entsprechen.</li>
<li><strong>Flexibles Mapping:</strong> XCP erlaubt ein flexibles Mapping der Parameter zu den physischen Speicheradressen, was eine effiziente Verwaltung und Optimierung der Speicherressourcen ermöglicht.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimierung-der-speicherressourcen">Optimierung der Speicherressourcen<a href="#optimierung-der-speicherressourcen" class="hash-link" aria-label="Direct link to Optimierung der Speicherressourcen" title="Direct link to Optimierung der Speicherressourcen">​</a></h2>
<p>Ein häufiges Problem bei der Parameterkalibrierung ist die begrenzte RAM-Kapazität im Steuergerät. Verschiedene Strategien können angewendet werden, um dieses Problem zu lösen:</p>
<ol>
<li><strong>Paging:</strong> Parameter werden in Seiten organisiert und je nach Bedarf in den RAM geladen und wieder zurück in den Flash geschrieben. XCP kann hierbei die notwendigen Steuerbefehle zur Verwaltung der Seiten unterstützen.</li>
<li><strong>Kompression:</strong> Parameterwerte können komprimiert im Flash gespeichert und bei Bedarf dekomprimiert in den RAM geladen werden. Dies reduziert den benötigten Speicherplatz, erhöht jedoch den Rechenaufwand.</li>
<li><strong>Dynamische Priorisierung:</strong> Parameter, die häufiger angepasst werden, werden bevorzugt im RAM gehalten, während weniger wichtige Parameter nur bei Bedarf geladen werden.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="persistenz-der-parameteränderungen">Persistenz der Parameteränderungen<a href="#persistenz-der-parameteränderungen" class="hash-link" aria-label="Direct link to Persistenz der Parameteränderungen" title="Direct link to Persistenz der Parameteränderungen">​</a></h2>
<p>Die Persistenz der Parameteränderungen ist ein kritischer Aspekt jedes Kalibrierkonzepts. Änderungen müssen auch nach einem Neustart des Steuergeräts erhalten bleiben. Hierzu werden die veränderten Parameter entweder dauerhaft im EEPROM oder durch eine EEPROM-Emulation im Flash gespeichert. XCP stellt sicher, dass diese Änderungen zuverlässig und konsistent zurückgeschrieben werden, indem es den gesamten Schreibprozess koordiniert und überwacht.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fazit">Fazit<a href="#fazit" class="hash-link" aria-label="Direct link to Fazit" title="Direct link to Fazit">​</a></h2>
<p>Die Entwicklung und Implementierung effektiver Kalibrierkonzepte ist ein wesentlicher Bestandteil der Steuergeräteentwicklung. Durch die Nutzung von XCP als Standardprotokoll können Kalibrierungsprozesse erheblich vereinfacht und optimiert werden. Transparente Kalibrierkonzepte bieten eine hohe Flexibilität und Benutzerfreundlichkeit, während nicht transparente Konzepte spezifische Anpassungen und detaillierte Steuerung erfordern. Unabhängig vom gewählten Ansatz ist es entscheidend, die Speicherarchitektur und die spezifischen Anforderungen des Steuergeräts genau zu verstehen, um eine präzise und effiziente Kalibrierung zu gewährleisten.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ausblick">Ausblick<a href="#ausblick" class="hash-link" aria-label="Direct link to Ausblick" title="Direct link to Ausblick">​</a></h2>
<p>Mit der fortschreitenden Entwicklung von Steuergeräten und der zunehmenden Komplexität moderner Fahrzeugfunktionen wird die Bedeutung durchdachter Kalibrierkonzepte weiter steigen. XCP wird dabei eine zentrale Rolle spielen, indem es die notwendigen Kommunikations- und Steuerungsmechanismen bereitstellt, um den steigenden Anforderungen gerecht zu werden. Zukünftige Entwicklungen könnten zusätzliche Optimierungen in der Speicherverwaltung und der Echtzeitkommunikation umfassen, um die Effizienz und Genauigkeit der Kalibrierungsprozesse weiter zu verbessern.</p>
<hr>
<p>Dieser umfassende Überblick über Kalibrierkonzepte in Steuergeräten zeigt die vielfältigen Herausforderungen und Lösungen auf, die im Rahmen der Parameterkalibrierung berücksichtigt werden müssen. Durch die Integration von XCP als Standardprotokoll können diese Prozesse effizient und flexibel gestaltet werden, was letztendlich zu einer verbesserten Fahrzeugleistung und -zuverlässigkeit beiträgt.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/XCP/04_Kalibrierkonzepte/01_parameter-flash.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Vehicle-Network-Standards/docs/XCP/Grundlagen/xcp-services"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">xcp-services</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Vehicle-Network-Standards/docs/XCP/Kalibrierkonzepte/parameter-ram"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kalibrierkonzepte in Steuergeräten: Parameter im RAM</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#einleitung" class="table-of-contents__link toc-highlight">Einleitung</a></li><li><a href="#grundlagen-der-parameterkalibrierung" class="table-of-contents__link toc-highlight">Grundlagen der Parameterkalibrierung</a></li><li><a href="#iterativer-kalibrierprozess" class="table-of-contents__link toc-highlight">Iterativer Kalibrierprozess</a></li><li><a href="#fragestellungen-eines-kalibrierkonzepts" class="table-of-contents__link toc-highlight">Fragestellungen eines Kalibrierkonzepts</a></li><li><a href="#transparente-vs-nicht-transparente-kalibrierkonzepte" class="table-of-contents__link toc-highlight">Transparente vs. Nicht transparente Kalibrierkonzepte</a></li><li><a href="#parameter-im-flash-speicher" class="table-of-contents__link toc-highlight">Parameter im Flash-Speicher</a><ul><li><a href="#definition-und-speicherung" class="table-of-contents__link toc-highlight">Definition und Speicherung</a></li><li><a href="#kalibrierung-im-flash" class="table-of-contents__link toc-highlight">Kalibrierung im Flash</a></li><li><a href="#speicherplatz-und-zugriff" class="table-of-contents__link toc-highlight">Speicherplatz und Zugriff</a></li><li><a href="#online-kalibrierung-im-flash" class="table-of-contents__link toc-highlight">Online-Kalibrierung im Flash</a></li></ul></li><li><a href="#nutzung-von-eeprom-speicher" class="table-of-contents__link toc-highlight">Nutzung von EEPROM-Speicher</a></li><li><a href="#eeprom-emulation" class="table-of-contents__link toc-highlight">EEPROM-Emulation</a></li><li><a href="#integration-von-xcp-in-kalibrierkonzepte" class="table-of-contents__link toc-highlight">Integration von XCP in Kalibrierkonzepte</a><ul><li><a href="#xcp-architektur-und--funktionen" class="table-of-contents__link toc-highlight">XCP-Architektur und -Funktionen</a></li><li><a href="#implementierung-von-transparenten-kalibrierkonzepten-mit-xcp" class="table-of-contents__link toc-highlight">Implementierung von transparenten Kalibrierkonzepten mit XCP</a></li><li><a href="#herausforderungen-und-lösungen-bei-nicht-transparenten-kalibrierkonzepten" class="table-of-contents__link toc-highlight">Herausforderungen und Lösungen bei nicht transparenten Kalibrierkonzepten</a></li></ul></li><li><a href="#optimierung-der-speicherressourcen" class="table-of-contents__link toc-highlight">Optimierung der Speicherressourcen</a></li><li><a href="#persistenz-der-parameteränderungen" class="table-of-contents__link toc-highlight">Persistenz der Parameteränderungen</a></li><li><a href="#fazit" class="table-of-contents__link toc-highlight">Fazit</a></li><li><a href="#ausblick" class="table-of-contents__link toc-highlight">Ausblick</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Protocols</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">CAN</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">LIN</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">FlexRay</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/intro">Ethernet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Diagnostic</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/UDS/Getting-Started">UDS</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/UDS/Getting-Started">DoIP</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/UDS/Getting-Started">SOVD</a></li></ul></div><div class="col footer__col"><div class="footer__title">Architecture</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/AUTOSAR/Getting-Started">AUTOSAR</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/SOVA/Getting-Started">SOVA</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/SOME-IP/Getting-Started">SOME/IP</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/SOURCES/info">Sources</a></li><li class="footer__item"><a class="footer__link-item" href="/Vehicle-Network-Standards/docs/Glossary/Getting-Started">Glossary</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/Vehicle-Network-Standards" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Vehicle Network Standards.</div></div></div></footer></div>
</body>
</html>