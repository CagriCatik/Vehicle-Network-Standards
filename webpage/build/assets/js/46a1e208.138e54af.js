"use strict";(self.webpackChunkvns=self.webpackChunkvns||[]).push([[294],{55355:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"UDS/examples/ECU-Reset-Example","title":"Examples - 0x11","description":"1.1 Example 1: Soft Reset Request (Sub-function 0x01)","source":"@site/docs/UDS/04_examples/03_ECU-Reset-Example.md","sourceDirName":"UDS/04_examples","slug":"/UDS/examples/ECU-Reset-Example","permalink":"/Vehicle-Network-Standards/docs/UDS/examples/ECU-Reset-Example","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/UDS/04_examples/03_ECU-Reset-Example.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"udsSidebar","previous":{"title":"Examples - 0x19","permalink":"/Vehicle-Network-Standards/docs/UDS/examples/Control-DTC-Example"},"next":{"title":"Examples - 0x27","permalink":"/Vehicle-Network-Standards/docs/UDS/examples/Security-Access"}}');var r=n(74848),i=n(28453);const o={sidebar_position:3},a="Examples - 0x11",l={},c=[{value:"1.1 Example 1: Soft Reset Request (Sub-function 0x01)",id:"11-example-1-soft-reset-request-sub-function-0x01",level:2},{value:"1.2 Example 2: Hard Reset Request (Sub-function 0x02)",id:"12-example-2-hard-reset-request-sub-function-0x02",level:2},{value:"2.1 Example 1: Positive Response (0x00)",id:"21-example-1-positive-response-0x00",level:2},{value:"2.2 Example 2: Negative Response with Error Code (0x11)",id:"22-example-2-negative-response-with-error-code-0x11",level:2},{value:"3.1 Example 1: Timeout Error (0x33)",id:"31-example-1-timeout-error-0x33",level:2},{value:"3.2 Example 2: Invalid Reset Sub-function (0x12)",id:"32-example-2-invalid-reset-sub-function-0x12",level:2},{value:"4.1 Use Case 1: Post-Update ECU Reset",id:"41-use-case-1-post-update-ecu-reset",level:2},{value:"4.2 Use Case 2: Error Recovery",id:"42-use-case-2-error-recovery",level:2},{value:"4.3 Use Case 3: Diagnostic Testing",id:"43-use-case-3-diagnostic-testing",level:2},{value:"6.1 Example Code to Send ECU Reset Request in Python",id:"61-example-code-to-send-ecu-reset-request-in-python",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"examples---0x11",children:"Examples - 0x11"})}),"\n",(0,r.jsx)(s.h2,{id:"11-example-1-soft-reset-request-sub-function-0x01",children:"1.1 Example 1: Soft Reset Request (Sub-function 0x01)"}),"\n",(0,r.jsx)(s.p,{children:"In this case, we send a soft reset request to the ECU, which will reinitialize the ECU's internal software without powering it off."}),"\n",(0,r.jsx)(s.p,{children:"Request Message Format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"[0x11] [0x01]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"0x11: Service Identifier for ECU Reset."}),"\n",(0,r.jsx)(s.li,{children:"0x01: Sub-function for soft reset."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This request asks the ECU to perform a soft reset. The ECU will clear internal states and reinitialize its software."}),"\n",(0,r.jsx)(s.h2,{id:"12-example-2-hard-reset-request-sub-function-0x02",children:"1.2 Example 2: Hard Reset Request (Sub-function 0x02)"}),"\n",(0,r.jsx)(s.p,{children:"In this case, we send a hard reset request to the ECU. This would involve a complete power cycle of the ECU to restart its hardware and software."}),"\n",(0,r.jsx)(s.p,{children:"Request Message Format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"[0x11] [0x02]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"0x11: Service Identifier for ECU Reset."}),"\n",(0,r.jsx)(s.li,{children:"0x02: Sub-function for hard reset."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This request instructs the ECU to perform a hard reset. It will power cycle the ECU, effectively restarting the ECU at a hardware level."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h1,{id:"2-ecu-reset-response-examples",children:"2. ECU Reset Response Examples"}),"\n",(0,r.jsx)(s.h2,{id:"21-example-1-positive-response-0x00",children:"2.1 Example 1: Positive Response (0x00)"}),"\n",(0,r.jsx)(s.p,{children:"If the ECU successfully processes the reset request (either soft or hard), it sends a positive response back to the diagnostic tool."}),"\n",(0,r.jsx)(s.p,{children:"Response Message Format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"[0x11] [0x00]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"0x11: Service Identifier for ECU Reset."}),"\n",(0,r.jsx)(s.li,{children:"0x00: Positive response, indicating the ECU reset was successful."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This message indicates that the reset was successfully executed. The ECU is now either soft or hard reset, depending on the request."}),"\n",(0,r.jsx)(s.h2,{id:"22-example-2-negative-response-with-error-code-0x11",children:"2.2 Example 2: Negative Response with Error Code (0x11)"}),"\n",(0,r.jsx)(s.p,{children:"If the ECU cannot perform the reset, it sends a negative response with an appropriate error code. The error code will help identify the reason for the failure."}),"\n",(0,r.jsx)(s.p,{children:"Response Message Format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"[0x11] [0x11] [0x22]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"0x11: Service Identifier for ECU Reset."}),"\n",(0,r.jsx)(s.li,{children:"0x11: Negative response, indicating an error occurred."}),"\n",(0,r.jsx)(s.li,{children:"0x22: Error code indicating that conditions were not correct for the requested service."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Explanation of Error Code (0x22):"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:'0x22: "Conditions Not Correct for Requested Service." This error could occur if the ECU is in a state that prevents a reset, such as during critical operations or while the ECU is locked.'}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h1,{id:"3-error-handling-example",children:"3. Error Handling Example"}),"\n",(0,r.jsx)(s.p,{children:"When a diagnostic tool receives a negative response, it must handle the error appropriately. Below is an example of how the tool might respond to a timeout error or incorrect state."}),"\n",(0,r.jsx)(s.h2,{id:"31-example-1-timeout-error-0x33",children:"3.1 Example 1: Timeout Error (0x33)"}),"\n",(0,r.jsxs)(s.p,{children:["If there\u2019s a timeout in communication between the diagnostic tool and the ECU, a timeout error (",(0,r.jsx)(s.code,{children:"0x33"}),") might be returned. This error typically occurs if the ECU does not respond within the expected timeframe."]}),"\n",(0,r.jsx)(s.p,{children:"Response Message Format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"[0x11] [0x11] [0x33]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"0x11: Service Identifier for ECU Reset."}),"\n",(0,r.jsx)(s.li,{children:"0x11: Negative response."}),"\n",(0,r.jsx)(s.li,{children:"0x33: Error code indicating a timeout."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Explanation of Error Code (0x33):"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:'0x33: "ECU Communication Timeout." This error happens when the ECU fails to respond to the reset request within the specified time window, often due to ECU malfunctions or communication issues.'}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"32-example-2-invalid-reset-sub-function-0x12",children:"3.2 Example 2: Invalid Reset Sub-function (0x12)"}),"\n",(0,r.jsxs)(s.p,{children:["If the diagnostic tool requests a reset type (sub-function) that the ECU does not support, an error code ",(0,r.jsx)(s.code,{children:"0x12"})," may be returned."]}),"\n",(0,r.jsx)(s.p,{children:"Response Message Format:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"[0x11] [0x11] [0x12]\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"0x11: Service Identifier for ECU Reset."}),"\n",(0,r.jsx)(s.li,{children:"0x11: Negative response."}),"\n",(0,r.jsx)(s.li,{children:"0x12: Error code indicating the requested sub-function is not supported by the ECU."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Explanation of Error Code (0x12):"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:'0x12: "Sub-function Not Supported." This occurs when the ECU does not support the specific reset type requested (e.g., the ECU may only support a soft reset and the diagnostic tool requests a hard reset).'}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h1,{id:"4-practical-use-cases-for-ecu-reset",children:"4. Practical Use Cases for ECU Reset"}),"\n",(0,r.jsx)(s.h2,{id:"41-use-case-1-post-update-ecu-reset",children:"4.1 Use Case 1: Post-Update ECU Reset"}),"\n",(0,r.jsx)(s.p,{children:"In this scenario, the ECU has just been flashed with a firmware update. A hard reset is required to apply the update and restart the ECU with the new software."}),"\n",(0,r.jsx)(s.p,{children:"Request Example: A diagnostic tool sends the following message to trigger the reset:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x02\n"})}),"\n",(0,r.jsx)(s.p,{children:"This sends a hard reset request to the ECU."}),"\n",(0,r.jsx)(s.p,{children:"Response Example: The ECU responds with:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x00\n"})}),"\n",(0,r.jsx)(s.p,{children:"This indicates that the hard reset was successfully performed and the ECU has rebooted with the new software."}),"\n",(0,r.jsx)(s.h2,{id:"42-use-case-2-error-recovery",children:"4.2 Use Case 2: Error Recovery"}),"\n",(0,r.jsx)(s.p,{children:"The ECU has entered an error state due to a software issue. A soft reset is requested to restore it to normal operation."}),"\n",(0,r.jsx)(s.p,{children:"Request Example: A diagnostic tool sends:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x01\n"})}),"\n",(0,r.jsx)(s.p,{children:"This sends a soft reset request to the ECU."}),"\n",(0,r.jsx)(s.p,{children:"Response Example: The ECU successfully resets:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x00\n"})}),"\n",(0,r.jsx)(s.p,{children:"The ECU reinitializes its software, clears error states, and returns to normal operation."}),"\n",(0,r.jsx)(s.h2,{id:"43-use-case-3-diagnostic-testing",children:"4.3 Use Case 3: Diagnostic Testing"}),"\n",(0,r.jsx)(s.p,{children:"During diagnostic testing, the ECU may be reset to verify that it can handle errors, recover from failures, and perform properly after a reset."}),"\n",(0,r.jsx)(s.p,{children:"Request Example: The diagnostic tool sends a hard reset to verify that the ECU can recover from a critical state:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x02\n"})}),"\n",(0,r.jsx)(s.p,{children:"Response Example: The ECU successfully processes the reset:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x00\n"})}),"\n",(0,r.jsx)(s.p,{children:"The test confirms that the ECU is able to return to a functional state after the reset."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h1,{id:"5-example-of-a-full-diagnostic-session-for-ecu-reset",children:"5. Example of a Full Diagnostic Session for ECU Reset"}),"\n",(0,r.jsx)(s.p,{children:"Here\u2019s an example of a full diagnostic session involving an ECU reset, starting from the initial session request to the final reset request and response."}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Diagnostic Session Start (0x10)\r\nThe diagnostic tool starts a session with the ECU to prepare for diagnostic communication."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x10 0x01\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"ECU Reset Request (Soft Reset, 0x11 0x01)\r\nThe diagnostic tool sends a soft reset request to the ECU:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x01\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"ECU Response (Successful Soft Reset)\r\nThe ECU successfully processes the reset:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x11 0x00\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Diagnostic Session End (0x50)\r\nThe diagnostic session ends after the reset operation is complete:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-plaintext",children:"0x50 0x00\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This full sequence illustrates a typical ECU reset scenario, including starting the diagnostic session, requesting a reset, receiving a successful response, and then closing the session."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h1,{id:"6-using-uds-libraries-to-implement-ecu-reset-in-python",children:"6. Using UDS Libraries to Implement ECU Reset in Python"}),"\n",(0,r.jsxs)(s.p,{children:["If you're implementing a custom diagnostic tool to interact with ECUs, libraries like ",(0,r.jsx)(s.code,{children:"python-uds"})," can be used to send and receive ECU reset requests."]}),"\n",(0,r.jsx)(s.h2,{id:"61-example-code-to-send-ecu-reset-request-in-python",children:"6.1 Example Code to Send ECU Reset Request in Python"}),"\n",(0,r.jsxs)(s.p,{children:["Here is a simple Python code snippet to send a soft reset request using the ",(0,r.jsx)(s.code,{children:"python-uds"})," library:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:'import uds\r\nfrom uds.services import Reset\r\n\r\n# Initialize UDS Client and connect to ECU\r\nclient = uds.Client(\'can0\')  # Replace with your CAN interface\r\n\r\n# Send soft reset request (0x01) to the ECU\r\nreset_service = Reset(client)\r\nresponse = reset_service.reset(0x01)  # Soft Reset (0x01)\r\n\r\n# Check the response\r\nif response.is_success():\r\n    print("ECU successfully reset!")\r\nelse:\r\n    print(f"Failed to reset ECU. Error code: {response.error_code}")\n'})}),"\n",(0,r.jsx)(s.p,{children:"This script connects to the ECU over the CAN network, sends a soft reset request (0x01), and prints the result based on the response."})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var t=n(96540);const r={},i=t.createContext(r);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);